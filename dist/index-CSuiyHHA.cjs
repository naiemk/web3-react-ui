"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("./index-DgutiFRJ.cjs"),p=require("./number-CKS_4Hjv.cjs");function tn(e,t){const r=e.exec(t);return r==null?void 0:r.groups}const Ct=/^tuple(?<array>(\[(\d*)\])*)$/;function et(e){let t=e.type;if(Ct.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let o=0;o<r;o++){const s=e.components[o];t+=et(s),o<r-1&&(t+=", ")}const n=tn(Ct,e.type);return t+=`)${(n==null?void 0:n.array)??""}`,et({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ge(e){let t="";const r=e.length;for(let n=0;n<r;n++){const o=e[n];t+=et(o),n!==r-1&&(t+=", ")}return t}function rn(e){return e.type==="function"?`function ${e.name}(${ge(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ge(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ge(e.inputs)})`:e.type==="error"?`error ${e.name}(${ge(e.inputs)})`:e.type==="constructor"?`constructor(${ge(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function A(e,t,r){return n=>{var o,s;return((o=e[t.name])==null?void 0:o.call(e,n))??((s=e[r])==null?void 0:s.call(e,n))??t(e,n)}}function $(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new er(e.type);return`${e.name}(${Me(e.inputs,{includeName:t})})`}function Me(e,{includeName:t=!1}={}){return e?e.map(r=>nn(r,{includeName:t})).join(t?", ":","):""}function nn(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Me(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class _t extends u.BaseError{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class tt extends u.BaseError{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class dt extends u.BaseError{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Me(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}}class xe extends u.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Ut extends u.BaseError{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Vt extends u.BaseError{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${u.size(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Wt extends u.BaseError{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class lt extends u.BaseError{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Jt extends u.BaseError{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class ft extends u.BaseError{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class rt extends u.BaseError{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class ve extends u.BaseError{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Zt extends u.BaseError{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class on extends u.BaseError{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${$(t.abiItem)}\`, and`,`\`${r.type}\` in \`${$(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Yt extends u.BaseError{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class ee extends u.BaseError{constructor({abiItem:t,data:r,params:n,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Me(n,{includeName:!0})})`,`Data:   ${r} (${o} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=o}}class Te extends u.BaseError{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${$(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Kt extends u.BaseError{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Qt extends u.BaseError{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Xt extends u.BaseError{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class er extends u.BaseError{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class tr extends u.BaseError{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const sn=e=>p.keccak256(u.toBytes(e));function an(e){return sn(e)}function cn(e){let t=!0,r="",n=0,o="",s=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&n++,i===")"&&n--,!!t){if(n===0){if(i===" "&&["event","function",""].includes(o))o="";else if(o+=i,i===")"){s=!0;break}continue}if(i===" "){e[a-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}o+=i,r+=i}}if(!s)throw new u.BaseError("Unable to normalize signature.");return o}const Pe=e=>{const t=typeof e=="string"?e:rn(e);return cn(t)};function He(e){return an(Pe(e))}const Ae=He;function W(e,t){if(e.length!==t.length)throw new Wt({expectedLength:e.length,givenLength:t.length});const r=un({params:e,values:t}),n=pt(r);return n.length===0?"0x":n}function un({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(bt({param:e[n],value:t[n]}));return r}function bt({param:e,value:t}){const r=ht(e.type);if(r){const[n,o]=r;return ln(t,{length:n,param:{...e,type:o}})}if(e.type==="tuple")return mn(t,{param:e});if(e.type==="address")return dn(t);if(e.type==="bool")return bn(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int");return pn(t,{signed:n})}if(e.type.startsWith("bytes"))return fn(t,{param:e});if(e.type==="string")return hn(t);throw new Kt(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function pt(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:i}=e[s];a?t+=32:t+=u.size(i)}const r=[],n=[];let o=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:i}=e[s];a?(r.push(u.numberToHex(t+o,{size:32})),n.push(i),o+=u.size(i)):r.push(i)}return p.concat([...r,...n])}function dn(e){if(!p.isAddress(e))throw new p.InvalidAddressError({address:e});return{dynamic:!1,encoded:u.padHex(e.toLowerCase())}}function ln(e,{length:t,param:r}){const n=t===null;if(!Array.isArray(e))throw new Xt(e);if(!n&&e.length!==t)throw new Ut({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1;const s=[];for(let a=0;a<e.length;a++){const i=bt({param:r,value:e[a]});i.dynamic&&(o=!0),s.push(i)}if(n||o){const a=pt(s);if(n){const i=u.numberToHex(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?p.concat([i,a]):i}}if(o)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:p.concat(s.map(({encoded:a})=>a))}}function fn(e,{param:t}){const[,r]=t.type.split("bytes"),n=u.size(e);if(!r){let o=e;return n%32!==0&&(o=u.padHex(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:p.concat([u.padHex(u.numberToHex(n,{size:32})),o])}}if(n!==Number.parseInt(r))throw new Vt({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:u.padHex(e,{dir:"right"})}}function bn(e){if(typeof e!="boolean")throw new u.BaseError(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:u.padHex(u.boolToHex(e))}}function pn(e,{signed:t}){return{dynamic:!1,encoded:u.numberToHex(e,{size:32,signed:t})}}function hn(e){const t=u.stringToHex(e),r=Math.ceil(u.size(t)/32),n=[];for(let o=0;o<r;o++)n.push(u.padHex(p.slice(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:p.concat([u.padHex(u.numberToHex(u.size(t),{size:32})),...n])}}function mn(e,{param:t}){let r=!1;const n=[];for(let o=0;o<t.components.length;o++){const s=t.components[o],a=Array.isArray(e)?o:s.name,i=bt({param:s,value:e[a]});n.push(i),i.dynamic&&(r=!0)}return{dynamic:r,encoded:r?pt(n):p.concat(n.map(({encoded:o})=>o))}}function ht(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Be=e=>p.slice(He(e),0,4);function me(e){const{abi:t,args:r=[],name:n}=e,o=u.isHex(n,{strict:!1}),s=t.filter(i=>o?i.type==="function"?Be(i)===n:i.type==="event"?Ae(i)===n:!1:"name"in i&&i.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const i of s){if(!("inputs"in i))continue;if(!r||r.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==r.length)continue;if(r.every((d,f)=>{const b="inputs"in i&&i.inputs[f];return b?nt(d,b):!1})){if(a&&"inputs"in a&&a.inputs){const d=rr(i.inputs,a.inputs,r);if(d)throw new on({abiItem:i,type:d[0]},{abiItem:a,type:d[1]})}a=i}}return a||s[0]}function nt(e,t){const r=typeof e,n=t.type;switch(n){case"address":return p.isAddress(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,s)=>nt(Object.values(e)[s],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>nt(o,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function rr(e,t,r){for(const n in e){const o=e[n],s=t[n];if(o.type==="tuple"&&s.type==="tuple"&&"components"in o&&"components"in s)return rr(o.components,s.components,r[n]);const a=[o.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?p.isAddress(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?p.isAddress(r[n],{strict:!1}):!1)return a}}const It="/docs/contract/encodeEventTopics";function ye(e){var c;const{abi:t,eventName:r,args:n}=e;let o=t[0];if(r){const d=me({abi:t,name:r});if(!d)throw new rt(r,{docsPath:It});o=d}if(o.type!=="event")throw new rt(void 0,{docsPath:It});const s=$(o),a=Ae(s);let i=[];if(n&&"inputs"in o){const d=(c=o.inputs)==null?void 0:c.filter(b=>"indexed"in b&&b.indexed),f=Array.isArray(n)?n:Object.values(n).length>0?(d==null?void 0:d.map(b=>n[b.name]))??[]:[];f.length>0&&(i=(d==null?void 0:d.map((b,l)=>Array.isArray(f[l])?f[l].map((m,y)=>Ot({param:b,value:f[l][y]})):f[l]?Ot({param:b,value:f[l]}):null))??[])}return[a,...i]}function Ot({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return p.keccak256(u.toBytes(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new tr(e.type);return W([e],[t])}function ze(e,{method:t}){var n,o;const r={};return e.transport.type==="fallback"&&((o=(n=e.transport).onResponse)==null||o.call(n,({method:s,response:a,status:i,transport:c})=>{i==="success"&&t===s&&(r[a]=c.request)})),s=>r[s]||e.request}async function nr(e,t){const{address:r,abi:n,args:o,eventName:s,fromBlock:a,strict:i,toBlock:c}=t,d=ze(e,{method:"eth_newFilter"}),f=s?ye({abi:n,args:o,eventName:s}):void 0,b=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?u.numberToHex(a):a,toBlock:typeof c=="bigint"?u.numberToHex(c):c,topics:f}]});return{abi:n,args:o,eventName:s,id:b,request:d(b),strict:!!i,type:"event"}}function G(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const St="/docs/contract/encodeFunctionData";function or(e){const{abi:t,args:r,functionName:n}=e;let o=t[0];if(n){const s=me({abi:t,args:r,name:n});if(!s)throw new ve(n,{docsPath:St});o=s}if(o.type!=="function")throw new ve(void 0,{docsPath:St});return{abi:[o],functionName:Be($(o))}}function _(e){const{args:t}=e,{abi:r,functionName:n}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:or(e)})(),o=r[0],s=n,a="inputs"in o&&o.inputs?W(o.inputs,t??[]):void 0;return p.concatHex([s,a??"0x"])}const sr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},yn={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},gn={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ar(e,t={}){typeof t.size<"u"&&u.assertSize(e,{size:t.size});const r=u.bytesToHex(e,t);return u.hexToBigInt(r,t)}function ir(e,t={}){let r=e;if(typeof t.size<"u"&&(u.assertSize(r,{size:t.size}),r=u.trim(r)),r.length>1||r[0]>1)throw new u.InvalidBytesBooleanError(r);return!!r[0]}function j(e,t={}){typeof t.size<"u"&&u.assertSize(e,{size:t.size});const r=u.bytesToHex(e,t);return u.hexToNumber(r,t)}function cr(e,t={}){let r=e;return typeof t.size<"u"&&(u.assertSize(r,{size:t.size}),r=u.trim(r,{dir:"right"})),new TextDecoder().decode(r)}function ke(e,t){const r=typeof t=="string"?u.hexToBytes(t):t,n=p.createCursor(r);if(u.size(r)===0&&e.length>0)throw new xe;if(u.size(t)&&u.size(t)<32)throw new dt({data:typeof t=="string"?t:u.bytesToHex(t),params:e,size:u.size(t)});let o=0;const s=[];for(let a=0;a<e.length;++a){const i=e[a];n.setPosition(o);const[c,d]=X(n,i,{staticPosition:0});o+=d,s.push(c)}return s}function X(e,t,{staticPosition:r}){const n=ht(t.type);if(n){const[o,s]=n;return vn(e,{...t,type:s},{length:o,staticPosition:r})}if(t.type==="tuple")return Pn(e,t,{staticPosition:r});if(t.type==="address")return wn(e);if(t.type==="bool")return En(e);if(t.type.startsWith("bytes"))return xn(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Tn(e,t);if(t.type==="string")return An(e,{staticPosition:r});throw new Qt(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const jt=32,ot=32;function wn(e){const t=e.readBytes(32);return[p.checksumAddress(u.bytesToHex(p.sliceBytes(t,-20))),32]}function vn(e,t,{length:r,staticPosition:n}){if(!r){const a=j(e.readBytes(ot)),i=n+a,c=i+jt;e.setPosition(i);const d=j(e.readBytes(jt)),f=Ee(t);let b=0;const l=[];for(let m=0;m<d;++m){e.setPosition(c+(f?m*32:b));const[y,h]=X(e,t,{staticPosition:c});b+=h,l.push(y)}return e.setPosition(n+32),[l,32]}if(Ee(t)){const a=j(e.readBytes(ot)),i=n+a,c=[];for(let d=0;d<r;++d){e.setPosition(i+d*32);const[f]=X(e,t,{staticPosition:i});c.push(f)}return e.setPosition(n+32),[c,32]}let o=0;const s=[];for(let a=0;a<r;++a){const[i,c]=X(e,t,{staticPosition:n+o});o+=c,s.push(i)}return[s,o]}function En(e){return[ir(e.readBytes(32),{size:32}),32]}function xn(e,t,{staticPosition:r}){const[n,o]=t.type.split("bytes");if(!o){const a=j(e.readBytes(32));e.setPosition(r+a);const i=j(e.readBytes(32));if(i===0)return e.setPosition(r+32),["0x",32];const c=e.readBytes(i);return e.setPosition(r+32),[u.bytesToHex(c),32]}return[u.bytesToHex(e.readBytes(Number.parseInt(o),32)),32]}function Tn(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),o=e.readBytes(32);return[n>48?ar(o,{signed:r}):j(o,{signed:r}),32]}function Pn(e,t,{staticPosition:r}){const n=t.components.length===0||t.components.some(({name:a})=>!a),o=n?[]:{};let s=0;if(Ee(t)){const a=j(e.readBytes(ot)),i=r+a;for(let c=0;c<t.components.length;++c){const d=t.components[c];e.setPosition(i+s);const[f,b]=X(e,d,{staticPosition:i});s+=b,o[n?c:d==null?void 0:d.name]=f}return e.setPosition(r+32),[o,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,d]=X(e,i,{staticPosition:r});o[n?a:i==null?void 0:i.name]=c,s+=d}return[o,s]}function An(e,{staticPosition:t}){const r=j(e.readBytes(32)),n=t+r;e.setPosition(n);const o=j(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];const s=e.readBytes(o,32),a=cr(u.trim(s));return e.setPosition(t+32),[a,32]}function Ee(e){var n;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(n=e.components)==null?void 0:n.some(Ee);const r=ht(e.type);return!!(r&&Ee({...e,type:r[1]}))}function mt(e){const{abi:t,data:r}=e,n=p.slice(r,0,4);if(n==="0x")throw new xe;const s=[...t||[],yn,gn].find(a=>a.type==="error"&&n===Be($(a)));if(!s)throw new lt(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ke(s.inputs,p.slice(r,4)):void 0,errorName:s.name}}const C=(e,t,r)=>JSON.stringify(e,(n,o)=>typeof o=="bigint"?o.toString():o,r);function ur({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((o,s)=>`${n&&o.name?`${o.name}: `:""}${typeof t[s]=="object"?C(t[s]):t[s]}`).join(", ")})`}class dr extends u.BaseError{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class lr extends u.BaseError{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function $t(e){return e.reduce((t,{slot:r,value:n})=>`${t}        ${r}: ${n}
`,"")}function Bn(e){return e.reduce((t,{address:r,...n})=>{let o=`${t}    ${r}:
`;return n.nonce&&(o+=`      nonce: ${n.nonce}
`),n.balance&&(o+=`      balance: ${n.balance}
`),n.code&&(o+=`      code: ${n.code}
`),n.state&&(o+=`      state:
`,o+=$t(n.state)),n.stateDiff&&(o+=`      stateDiff:
`,o+=$t(n.stateDiff)),o},`  State Override:
`).slice(0,-1)}class yt extends u.BaseError{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:f,to:b,value:l,stateOverride:m}){var w;const y=r?G(r):void 0;let h=p.prettyPrint({from:y==null?void 0:y.address,to:b,value:typeof l<"u"&&`${u.formatEther(l)} ${((w=o==null?void 0:o.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${p.formatGwei(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${p.formatGwei(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${p.formatGwei(d)} gwei`,nonce:f});m&&(h+=`
${Bn(m)}`),super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class fr extends u.BaseError{constructor(t,{abi:r,args:n,contractAddress:o,docsPath:s,functionName:a,sender:i}){const c=me({abi:r,args:n,name:a}),d=c?ur({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,f=c?$(c,{includeName:!0}):void 0,b=p.prettyPrint({address:o&&u.getContractAddress(o),function:f,args:d&&d!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",b].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=o,this.functionName=a,this.sender=i}}class Se extends u.BaseError{constructor({abi:t,data:r,functionName:n,message:o}){let s,a,i,c;if(r&&r!=="0x")try{a=mt({abi:t,data:r});const{abiItem:f,errorName:b,args:l}=a;if(b==="Error")c=l[0];else if(b==="Panic"){const[m]=l;c=sr[m]}else{const m=f?$(f,{includeName:!0}):void 0,y=f&&l?ur({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[m?`Error: ${m}`:"",y&&y!=="()"?`       ${[...Array((b==null?void 0:b.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(f){s=f}else o&&(c=o);let d;s instanceof lt&&(d=s.signature,i=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${n}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=d}}class br extends u.BaseError{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class De extends u.BaseError{constructor({data:t,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class M extends u.BaseError{constructor({body:t,details:r,headers:n,status:o,url:s}){super("HTTP request failed.",{details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${u.getUrl(s)}`,t&&`Request body: ${C(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=o,this.url=s}}class gt extends u.BaseError{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${u.getUrl(n)}`,`Request body: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class st extends u.BaseError{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${u.getUrl(r)}`,`Request body: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const kn=-1;class S extends u.BaseError{constructor(t,{code:r,docsPath:n,metaMessages:o,shortMessage:s}){super(s,{cause:t,docsPath:n,metaMessages:o||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof gt?t.code:r??kn}}class J extends S{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class te extends S{constructor(t){super(t,{code:te.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class re extends S{constructor(t){super(t,{code:re.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(re,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ne extends S{constructor(t){super(t,{code:ne.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class oe extends S{constructor(t){super(t,{code:oe.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class H extends S{constructor(t){super(t,{code:H.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(H,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class z extends S{constructor(t){super(t,{code:z.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class se extends S{constructor(t){super(t,{code:se.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(se,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ae extends S{constructor(t){super(t,{code:ae.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ie extends S{constructor(t){super(t,{code:ie.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ce extends S{constructor(t){super(t,{code:ce.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class V extends S{constructor(t){super(t,{code:V.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ue extends S{constructor(t){super(t,{code:ue.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class U extends J{constructor(t){super(t,{code:U.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class de extends J{constructor(t){super(t,{code:de.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class le extends J{constructor(t){super(t,{code:le.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class fe extends J{constructor(t){super(t,{code:fe.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class be extends J{constructor(t){super(t,{code:be.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(be,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class pe extends J{constructor(t){super(t,{code:pe.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(pe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class pr extends S{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Rn=3;function he(e,{abi:t,address:r,args:n,docsPath:o,functionName:s,sender:a}){const{code:i,data:c,message:d,shortMessage:f}=e instanceof De?e:e instanceof u.BaseError?e.walk(l=>"data"in l)||e.walk():{},b=e instanceof xe?new br({functionName:s}):[Rn,H.code].includes(i)&&(c||d||f)?new Se({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:f??d}):e;return new fr(b,{abi:t,args:n,contractAddress:r,docsPath:o,functionName:s,sender:a})}class hr extends u.BaseError{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:f,to:b,value:l}){var y;const m=p.prettyPrint({from:r==null?void 0:r.address,to:b,value:typeof l<"u"&&`${u.formatEther(l)} ${((y=o==null?void 0:o.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${p.formatGwei(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${p.formatGwei(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${p.formatGwei(d)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}function mr(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof u.BaseError?e.walk(o=>o.code===p.ExecutionRevertedError.code):e;return n instanceof u.BaseError?new p.ExecutionRevertedError({cause:e,message:n.details}):p.ExecutionRevertedError.nodeMessage.test(r)?new p.ExecutionRevertedError({cause:e,message:e.details}):p.FeeCapTooHighError.nodeMessage.test(r)?new p.FeeCapTooHighError({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):p.FeeCapTooLowError.nodeMessage.test(r)?new p.FeeCapTooLowError({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):p.NonceTooHighError.nodeMessage.test(r)?new p.NonceTooHighError({cause:e,nonce:t==null?void 0:t.nonce}):p.NonceTooLowError.nodeMessage.test(r)?new p.NonceTooLowError({cause:e,nonce:t==null?void 0:t.nonce}):p.NonceMaxValueError.nodeMessage.test(r)?new p.NonceMaxValueError({cause:e,nonce:t==null?void 0:t.nonce}):p.InsufficientFundsError.nodeMessage.test(r)?new p.InsufficientFundsError({cause:e}):p.IntrinsicGasTooHighError.nodeMessage.test(r)?new p.IntrinsicGasTooHighError({cause:e,gas:t==null?void 0:t.gas}):p.IntrinsicGasTooLowError.nodeMessage.test(r)?new p.IntrinsicGasTooLowError({cause:e,gas:t==null?void 0:t.gas}):p.TransactionTypeNotSupportedError.nodeMessage.test(r)?new p.TransactionTypeNotSupportedError({cause:e}):p.TipAboveFeeCapError.nodeMessage.test(r)?new p.TipAboveFeeCapError({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new p.UnknownNodeError({cause:e})}function Fn(e,{docsPath:t,...r}){const n=(()=>{const o=mr(e,r);return o instanceof p.UnknownNodeError?e:o})();return new hr(n,{docsPath:t,...r})}function yr(e,{format:t}){if(!t)return{};const r={};function n(s){const a=Object.keys(s);for(const i of a)i in e&&(r[i]=e[i]),s[i]&&typeof s[i]=="object"&&!Array.isArray(s[i])&&n(s[i])}const o=t(e||{});return n(o),r}function Mt(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:n})=>{if(r.length!==66)throw new u.InvalidBytesLengthError({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new u.InvalidBytesLengthError({size:n.length,targetSize:66,type:"hex"});return t[r]=n,t},{})}function Nn(e){const{balance:t,nonce:r,state:n,stateDiff:o,code:s}=e,a={};if(s!==void 0&&(a.code=s),t!==void 0&&(a.balance=u.numberToHex(t)),r!==void 0&&(a.nonce=u.numberToHex(r)),n!==void 0&&(a.state=Mt(n)),o!==void 0){if(a.state)throw new lr;a.stateDiff=Mt(o)}return a}function gr(e){if(!e)return;const t={};for(const{address:r,...n}of e){if(!p.isAddress(r,{strict:!1}))throw new p.InvalidAddressError({address:r});if(t[r])throw new dr({address:r});t[r]=Nn(n)}return t}function qe(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:s}=e,a=t?G(t):void 0;if(a&&!p.isAddress(a.address))throw new p.InvalidAddressError({address:a.address});if(s&&!p.isAddress(s))throw new p.InvalidAddressError({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new p.FeeConflictError;if(n&&n>2n**256n-1n)throw new p.FeeCapTooHighError({maxFeePerGas:n});if(o&&n&&o>n)throw new p.TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:o})}class wr extends u.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Le extends u.BaseError{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class vr extends u.BaseError{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${p.formatGwei(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class wt extends u.BaseError{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function D(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:o}={}){var f,b,l;const s=n??"latest",a=o??!1,i=r!==void 0?u.numberToHex(r):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||s,a]}),!c)throw new wt({blockHash:t,blockNumber:r});return(((l=(b=(f=e.chain)==null?void 0:f.formatters)==null?void 0:b.block)==null?void 0:l.format)||p.formatBlock)(c)}async function vt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Cn(e,t){return Er(e,t)}async function Er(e,t){var s,a,i;const{block:r,chain:n=e.chain,request:o}=t||{};if(typeof((s=n==null?void 0:n.fees)==null?void 0:s.defaultPriorityFee)=="function"){const c=r||await A(e,D,"getBlock")({});return n.fees.defaultPriorityFee({block:c,client:e,request:o})}if(typeof((a=n==null?void 0:n.fees)==null?void 0:a.defaultPriorityFee)<"u")return(i=n==null?void 0:n.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return u.hexToBigInt(c)}catch{const[c,d]=await Promise.all([r?Promise.resolve(r):A(e,D,"getBlock")({}),A(e,vt,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Le;const f=d-c.baseFeePerGas;return f<0n?0n:f}}async function In(e,t){return at(e,t)}async function at(e,t){var l,m;const{block:r,chain:n=e.chain,request:o,type:s="eip1559"}=t||{},a=await(async()=>{var y,h;return typeof((y=n==null?void 0:n.fees)==null?void 0:y.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:o}):((h=n==null?void 0:n.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(a<1)throw new wr;const c=10**(((l=a.toString().split(".")[1])==null?void 0:l.length)??0),d=y=>y*BigInt(Math.ceil(a*c))/BigInt(c),f=r||await A(e,D,"getBlock")({});if(typeof((m=n==null?void 0:n.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const y=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:d,request:o,type:s});if(y!==null)return y}if(s==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Le;const y=typeof(o==null?void 0:o.maxPriorityFeePerGas)=="bigint"?o.maxPriorityFeePerGas:await Er(e,{block:f,chain:n,request:o}),h=d(f.baseFeePerGas);return{maxFeePerGas:(o==null?void 0:o.maxFeePerGas)??h+y,maxPriorityFeePerGas:y}}return{gasPrice:(o==null?void 0:o.gasPrice)??d(await A(e,vt,"getGasPrice")({}))}}async function xr(e,{address:t,blockTag:r="latest",blockNumber:n}){const o=await e.request({method:"eth_getTransactionCount",params:[t,n?u.numberToHex(n):r]});return u.hexToNumber(o)}async function Tr(e){const t=await e.request({method:"eth_chainId"});return u.hexToNumber(t)}const On=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Pr(e,t){const{account:r=e.account,blobs:n,chain:o,chainId:s,gas:a,kzg:i,nonce:c,parameters:d=On,type:f}=t,b=r?G(r):void 0,l={...t,...b?{from:b==null?void 0:b.address}:{}};let m;async function y(){return m||(m=await A(e,D,"getBlock")({blockTag:"latest"}),m)}if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&n&&i){const h=p.blobsToCommitments({blobs:n,kzg:i});if(d.includes("blobVersionedHashes")){const w=p.commitmentsToVersionedHashes({commitments:h,to:"hex"});l.blobVersionedHashes=w}if(d.includes("sidecars")){const w=p.blobsToProofs({blobs:n,commitments:h,kzg:i}),g=p.toBlobSidecars({blobs:n,commitments:h,proofs:w,to:"hex"});l.sidecars=g}}if(d.includes("chainId")&&(o?l.chainId=o.id:typeof s<"u"?l.chainId=s:l.chainId=await A(e,Tr,"getChainId")({})),d.includes("nonce")&&typeof c>"u"&&b&&(l.nonce=await A(e,xr,"getTransactionCount")({address:b.address,blockTag:"pending"})),(d.includes("fees")||d.includes("type"))&&typeof f>"u")try{l.type=p.getTransactionType(l)}catch{const h=await y();l.type=typeof(h==null?void 0:h.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(d.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const h=await y(),{maxFeePerGas:w,maxPriorityFeePerGas:g}=await at(e,{block:h,chain:o,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new vr({maxPriorityFeePerGas:g});l.maxPriorityFeePerGas=g,l.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Le;const h=await y(),{gasPrice:w}=await at(e,{block:h,chain:o,request:l,type:"legacy"});l.gasPrice=w}return d.includes("gas")&&typeof a>"u"&&(l.gas=await A(e,Et,"estimateGas")({...l,account:b?{address:b.address,type:"json-rpc"}:void 0})),qe(l),delete l.parameters,l}async function Et(e,t){var o,s,a;const r=t.account??e.account,n=r?G(r):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:d,blockNumber:f,blockTag:b,data:l,gas:m,gasPrice:y,maxFeePerBlobGas:h,maxFeePerGas:w,maxPriorityFeePerGas:g,nonce:v,to:x,value:E,stateOverride:R,...B}=await Pr(e,{...t,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),P=(f?u.numberToHex(f):void 0)||b,T=gr(R);qe(t);const F=(a=(s=(o=e.chain)==null?void 0:o.formatters)==null?void 0:s.transactionRequest)==null?void 0:a.format,O=(F||p.formatTransactionRequest)({...yr(B,{format:F}),from:n==null?void 0:n.address,accessList:i,blobs:c,blobVersionedHashes:d,data:l,gas:m,gasPrice:y,maxFeePerBlobGas:h,maxFeePerGas:w,maxPriorityFeePerGas:g,nonce:v,to:x,value:E}),I=await e.request({method:"eth_estimateGas",params:T?[O,P??"latest",T]:P?[O,P]:[O]});return BigInt(I)}catch(i){throw Fn(i,{...t,account:n,chain:e.chain})}}async function Sn(e,t){const{abi:r,address:n,args:o,functionName:s,...a}=t,i=_({abi:r,args:o,functionName:s});try{return await A(e,Et,"estimateGas")({data:i,to:n,...a})}catch(c){const d=a.account?G(a.account):void 0;throw he(c,{abi:r,address:n,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:d==null?void 0:d.address})}}const Ht="/docs/contract/decodeEventLog";function Ge(e){const{abi:t,data:r,strict:n,topics:o}=e,s=n??!0,[a,...i]=o;if(!a)throw new Jt({docsPath:Ht});const c=t.find(h=>h.type==="event"&&a===Ae($(h)));if(!(c&&"name"in c)||c.type!=="event")throw new ft(a,{docsPath:Ht});const{name:d,inputs:f}=c,b=f==null?void 0:f.some(h=>!("name"in h&&h.name));let l=b?[]:{};const m=f.filter(h=>"indexed"in h&&h.indexed);for(let h=0;h<m.length;h++){const w=m[h],g=i[h];if(!g)throw new Te({abiItem:c,param:w});l[b?h:w.name||h]=jn({param:w,value:g})}const y=f.filter(h=>!("indexed"in h&&h.indexed));if(y.length>0){if(r&&r!=="0x")try{const h=ke(y,r);if(h)if(b)l=[...l,...h];else for(let w=0;w<y.length;w++)l[y[w].name]=h[w]}catch(h){if(s)throw h instanceof dt||h instanceof p.PositionOutOfBoundsError?new ee({abiItem:c,data:r,params:y,size:u.size(r)}):h}else if(s)throw new ee({abiItem:c,data:"0x",params:y,size:0})}return{eventName:d,args:Object.values(l).length>0?l:void 0}}function jn({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:ke([e],t)[0]}function _e({abi:e,eventName:t,logs:r,strict:n=!0}){return r.map(o=>{var s;try{const a=Ge({...o,abi:e,strict:n});return t&&!t.includes(a.eventName)?null:{...a,...o}}catch(a){let i,c;if(a instanceof ft)return null;if(a instanceof ee||a instanceof Te){if(n)return null;i=a.abiItem.name,c=(s=a.abiItem.inputs)==null?void 0:s.some(d=>!("name"in d&&d.name))}return{...o,args:c?[]:{},eventName:i}}}).filter(Boolean)}async function xt(e,{address:t,blockHash:r,fromBlock:n,toBlock:o,event:s,events:a,args:i,strict:c}={}){const d=c??!1,f=a??(s?[s]:void 0);let b=[];f&&(b=[f.flatMap(y=>ye({abi:[y],eventName:y.name,args:i}))],s&&(b=b[0]));let l;r?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:b,blockHash:r}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:b,fromBlock:typeof n=="bigint"?u.numberToHex(n):n,toBlock:typeof o=="bigint"?u.numberToHex(o):o}]});const m=l.map(y=>p.formatLog(y));return f?_e({abi:f,logs:m,strict:d}):m}async function Ar(e,t){const{abi:r,address:n,args:o,blockHash:s,eventName:a,fromBlock:i,toBlock:c,strict:d}=t,f=a?me({abi:r,name:a}):void 0,b=f?void 0:r.filter(l=>l.type==="event");return A(e,xt,"getLogs")({address:n,args:o,blockHash:s,event:f,events:b,fromBlock:i,toBlock:c,strict:d})}const Ye="/docs/contract/decodeFunctionResult";function Z(e){const{abi:t,args:r,functionName:n,data:o}=e;let s=t[0];if(n){const i=me({abi:t,args:r,name:n});if(!i)throw new ve(n,{docsPath:Ye});s=i}if(s.type!=="function")throw new ve(void 0,{docsPath:Ye});if(!s.outputs)throw new Zt(s.name,{docsPath:Ye});const a=ke(s.outputs,o);if(a.length>1)return a;if(a.length===1)return a[0]}const je=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Br=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],kr=[...Br,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$n=[...Br,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],zt=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Dt=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Mn=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Hn="0x82ad56cb";function Y({blockNumber:e,chain:t,contract:r}){var o;const n=(o=t==null?void 0:t.contracts)==null?void 0:o[r];if(!n)throw new p.ChainDoesNotSupportContract({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new p.ChainDoesNotSupportContract({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function zn(e,{docsPath:t,...r}){const n=(()=>{const o=mr(e,r);return o instanceof p.UnknownNodeError?e:o})();return new yt(n,{docsPath:t,...r})}const Ke=new Map;function Rr({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:o}){const s=async()=>{const f=c();a();const b=f.map(({args:l})=>l);b.length!==0&&e(b).then(l=>{var m;o&&Array.isArray(l)&&l.sort(o);for(let y=0;y<f.length;y++){const{pendingPromise:h}=f[y];(m=h.resolve)==null||m.call(h,[l[y],l])}}).catch(l=>{var m;for(let y=0;y<f.length;y++){const{pendingPromise:h}=f[y];(m=h.reject)==null||m.call(h,l)}})},a=()=>Ke.delete(t),i=()=>c().map(({args:f})=>f),c=()=>Ke.get(t)||[],d=f=>Ke.set(t,[...c(),f]);return{flush:a,async schedule(f){const b={},l=new Promise((h,w)=>{b.resolve=h,b.reject=w});return(r==null?void 0:r([...i(),f]))&&s(),c().length>0?(d({args:f,pendingPromise:b}),l):(d({args:f,pendingPromise:b}),setTimeout(s,n),l)}}}async function Re(e,t){var E,R,B,k;const{account:r=e.account,batch:n=!!((E=e.batch)!=null&&E.multicall),blockNumber:o,blockTag:s="latest",accessList:a,blobs:i,data:c,gas:d,gasPrice:f,maxFeePerBlobGas:b,maxFeePerGas:l,maxPriorityFeePerGas:m,nonce:y,to:h,value:w,stateOverride:g,...v}=t,x=r?G(r):void 0;try{qe(t);const T=(o?u.numberToHex(o):void 0)||s,F=gr(g),N=(k=(B=(R=e.chain)==null?void 0:R.formatters)==null?void 0:B.transactionRequest)==null?void 0:k.format,I=(N||p.formatTransactionRequest)({...yr(v,{format:N}),from:x==null?void 0:x.address,accessList:a,blobs:i,data:c,gas:d,gasPrice:f,maxFeePerBlobGas:b,maxFeePerGas:l,maxPriorityFeePerGas:m,nonce:y,to:h,value:w});if(n&&Dn({request:I})&&!F)try{return await qn(e,{...I,blockNumber:o,blockTag:s})}catch(K){if(!(K instanceof p.ClientChainNotConfiguredError)&&!(K instanceof p.ChainDoesNotSupportContract))throw K}const Ce=await e.request({method:"eth_call",params:F?[I,T,F]:[I,T]});return Ce==="0x"?{data:void 0}:{data:Ce}}catch(P){const T=Ln(P),{offchainLookup:F,offchainLookupSignature:N}=await Promise.resolve().then(()=>Io);if(e.ccipRead!==!1&&(T==null?void 0:T.slice(0,10))===N&&h)return{data:await F(e,{data:T,to:h})};throw zn(P,{...t,account:x,chain:e.chain})}}function Dn({request:e}){const{data:t,to:r,...n}=e;return!(!t||t.startsWith(Hn)||!r||Object.values(n).filter(o=>typeof o<"u").length>0)}async function qn(e,t){var h;const{batchSize:r=1024,wait:n=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:s="latest",data:a,multicallAddress:i,to:c}=t;let d=i;if(!d){if(!e.chain)throw new p.ClientChainNotConfiguredError;d=Y({blockNumber:o,chain:e.chain,contract:"multicall3"})}const b=(o?u.numberToHex(o):void 0)||s,{schedule:l}=Rr({id:`${e.uid}.${b}`,wait:n,shouldSplitBatch(w){return w.reduce((v,{data:x})=>v+(x.length-2),0)>r*2},fn:async w=>{const g=w.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),v=_({abi:je,args:[g],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:v,to:d},b]});return Z({abi:je,args:[g],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:m,success:y}]=await l({data:a,to:c});if(!y)throw new De({data:m});return m==="0x"?{data:void 0}:{data:m}}function Ln(e){var r;if(!(e instanceof u.BaseError))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(r=t.data)==null?void 0:r.data:t.data}async function q(e,t){const{abi:r,address:n,args:o,functionName:s,...a}=t,i=_({abi:r,args:o,functionName:s});try{const{data:c}=await A(e,Re,"call")({...a,data:i,to:n});return Z({abi:r,args:o,functionName:s,data:c||"0x"})}catch(c){throw he(c,{abi:r,address:n,args:o,docsPath:"/docs/contract/readContract",functionName:s})}}async function Gn(e,t){const{abi:r,address:n,args:o,dataSuffix:s,functionName:a,...i}=t,c=i.account?G(i.account):e.account,d=_({abi:r,args:o,functionName:a});try{const{data:f}=await A(e,Re,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:n,...i,account:c}),b=Z({abi:r,args:o,functionName:a,data:f||"0x"}),l=r.filter(m=>"name"in m&&m.name===t.functionName);return{result:b,request:{abi:l,address:n,args:o,dataSuffix:s,functionName:a,...i,account:c}}}catch(f){throw he(f,{abi:r,address:n,args:o,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}const Qe=new Map,qt=new Map;let _n=0;function L(e,t,r){const n=++_n,o=()=>Qe.get(e)||[],s=()=>{const f=o();Qe.set(e,f.filter(b=>b.id!==n))},a=()=>{const f=qt.get(e);o().length===1&&f&&f(),s()},i=o();if(Qe.set(e,[...i,{id:n,fns:t}]),i.length>0)return a;const c={};for(const f in t)c[f]=(...b)=>{var m,y;const l=o();if(l.length!==0)for(const h of l)(y=(m=h.fns)[f])==null||y.call(m,...b)};const d=r(c);return typeof d=="function"&&qt.set(e,d),a}async function it(e){return new Promise(t=>setTimeout(t,e))}function Fe(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let o=!0;const s=()=>o=!1;return(async()=>{let i;t&&(i=await e({unpoll:s}));const c=await(r==null?void 0:r(i))??n;await it(c);const d=async()=>{o&&(await e({unpoll:s}),await it(n),d())};d()})(),s}const Un=new Map,Vn=new Map;function Wn(e){const t=(o,s)=>({clear:()=>s.delete(o),get:()=>s.get(o),set:a=>s.set(o,a)}),r=t(e,Un),n=t(e,Vn);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function Jn(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const n=Wn(t),o=n.response.get();if(o&&r>0&&new Date().getTime()-o.created.getTime()<r)return o.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{const a=await s;return n.response.set({created:new Date,data:a}),a}finally{n.promise.clear()}}const Zn=e=>`blockNumber.${e}`;async function Ne(e,{cacheTime:t=e.cacheTime}={}){const r=await Jn(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Zn(e.uid),cacheTime:t});return BigInt(r)}async function Ue(e,{filter:t}){const r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof n[0]=="string")return n;const o=n.map(s=>p.formatLog(s));return!("abi"in t)||!t.abi?o:_e({abi:t.abi,logs:o,strict:r})}async function Ve(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Yn(e,t){const{abi:r,address:n,args:o,batch:s=!0,eventName:a,fromBlock:i,onError:c,onLogs:d,poll:f,pollingInterval:b=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const w=l??!1,g=C(["watchContractEvent",n,o,s,e.uid,a,b,w,i]);return L(g,{onLogs:d,onError:c},v=>{let x;i!==void 0&&(x=i-1n);let E,R=!1;const B=Fe(async()=>{var k;if(!R){try{E=await A(e,nr,"createContractEventFilter")({abi:r,address:n,args:o,eventName:a,strict:w,fromBlock:i})}catch{}R=!0;return}try{let P;if(E)P=await A(e,Ue,"getFilterChanges")({filter:E});else{const T=await A(e,Ne,"getBlockNumber")({});x&&x!==T?P=await A(e,Ar,"getContractEvents")({abi:r,address:n,args:o,eventName:a,fromBlock:x+1n,toBlock:T,strict:w}):P=[],x=T}if(P.length===0)return;if(s)v.onLogs(P);else for(const T of P)v.onLogs([T])}catch(P){E&&P instanceof z&&(R=!1),(k=v.onError)==null||k.call(v,P)}},{emitOnBegin:!0,interval:b});return async()=>{E&&await A(e,Ve,"uninstallFilter")({filter:E}),B()}})})():(()=>{const w=l??!1,g=C(["watchContractEvent",n,o,s,e.uid,a,b,w]);let v=!0,x=()=>v=!1;return L(g,{onLogs:d,onError:c},E=>((async()=>{try{const R=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(T=>T.config.type==="webSocket");return P?P.value:e.transport}return e.transport})(),B=a?ye({abi:r,eventName:a,args:o}):[],{unsubscribe:k}=await R.subscribe({params:["logs",{address:n,topics:B}],onData(P){var F;if(!v)return;const T=P.result;try{const{eventName:N,args:O}=Ge({abi:r,data:T.data,topics:T.topics,strict:l}),I=p.formatLog(T,{args:O,eventName:N});E.onLogs([I])}catch(N){let O,I;if(N instanceof ee||N instanceof Te){if(l)return;O=N.abiItem.name,I=(F=N.abiItem.inputs)==null?void 0:F.some(K=>!("name"in K&&K.name))}const Ce=p.formatLog(T,{args:I?[]:{},eventName:O});E.onLogs([Ce])}},onError(P){var T;(T=E.onError)==null||T.call(E,P)}});x=k,v||x()}catch(R){c==null||c(R)}})(),()=>x()))})()}async function Kn(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ct=256;let Ie=ct,Oe;function Qn(e=11){if(!Oe||Ie+e>ct*2){Oe="",Ie=0;for(let t=0;t<ct;t++)Oe+=(256+Math.random()*256|0).toString(16).substring(1)}return Oe.substring(Ie,Ie+++e)}function Fr(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:o="base",name:s="Base Client",pollingInterval:a=4e3,type:i="base"}=e,c=e.chain,d=e.account?G(e.account):void 0,{config:f,request:b,value:l}=e.transport({chain:c,pollingInterval:a}),m={...f,...l},y={account:d,batch:t,cacheTime:r,ccipRead:n,chain:c,key:o,name:s,pollingInterval:a,request:b,transport:m,type:i,uid:Qn()};function h(w){return g=>{const v=g(w);for(const E in y)delete v[E];const x={...w,...v};return Object.assign(x,{extend:h(x)})}}return Object.assign(y,{extend:h(y)})}function $e(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((o,s)=>{const a=async({count:i=0}={})=>{const c=async({error:d})=>{const f=typeof t=="function"?t({count:i,error:d}):t;f&&await it(f),a({count:i+1})};try{const d=await e();o(d)}catch(d){if(i<r&&await n({count:i,error:d}))return c({error:d});s(d)}};a()})}function Xn(e,t={}){return async(r,n={})=>{const{retryDelay:o=150,retryCount:s=3}={...t,...n};return $e(async()=>{try{return await e(r)}catch(a){const i=a;switch(i.code){case te.code:throw new te(i);case re.code:throw new re(i);case ne.code:throw new ne(i);case oe.code:throw new oe(i);case H.code:throw new H(i);case z.code:throw new z(i);case se.code:throw new se(i);case ae.code:throw new ae(i);case ie.code:throw new ie(i);case ce.code:throw new ce(i);case V.code:throw new V(i);case ue.code:throw new ue(i);case U.code:throw new U(i);case de.code:throw new de(i);case le.code:throw new le(i);case fe.code:throw new fe(i);case be.code:throw new be(i);case pe.code:throw new pe(i);case 5e3:throw new U(i);default:throw a instanceof u.BaseError?a:new pr(i)}}},{delay:({count:a,error:i})=>{var c;if(i&&i instanceof M){const d=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(d!=null&&d.match(/\d/))return Number.parseInt(d)*1e3}return~~(1<<a)*o},retryCount:s,shouldRetry:({error:a})=>eo(a)})}}function eo(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===V.code||e.code===H.code:e instanceof M&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Nr({key:e,name:t,request:r,retryCount:n=3,retryDelay:o=150,timeout:s,type:a},i){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:o,timeout:s,type:a},request:Xn(r,{retryCount:n,retryDelay:o}),value:i}}class Cr extends u.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Ir(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise((o,s)=>{(async()=>{let a;try{const i=new AbortController;r>0&&(a=setTimeout(()=>{n?i.abort():s(t)},r)),o(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&s(t),s(i)}finally{clearTimeout(a)}})()})}function to(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Lt=to();function ro(e,t={}){return{async request(r){var b;const{body:n,onRequest:o=t.onRequest,onResponse:s=t.onResponse,timeout:a=t.timeout??1e4}=r,i={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:d,signal:f}=i;try{const l=await Ir(async({signal:y})=>{const h={...i,body:Array.isArray(n)?C(n.map(v=>({jsonrpc:"2.0",id:v.id??Lt.take(),...v}))):C({jsonrpc:"2.0",id:n.id??Lt.take(),...n}),headers:{...c,"Content-Type":"application/json"},method:d||"POST",signal:f||(a>0?y:null)},w=new Request(e,h);return o&&await o(w),await fetch(e,h)},{errorInstance:new st({body:n,url:e}),timeout:a,signal:!0});s&&await s(l);let m;if((b=l.headers.get("Content-Type"))!=null&&b.startsWith("application/json")?m=await l.json():(m=await l.text(),m=JSON.parse(m||"{}")),!l.ok)throw new M({body:n,details:C(m.error)||l.statusText,headers:l.headers,status:l.status,url:e});return m}catch(l){throw l instanceof M||l instanceof st?l:new M({body:n,details:l.message,url:e})}}}}function no(e,t={}){const{batch:r,fetchOptions:n,key:o="http",name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:i,retryDelay:c}=t;return({chain:d,retryCount:f,timeout:b})=>{const{batchSize:l=1e3,wait:m=0}=typeof r=="object"?r:{},y=t.retryCount??f,h=b??t.timeout??1e4,w=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!w)throw new Cr;const g=ro(w,{fetchOptions:n,onRequest:a,onResponse:i,timeout:h});return Nr({key:o,name:s,async request({method:v,params:x}){const E={method:v,params:x},{schedule:R}=Rr({id:w,wait:m,shouldSplitBatch(T){return T.length>l},fn:T=>g.request({body:T}),sort:(T,F)=>T.id-F.id}),B=async T=>r?R(T):[await g.request({body:T})],[{error:k,result:P}]=await B(E);if(k)throw new gt({body:E,error:k,url:w});return P},retryCount:y,retryDelay:c,timeout:h,type:"http"},{fetchOptions:n,url:w})}}function Tt(e,t){var n,o,s,a,i,c;if(!(e instanceof u.BaseError))return!1;const r=e.walk(d=>d instanceof Se);return r instanceof Se?!!(((n=r.data)==null?void 0:n.errorName)==="ResolverNotFound"||((o=r.data)==null?void 0:o.errorName)==="ResolverWildcardNotSupported"||((s=r.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=r.data)==null?void 0:a.errorName)==="ResolverError"||((i=r.data)==null?void 0:i.errorName)==="HttpError"||(c=r.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&r.reason===sr[50]):!1}function Or(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return u.isHex(t)?t:null}function we(e){let t=new Uint8Array(32).fill(0);if(!e)return u.bytesToHex(t);const r=e.split(".");for(let n=r.length-1;n>=0;n-=1){const o=Or(r[n]),s=o?u.toBytes(o):p.keccak256(u.stringToBytes(r[n]),"bytes");t=p.keccak256(p.concat([t,s]),"bytes")}return u.bytesToHex(t)}function oo(e){return`[${e.slice(2)}]`}function Sr(e){const t=new Uint8Array(32).fill(0);return e?Or(e)||p.keccak256(u.stringToBytes(e)):u.bytesToHex(t)}function We(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const r=new Uint8Array(u.stringToBytes(t).byteLength+2);let n=0;const o=t.split(".");for(let s=0;s<o.length;s++){let a=u.stringToBytes(o[s]);a.byteLength>255&&(a=u.stringToBytes(oo(Sr(o[s])))),r[n]=a.length,r.set(a,n+1),n+=a.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function so(e,{blockNumber:t,blockTag:r,coinType:n,name:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Y({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const d=_({abi:Dt,functionName:"addr",...n!=null?{args:[we(o),BigInt(n)]}:{args:[we(o)]}}),f={address:c,abi:kr,functionName:"resolve",args:[u.toHex(We(o)),d],blockNumber:t,blockTag:r},b=A(e,q,"readContract"),l=s?await b({...f,args:[...f.args,s]}):await b(f);if(l[0]==="0x")return null;const m=Z({abi:Dt,args:n!=null?[we(o),BigInt(n)]:void 0,functionName:"addr",data:l[0]});return m==="0x"||u.trim(m)==="0x00"?null:m}catch(d){if(a)throw d;if(Tt(d,"resolve"))return null;throw d}}class ao extends u.BaseError{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Q extends u.BaseError{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Je extends u.BaseError{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class jr extends u.BaseError{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const io=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,co=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,uo=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,lo=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function fo(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const r=t.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function Gt(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function $r({uri:e,gatewayUrls:t}){const r=uo.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=Gt(t==null?void 0:t.ipfs,"https://ipfs.io"),o=Gt(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(io),{protocol:a,subpath:i,target:c,subtarget:d=""}=(s==null?void 0:s.groups)||{},f=a==="ipns:/"||i==="ipns/",b=a==="ipfs:/"||i==="ipfs/"||co.test(e);if(e.startsWith("http")&&!f&&!b){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((f||b)&&c)return{uri:`${n}/${f?"ipns":"ipfs"}/${c}${d}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${o}/${c}${d||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(lo,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Je({uri:e})}function Mr(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ao({data:e});return e.image||e.image_url||e.image_data}async function bo({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then(o=>o.json());return await Pt({gatewayUrls:e,uri:Mr(r)})}catch{throw new Je({uri:t})}}async function Pt({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=$r({uri:t,gatewayUrls:e});if(n||await fo(r))return r;throw new Je({uri:t})}function po(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,o]=t.split("/"),[s,a]=r.split(":"),[i,c]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Q({reason:"Only EIP-155 supported"});if(!a)throw new Q({reason:"Chain ID not found"});if(!c)throw new Q({reason:"Contract address not found"});if(!o)throw new Q({reason:"Token ID not found"});if(!i)throw new Q({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:c,tokenID:o}}async function ho(e,{nft:t}){if(t.namespace==="erc721")return q(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return q(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new jr({namespace:t.namespace})}async function mo(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?yo(e,{gatewayUrls:t,record:r}):Pt({uri:r,gatewayUrls:t})}async function yo(e,{gatewayUrls:t,record:r}){const n=po(r),o=await ho(e,{nft:n}),{uri:s,isOnChain:a,isEncoded:i}=$r({uri:o,gatewayUrls:t});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const d=i?atob(s.replace("data:application/json;base64,","")):s,f=JSON.parse(d);return Pt({uri:Mr(f),gatewayUrls:t})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),bo({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function Hr(e,{blockNumber:t,blockTag:r,name:n,key:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Y({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const d={address:c,abi:kr,functionName:"resolve",args:[u.toHex(We(n)),_({abi:zt,functionName:"text",args:[we(n),o]})],blockNumber:t,blockTag:r},f=A(e,q,"readContract"),b=s?await f({...d,args:[...d.args,s]}):await f(d);if(b[0]==="0x")return null;const l=Z({abi:zt,functionName:"text",data:b[0]});return l===""?null:l}catch(d){if(a)throw d;if(Tt(d,"resolve"))return null;throw d}}async function go(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){const c=await A(e,Hr,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:o,universalResolverAddress:i,gatewayUrls:s,strict:a});if(!c)return null;try{return await mo(e,{record:c,gatewayUrls:n})}catch{return null}}async function wo(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:o,strict:s,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Y({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const d={address:i,abi:$n,functionName:"reverse",args:[u.toHex(We(c))],blockNumber:r,blockTag:n},f=A(e,q,"readContract"),[b,l]=o?await f({...d,args:[...d.args,o]}):await f(d);return t.toLowerCase()!==l.toLowerCase()?null:b}catch(d){if(s)throw d;if(Tt(d,"reverse"))return null;throw d}}async function vo(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:o}){let s=o;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=Y({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await A(e,q,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[u.toHex(We(n))],blockNumber:t,blockTag:r});return a}async function Eo(e){const t=ze(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}async function zr(e,{address:t,args:r,event:n,events:o,fromBlock:s,strict:a,toBlock:i}={}){const c=o??(n?[n]:void 0),d=ze(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(l=>ye({abi:[l],eventName:l.name,args:r}))],n&&(f=f[0]));const b=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?u.numberToHex(s):s,toBlock:typeof i=="bigint"?u.numberToHex(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:b,request:d(b),strict:!!a,toBlock:i,type:"event"}}async function Dr(e){const t=ze(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function xo(e,{address:t,blockNumber:r,blockTag:n="latest"}){const o=r?u.numberToHex(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,o||n]});return BigInt(s)}async function To(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Po(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const o=r!==void 0?u.numberToHex(r):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]}),u.hexToNumber(s)}async function Ao(e,{address:t,blockNumber:r,blockTag:n="latest"}){const o=r!==void 0?u.numberToHex(r):void 0,s=await e.request({method:"eth_getCode",params:[t,o||n]});if(s!=="0x")return s}function Bo(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(r=>r.map(n=>BigInt(n)))}}async function ko(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:o}){const s=r?u.numberToHex(r):void 0,a=await e.request({method:"eth_feeHistory",params:[u.numberToHex(t),s||n,o]});return Bo(a)}async function Ro(e,{filter:t}){const r=t.strict??!1,o=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>p.formatLog(s));return t.abi?_e({abi:t.abi,logs:o,strict:r}):o}class Fo extends u.BaseError{constructor({callbackSelector:t,cause:r,data:n,extraData:o,sender:s,urls:a}){var i;super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],(i=r.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(c=>`    ${u.getUrl(c)}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${o}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class No extends u.BaseError{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${u.getUrl(r)}`,`Response: ${C(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class Co extends u.BaseError{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function At(e,t){if(!p.isAddress(e,{strict:!1}))throw new p.InvalidAddressError({address:e});if(!p.isAddress(t,{strict:!1}))throw new p.InvalidAddressError({address:t});return e.toLowerCase()===t.toLowerCase()}const qr="0x556f1830",Bt={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Lr(e,{blockNumber:t,blockTag:r,data:n,to:o}){const{args:s}=mt({data:n,abi:[Bt]}),[a,i,c,d,f]=s,{ccipRead:b}=e,l=b&&typeof(b==null?void 0:b.request)=="function"?b.request:Ze;try{if(!At(o,a))throw new Co({sender:a,to:o});const m=await l({data:c,sender:a,urls:i}),{data:y}=await Re(e,{blockNumber:t,blockTag:r,data:p.concat([d,W([{type:"bytes"},{type:"bytes"}],[m,f])]),to:o});return y}catch(m){throw new Fo({callbackSelector:d,cause:m,data:n,extraData:f,sender:a,urls:i})}}async function Ze({data:e,sender:t,urls:r}){var o;let n=new Error("An unknown error occurred.");for(let s=0;s<r.length;s++){const a=r[s],i=a.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const d=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let f;if((o=d.headers.get("Content-Type"))!=null&&o.startsWith("application/json")?f=(await d.json()).data:f=await d.text(),!d.ok){n=new M({body:c,details:f!=null&&f.error?C(f.error):d.statusText,headers:d.headers,status:d.status,url:a});continue}if(!u.isHex(f)){n=new No({result:f,url:a});continue}return f}catch(d){n=new M({body:c,details:d.message,url:a})}}throw n}const Io=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ze,offchainLookup:Lr,offchainLookupAbiItem:Bt,offchainLookupSignature:qr},Symbol.toStringTag,{value:"Module"}));function Oo({chains:e,id:t}){return e.find(r=>r.id===t)}const So=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Gr(e){const{domain:t={},message:r,primaryType:n}=e,o={EIP712Domain:Yr({domain:t}),...e.types};Zr({domain:t,message:r,primaryType:n,types:o});const s=["0x1901"];return t&&s.push(_r({domain:t,types:o})),n!=="EIP712Domain"&&s.push(Ur({data:r,primaryType:n,types:o})),p.keccak256(p.concat(s))}function _r({domain:e,types:t}){return Ur({data:e,primaryType:"EIP712Domain",types:t})}function Ur({data:e,primaryType:t,types:r}){const n=Vr({data:e,primaryType:t,types:r});return p.keccak256(n)}function Vr({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],o=[$o({primaryType:t,types:r})];for(const s of r[t]){const[a,i]=Jr({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(a),o.push(i)}return W(n,o)}function $o({primaryType:e,types:t}){const r=u.toHex(Mo({primaryType:e,types:t}));return p.keccak256(r)}function Mo({primaryType:e,types:t}){let r="";const n=Wr({primaryType:e,types:t});n.delete(e);const o=[e,...Array.from(n).sort()];for(const s of o)r+=`${s}(${t[s].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return r}function Wr({primaryType:e,types:t},r=new Set){const n=e.match(/^\w*/u),o=n==null?void 0:n[0];if(r.has(o)||t[o]===void 0)return r;r.add(o);for(const s of t[o])Wr({primaryType:s.type,types:t},r);return r}function Jr({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},p.keccak256(Vr({data:n,primaryType:r,types:e}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},p.keccak256(n)];if(r==="string")return[{type:"bytes32"},p.keccak256(u.toHex(n))];if(r.lastIndexOf("]")===r.length-1){const o=r.slice(0,r.lastIndexOf("[")),s=n.map(a=>Jr({name:t,type:o,types:e,value:a}));return[{type:"bytes32"},p.keccak256(W(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:r},n]}function Zr(e){const{domain:t,message:r,primaryType:n,types:o}=e,s=(a,i)=>{for(const c of a){const{name:d,type:f}=c,b=i[d],l=f.match(jo);if(l&&(typeof b=="number"||typeof b=="bigint")){const[h,w,g]=l;u.numberToHex(b,{signed:w==="int",size:Number.parseInt(g)/8})}if(f==="address"&&typeof b=="string"&&!p.isAddress(b))throw new p.InvalidAddressError({address:b});const m=f.match(So);if(m){const[h,w]=m;if(w&&u.size(b)!==Number.parseInt(w))throw new Yt({expectedSize:Number.parseInt(w),givenSize:u.size(b)})}const y=o[f];y&&s(y,b)}};if(o.EIP712Domain&&t&&s(o.EIP712Domain,t),n!=="EIP712Domain"){const a=o[n];s(a,r)}}function Yr({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Xe="/docs/contract/encodeDeployData";function Kr(e){const{abi:t,args:r,bytecode:n}=e;if(!r||r.length===0)return n;const o=t.find(a=>"type"in a&&a.type==="constructor");if(!o)throw new _t({docsPath:Xe});if(!("inputs"in o))throw new tt({docsPath:Xe});if(!o.inputs||o.inputs.length===0)throw new tt({docsPath:Xe});const s=W(o.inputs,r);return p.concatHex([n,s])}const Qr=`Ethereum Signed Message:
`;function kt(e,t){const r=typeof e=="string"?u.stringToBytes(e):e.raw instanceof Uint8Array?e.raw:u.toBytes(e.raw),n=u.stringToBytes(`${Qr}${r.length}`);return p.keccak256(p.concat([n,r]),t)}function Ho(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function zo(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?u.hexToNumber(e.nonce):void 0,storageProof:e.storageProof?Ho(e.storageProof):void 0}}async function Do(e,{address:t,blockNumber:r,blockTag:n,storageKeys:o}){const s=n??"latest",a=r!==void 0?u.numberToHex(r):void 0,i=await e.request({method:"eth_getProof",params:[t,o,a||s]});return zo(i)}async function qo(e,{address:t,blockNumber:r,blockTag:n="latest",slot:o}){const s=r!==void 0?u.numberToHex(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,o,s||n]})}async function Rt(e,{blockHash:t,blockNumber:r,blockTag:n,hash:o,index:s}){var f,b,l;const a=n||"latest",i=r!==void 0?u.numberToHex(r):void 0;let c=null;if(o?c=await e.request({method:"eth_getTransactionByHash",params:[o]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,u.numberToHex(s)]}):(i||a)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,u.numberToHex(s)]})),!c)throw new p.TransactionNotFoundError({blockHash:t,blockNumber:r,blockTag:a,hash:o,index:s});return(((l=(b=(f=e.chain)==null?void 0:f.formatters)==null?void 0:b.transaction)==null?void 0:l.format)||p.formatTransaction)(c)}async function Lo(e,{hash:t,transactionReceipt:r}){const[n,o]=await Promise.all([A(e,Ne,"getBlockNumber")({}),t?A(e,Rt,"getBlockNumber")({hash:t}):void 0]),s=(r==null?void 0:r.blockNumber)||(o==null?void 0:o.blockNumber);return s?n-s+1n:0n}async function ut(e,{hash:t}){var o,s,a;const r=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!r)throw new p.TransactionReceiptNotFoundError({hash:t});return(((a=(s=(o=e.chain)==null?void 0:o.formatters)==null?void 0:s.transactionReceipt)==null?void 0:a.format)||p.formatTransactionReceipt)(r)}async function Go(e,t){var w;const{allowFailure:r=!0,batchSize:n,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:i}=t,c=t.contracts,d=n??(typeof((w=e.batch)==null?void 0:w.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=a;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Y({blockNumber:o,chain:e.chain,contract:"multicall3"})}const b=[[]];let l=0,m=0;for(let g=0;g<c.length;g++){const{abi:v,address:x,args:E,functionName:R}=c[g];try{const B=_({abi:v,args:E,functionName:R});m+=(B.length-2)/2,d>0&&m>d&&b[l].length>0&&(l++,m=(B.length-2)/2,b[l]=[]),b[l]=[...b[l],{allowFailure:!0,callData:B,target:x}]}catch(B){const k=he(B,{abi:v,address:x,args:E,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw k;b[l]=[...b[l],{allowFailure:!0,callData:"0x",target:x}]}}const y=await Promise.allSettled(b.map(g=>A(e,q,"readContract")({abi:je,address:f,args:[g],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:i}))),h=[];for(let g=0;g<y.length;g++){const v=y[g];if(v.status==="rejected"){if(!r)throw v.reason;for(let E=0;E<b[g].length;E++)h.push({status:"failure",error:v.reason,result:void 0});continue}const x=v.value;for(let E=0;E<x.length;E++){const{returnData:R,success:B}=x[E],{callData:k}=b[g][E],{abi:P,address:T,functionName:F,args:N}=c[h.length];try{if(k==="0x")throw new xe;if(!B)throw new De({data:R});const O=Z({abi:P,args:N,data:R,functionName:F});h.push(r?{result:O,status:"success"}:O)}catch(O){const I=he(O,{abi:P,address:T,args:N,docsPath:"/docs/contract/multicall",functionName:F});if(!r)throw I;h.push({error:I,result:void 0,status:"failure"})}}}if(h.length!==c.length)throw new u.BaseError("multicall results mismatch");return h}const _o="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function Uo(e,t){const r=u.isHex(e)?u.toBytes(e):e,n=u.isHex(t)?u.toBytes(t):t;return u.equalBytes(r,n)}function Ft({r:e,s:t,v:r,yParity:n}){const o=(()=>{if(n===0||n===1)return n;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new u.secp256k1.Signature(u.hexToBigInt(e),u.hexToBigInt(t)).toCompactHex()}${o===0?"1b":"1c"}`}async function Nt(e,{address:t,hash:r,signature:n,...o}){const s=u.isHex(n)?n:typeof n=="object"&&"r"in n&&"s"in n?Ft(n):u.bytesToHex(n);try{const{data:a}=await A(e,Re,"call")({data:Kr({abi:Mn,args:[t,r,s],bytecode:_o}),...o});return Uo(a??"0x0","0x1")}catch(a){if(a instanceof yt)return!1;throw a}}async function Vo(e,{address:t,message:r,signature:n,...o}){const s=kt(r);return Nt(e,{address:t,hash:s,signature:n,...o})}async function Wo(e,t){const{address:r,signature:n,message:o,primaryType:s,types:a,domain:i,...c}=t,d=Gr({message:o,primaryType:s,types:a,domain:i});return Nt(e,{address:r,hash:d,signature:n,...c})}function Xr(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:o,poll:s,pollingInterval:a=e.pollingInterval}){const i=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const b=C(["watchBlockNumber",e.uid,t,r,a]);return L(b,{onBlockNumber:n,onError:o},l=>Fe(async()=>{var m;try{const y=await A(e,Ne,"getBlockNumber")({cacheTime:0});if(c){if(y===c)return;if(y-c>1&&r)for(let h=c+1n;h<y;h++)l.onBlockNumber(h,c),c=h}(!c||y>c)&&(l.onBlockNumber(y,c),c=y)}catch(y){(m=l.onError)==null||m.call(l,y)}},{emitOnBegin:t,interval:a}))})():(()=>{const b=C(["watchBlockNumber",e.uid,t,r]);return L(b,{onBlockNumber:n,onError:o},l=>{let m=!0,y=()=>m=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(v=>v.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:w}=await h.subscribe({params:["newHeads"],onData(g){var x;if(!m)return;const v=u.hexToBigInt((x=g.result)==null?void 0:x.number);l.onBlockNumber(v,c),c=v},onError(g){var v;(v=l.onError)==null||v.call(l,g)}});y=w,m||y()}catch(h){o==null||o(h)}})(),()=>y()})})()}async function Jo(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:o=e.pollingInterval,retryCount:s=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:i}){const c=C(["waitForTransactionReceipt",e.uid,r]);let d=0,f,b,l,m=!1;return new Promise((y,h)=>{i&&setTimeout(()=>h(new p.WaitForTransactionReceiptTimeoutError({hash:r})),i);const w=L(c,{onReplaced:n,resolve:y,reject:h},g=>{const v=A(e,Xr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(x){const E=B=>{v(),B(),w()};let R=x;if(!m){d>s&&E(()=>g.reject(new p.WaitForTransactionReceiptTimeoutError({hash:r})));try{if(l){if(t>1&&(!l.blockNumber||R-l.blockNumber+1n<t))return;E(()=>g.resolve(l));return}if(f||(m=!0,await $e(async()=>{f=await A(e,Rt,"getTransaction")({hash:r}),f.blockNumber&&(R=f.blockNumber)},{delay:a,retryCount:s}),m=!1),l=await A(e,ut,"getTransactionReceipt")({hash:r}),t>1&&(!l.blockNumber||R-l.blockNumber+1n<t))return;E(()=>g.resolve(l))}catch(B){if(B instanceof p.TransactionNotFoundError||B instanceof p.TransactionReceiptNotFoundError){if(!f){m=!1;return}try{b=f,m=!0;const k=await $e(()=>A(e,D,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:F})=>F instanceof wt});m=!1;const P=k.transactions.find(({from:F,nonce:N})=>F===b.from&&N===b.nonce);if(!P||(l=await A(e,ut,"getTransactionReceipt")({hash:P.hash}),t>1&&(!l.blockNumber||R-l.blockNumber+1n<t)))return;let T="replaced";P.to===b.to&&P.value===b.value?T="repriced":P.from===P.to&&P.value===0n&&(T="cancelled"),E(()=>{var F;(F=g.onReplaced)==null||F.call(g,{reason:T,replacedTransaction:b,transaction:P,transactionReceipt:l}),g.resolve(l)})}catch(k){E(()=>g.reject(k))}}else E(()=>g.reject(B))}finally{d++}}}})})})}function Zo(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:o,onError:s,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const d=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),f=a??!1;let b;return d?(()=>{const y=C(["watchBlocks",e.uid,t,r,n,f,c]);return L(y,{onBlock:o,onError:s},h=>Fe(async()=>{var w;try{const g=await A(e,D,"getBlock")({blockTag:t,includeTransactions:f});if(g.number&&(b!=null&&b.number)){if(g.number===b.number)return;if(g.number-b.number>1&&r)for(let v=(b==null?void 0:b.number)+1n;v<g.number;v++){const x=await A(e,D,"getBlock")({blockNumber:v,includeTransactions:f});h.onBlock(x,b),b=x}}(!(b!=null&&b.number)||t==="pending"&&!(g!=null&&g.number)||g.number&&g.number>b.number)&&(h.onBlock(g,b),b=g)}catch(g){(w=h.onError)==null||w.call(h,g)}},{emitOnBegin:n,interval:c}))})():(()=>{let y=!0,h=()=>y=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(x=>x.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),{unsubscribe:g}=await w.subscribe({params:["newHeads"],onData(v){var R,B,k;if(!y)return;const E=(((k=(B=(R=e.chain)==null?void 0:R.formatters)==null?void 0:B.block)==null?void 0:k.format)||p.formatBlock)(v.result);o(E,b),b=E},onError(v){s==null||s(v)}});h=g,y||h()}catch(w){s==null||s(w)}})(),()=>h()})()}function Yo(e,{address:t,args:r,batch:n=!0,event:o,events:s,fromBlock:a,onError:i,onLogs:c,poll:d,pollingInterval:f=e.pollingInterval,strict:b}){const l=typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),m=b??!1;return l?(()=>{const w=C(["watchEvent",t,r,n,e.uid,o,f,a]);return L(w,{onLogs:c,onError:i},g=>{let v;a!==void 0&&(v=a-1n);let x,E=!1;const R=Fe(async()=>{var B;if(!E){try{x=await A(e,zr,"createEventFilter")({address:t,args:r,event:o,events:s,strict:m,fromBlock:a})}catch{}E=!0;return}try{let k;if(x)k=await A(e,Ue,"getFilterChanges")({filter:x});else{const P=await A(e,Ne,"getBlockNumber")({});v&&v!==P?k=await A(e,xt,"getLogs")({address:t,args:r,event:o,events:s,fromBlock:v+1n,toBlock:P}):k=[],v=P}if(k.length===0)return;if(n)g.onLogs(k);else for(const P of k)g.onLogs([P])}catch(k){x&&k instanceof z&&(E=!1),(B=g.onError)==null||B.call(g,k)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await A(e,Ve,"uninstallFilter")({filter:x}),R()}})})():(()=>{let w=!0,g=()=>w=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(k=>k.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),x=s??(o?[o]:void 0);let E=[];x&&(E=[x.flatMap(B=>ye({abi:[B],eventName:B.name,args:r}))],o&&(E=E[0]));const{unsubscribe:R}=await v.subscribe({params:["logs",{address:t,topics:E}],onData(B){var P;if(!w)return;const k=B.result;try{const{eventName:T,args:F}=Ge({abi:x??[],data:k.data,topics:k.topics,strict:m}),N=p.formatLog(k,{args:F,eventName:T});c([N])}catch(T){let F,N;if(T instanceof ee||T instanceof Te){if(b)return;F=T.abiItem.name,N=(P=T.abiItem.inputs)==null?void 0:P.some(I=>!("name"in I&&I.name))}const O=p.formatLog(k,{args:N?[]:{},eventName:F});c([O])}},onError(B){i==null||i(B)}});g=R,w||g()}catch(v){i==null||i(v)}})(),()=>g()})()}function Ko(e,{batch:t=!0,onError:r,onTransactions:n,poll:o,pollingInterval:s=e.pollingInterval}){return(typeof o<"u"?o:e.transport.type!=="webSocket")?(()=>{const d=C(["watchPendingTransactions",e.uid,t,s]);return L(d,{onTransactions:n,onError:r},f=>{let b;const l=Fe(async()=>{var m;try{if(!b)try{b=await A(e,Dr,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const y=await A(e,Ue,"getFilterChanges")({filter:b});if(y.length===0)return;if(t)f.onTransactions(y);else for(const h of y)f.onTransactions([h])}catch(y){(m=f.onError)==null||m.call(f,y)}},{emitOnBegin:!0,interval:s});return async()=>{b&&await A(e,Ve,"uninstallFilter")({filter:b}),l()}})})():(()=>{let d=!0,f=()=>d=!1;return(async()=>{try{const{unsubscribe:b}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!d)return;const m=l.result;n([m])},onError(l){r==null||r(l)}});f=b,d||f()}catch(b){r==null||r(b)}})(),()=>f()})()}function Qo(e){var b,l,m;const{scheme:t,statement:r,...n}=((b=e.match(Xo))==null?void 0:b.groups)??{},{chainId:o,expirationTime:s,issuedAt:a,notBefore:i,requestId:c,...d}=((l=e.match(es))==null?void 0:l.groups)??{},f=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...n,...d,...o?{chainId:Number(o)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}const Xo=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,es=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ts(e){const{address:t,domain:r,message:n,nonce:o,scheme:s,time:a=new Date}=e;if(r&&n.domain!==r||o&&n.nonce!==o||s&&n.scheme!==s||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||t&&!At(n.address,t))return!1}catch{return!1}return!0}async function rs(e,t){const{address:r,domain:n,message:o,nonce:s,scheme:a,signature:i,time:c=new Date,...d}=t,f=Qo(o);if(!f.address||!ts({address:r,domain:n,message:f,nonce:s,scheme:a,time:c}))return!1;const l=kt(o);return Nt(e,{address:f.address,hash:l,signature:i,...d})}function en(e){return{call:t=>Re(e,t),createBlockFilter:()=>Eo(e),createContractEventFilter:t=>nr(e,t),createEventFilter:t=>zr(e,t),createPendingTransactionFilter:()=>Dr(e),estimateContractGas:t=>Sn(e,t),estimateGas:t=>Et(e,t),getBalance:t=>xo(e,t),getBlobBaseFee:()=>To(e),getBlock:t=>D(e,t),getBlockNumber:t=>Ne(e,t),getBlockTransactionCount:t=>Po(e,t),getBytecode:t=>Ao(e,t),getChainId:()=>Tr(e),getContractEvents:t=>Ar(e,t),getEnsAddress:t=>so(e,t),getEnsAvatar:t=>go(e,t),getEnsName:t=>wo(e,t),getEnsResolver:t=>vo(e,t),getEnsText:t=>Hr(e,t),getFeeHistory:t=>ko(e,t),estimateFeesPerGas:t=>In(e,t),getFilterChanges:t=>Ue(e,t),getFilterLogs:t=>Ro(e,t),getGasPrice:()=>vt(e),getLogs:t=>xt(e,t),getProof:t=>Do(e,t),estimateMaxPriorityFeePerGas:t=>Cn(e,t),getStorageAt:t=>qo(e,t),getTransaction:t=>Rt(e,t),getTransactionConfirmations:t=>Lo(e,t),getTransactionCount:t=>xr(e,t),getTransactionReceipt:t=>ut(e,t),multicall:t=>Go(e,t),prepareTransactionRequest:t=>Pr(e,t),readContract:t=>q(e,t),sendRawTransaction:t=>Kn(e,t),simulateContract:t=>Gn(e,t),verifyMessage:t=>Vo(e,t),verifySiweMessage:t=>rs(e,t),verifyTypedData:t=>Wo(e,t),uninstallFilter:t=>Ve(e,t),waitForTransactionReceipt:t=>Jo(e,t),watchBlocks:t=>Zo(e,t),watchBlockNumber:t=>Xr(e,t),watchContractEvent:t=>Yn(e,t),watchEvent:t=>Yo(e,t),watchPendingTransactions:t=>Ko(e,t)}}function ns(e){const{key:t="public",name:r="Public Client"}=e;return Fr({...e,key:t,name:r,type:"publicClient"}).extend(en)}exports.BaseError=u.BaseError;exports.IntegerOutOfRangeError=u.IntegerOutOfRangeError;exports.InvalidBytesBooleanError=u.InvalidBytesBooleanError;exports.InvalidHexBooleanError=u.InvalidHexBooleanError;exports.SizeExceedsPaddingSizeError=u.SizeExceedsPaddingSizeError;exports.SizeOverflowError=u.SizeOverflowError;exports.SliceOffsetOutOfBoundsError=u.SliceOffsetOutOfBoundsError;exports.boolToBytes=u.boolToBytes;exports.boolToHex=u.boolToHex;exports.bytesToHex=u.bytesToHex;exports.etherUnits=u.etherUnits;exports.formatEther=u.formatEther;exports.formatUnits=u.formatUnits;exports.fromHex=u.fromHex;exports.gweiUnits=u.gweiUnits;exports.hexToBigInt=u.hexToBigInt;exports.hexToBool=u.hexToBool;exports.hexToBytes=u.hexToBytes;exports.hexToNumber=u.hexToNumber;exports.hexToString=u.hexToString;exports.isHex=u.isHex;exports.numberToBytes=u.numberToBytes;exports.numberToHex=u.numberToHex;exports.pad=u.pad;exports.padBytes=u.padBytes;exports.padHex=u.padHex;exports.size=u.size;exports.stringToBytes=u.stringToBytes;exports.stringToHex=u.stringToHex;exports.toBytes=u.toBytes;exports.toHex=u.toHex;exports.trim=u.trim;exports.ChainDoesNotSupportContract=p.ChainDoesNotSupportContract;exports.ClientChainNotConfiguredError=p.ClientChainNotConfiguredError;exports.ExecutionRevertedError=p.ExecutionRevertedError;exports.FeeCapTooHighError=p.FeeCapTooHighError;exports.FeeCapTooLowError=p.FeeCapTooLowError;exports.FeeConflictError=p.FeeConflictError;exports.InsufficientFundsError=p.InsufficientFundsError;exports.IntrinsicGasTooHighError=p.IntrinsicGasTooHighError;exports.IntrinsicGasTooLowError=p.IntrinsicGasTooLowError;exports.InvalidAddressError=p.InvalidAddressError;exports.InvalidChainIdError=p.InvalidChainIdError;exports.InvalidLegacyVError=p.InvalidLegacyVError;exports.InvalidSerializableTransactionError=p.InvalidSerializableTransactionError;exports.InvalidStorageKeySizeError=p.InvalidStorageKeySizeError;exports.NonceMaxValueError=p.NonceMaxValueError;exports.NonceTooHighError=p.NonceTooHighError;exports.NonceTooLowError=p.NonceTooLowError;exports.TipAboveFeeCapError=p.TipAboveFeeCapError;exports.TransactionNotFoundError=p.TransactionNotFoundError;exports.TransactionReceiptNotFoundError=p.TransactionReceiptNotFoundError;exports.TransactionTypeNotSupportedError=p.TransactionTypeNotSupportedError;exports.UnknownNodeError=p.UnknownNodeError;exports.WaitForTransactionReceiptTimeoutError=p.WaitForTransactionReceiptTimeoutError;exports.assertTransactionEIP1559=p.assertTransactionEIP1559;exports.assertTransactionEIP2930=p.assertTransactionEIP2930;exports.assertTransactionLegacy=p.assertTransactionLegacy;exports.blobsToCommitments=p.blobsToCommitments;exports.blobsToProofs=p.blobsToProofs;exports.checksumAddress=p.checksumAddress;exports.commitmentToVersionedHash=p.commitmentToVersionedHash;exports.commitmentsToVersionedHashes=p.commitmentsToVersionedHashes;exports.concat=p.concat;exports.concatBytes=p.concatBytes;exports.concatHex=p.concatHex;exports.defineBlock=p.defineBlock;exports.defineChain=p.defineChain;exports.defineTransaction=p.defineTransaction;exports.defineTransactionReceipt=p.defineTransactionReceipt;exports.defineTransactionRequest=p.defineTransactionRequest;exports.formatBlock=p.formatBlock;exports.formatGwei=p.formatGwei;exports.formatLog=p.formatLog;exports.formatTransaction=p.formatTransaction;exports.formatTransactionReceipt=p.formatTransactionReceipt;exports.formatTransactionRequest=p.formatTransactionRequest;exports.getTransactionType=p.getTransactionType;exports.isAddress=p.isAddress;exports.keccak256=p.keccak256;exports.maxUint16=p.maxUint16;exports.rpcTransactionType=p.rpcTransactionType;exports.serializeAccessList=p.serializeAccessList;exports.serializeTransaction=p.serializeTransaction;exports.sha256=p.sha256;exports.slice=p.slice;exports.sliceBytes=p.sliceBytes;exports.sliceHex=p.sliceHex;exports.toBlobSidecars=p.toBlobSidecars;exports.toBlobs=p.toBlobs;exports.toRlp=p.toRlp;exports.transactionType=p.transactionType;exports.AbiConstructorNotFoundError=_t;exports.AbiConstructorParamsNotFoundError=tt;exports.AbiDecodingDataSizeTooSmallError=dt;exports.AbiDecodingZeroDataError=xe;exports.AbiEncodingArrayLengthMismatchError=Ut;exports.AbiEncodingBytesSizeMismatchError=Vt;exports.AbiEncodingLengthMismatchError=Wt;exports.AbiErrorSignatureNotFoundError=lt;exports.AbiEventNotFoundError=rt;exports.AbiEventSignatureEmptyTopicsError=Jt;exports.AbiEventSignatureNotFoundError=ft;exports.AbiFunctionNotFoundError=ve;exports.AbiFunctionOutputsNotFoundError=Zt;exports.AccountStateConflictError=dr;exports.BaseFeeScalarError=wr;exports.BlockNotFoundError=wt;exports.BytesSizeMismatchError=Yt;exports.CallExecutionError=yt;exports.ChainDisconnectedError=be;exports.ContractFunctionExecutionError=fr;exports.ContractFunctionRevertedError=Se;exports.ContractFunctionZeroDataError=br;exports.DecodeLogDataMismatch=ee;exports.DecodeLogTopicsMismatch=Te;exports.Eip1559FeesNotSupportedError=Le;exports.EnsAvatarInvalidNftUriError=Q;exports.EnsAvatarUnsupportedNamespaceError=jr;exports.EnsAvatarUriResolutionError=Je;exports.EstimateGasExecutionError=hr;exports.FilterTypeNotSupportedError=tr;exports.HttpRequestError=M;exports.InternalRpcError=H;exports.InvalidAbiDecodingTypeError=Qt;exports.InvalidAbiEncodingTypeError=Kt;exports.InvalidArrayError=Xt;exports.InvalidDefinitionTypeError=er;exports.InvalidInputRpcError=z;exports.InvalidParamsRpcError=oe;exports.InvalidRequestRpcError=re;exports.JsonRpcVersionUnsupportedError=ue;exports.LimitExceededRpcError=V;exports.MaxFeePerGasTooLowError=vr;exports.MethodNotFoundRpcError=ne;exports.MethodNotSupportedRpcError=ce;exports.ParseRpcError=te;exports.ProviderDisconnectedError=fe;exports.ProviderRpcError=J;exports.RawContractError=De;exports.ResourceNotFoundRpcError=se;exports.ResourceUnavailableRpcError=ae;exports.RpcError=S;exports.RpcRequestError=gt;exports.StateAssignmentConflictError=lr;exports.SwitchChainError=pe;exports.TimeoutError=st;exports.TransactionRejectedRpcError=ie;exports.UnauthorizedProviderError=de;exports.UnknownRpcError=pr;exports.UnsupportedProviderMethodError=le;exports.UrlRequiredError=Cr;exports.UserRejectedRequestError=U;exports.assertRequest=qe;exports.bytesToBigInt=ar;exports.bytesToBool=ir;exports.bytesToNumber=j;exports.bytesToString=cr;exports.ccipFetch=Ze;exports.ccipRequest=Ze;exports.createClient=Fr;exports.createPublicClient=ns;exports.createTransport=Nr;exports.decodeAbiParameters=ke;exports.decodeErrorResult=mt;exports.decodeEventLog=Ge;exports.decodeFunctionResult=Z;exports.encodeAbiParameters=W;exports.encodeDeployData=Kr;exports.encodeEventTopics=ye;exports.encodeFunctionData=_;exports.extractChain=Oo;exports.getAbiItem=me;exports.getChainContractAddress=Y;exports.getContractError=he;exports.getEventSelector=Ae;exports.getEventSignature=Pe;exports.getFunctionSelector=Be;exports.getFunctionSignature=Pe;exports.getTypesForEIP712Domain=Yr;exports.hashDomain=_r;exports.hashMessage=kt;exports.hashTypedData=Gr;exports.http=no;exports.isAddressEqual=At;exports.labelhash=Sr;exports.multicall3Abi=je;exports.namehash=we;exports.offchainLookup=Lr;exports.offchainLookupAbiItem=Bt;exports.offchainLookupSignature=qr;exports.parseEventLogs=_e;exports.prepareEncodeFunctionData=or;exports.presignMessagePrefix=Qr;exports.publicActions=en;exports.serializeSignature=Ft;exports.signatureToHex=Ft;exports.stringify=C;exports.toEventHash=He;exports.toEventSelector=Ae;exports.toEventSignature=Pe;exports.toFunctionHash=He;exports.toFunctionSelector=Be;exports.toFunctionSignature=Pe;exports.validateTypedData=Zr;exports.withRetry=$e;exports.withTimeout=Ir;
//# sourceMappingURL=index-CSuiyHHA.cjs.map
