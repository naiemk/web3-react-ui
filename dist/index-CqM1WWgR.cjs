"use strict";var _y=Object.defineProperty;var Hh=t=>{throw TypeError(t)};var xy=(t,e,r)=>e in t?_y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var F=(t,e,r)=>xy(t,typeof e!="symbol"?e+"":e,r),Cu=(t,e,r)=>e.has(t)||Hh("Cannot "+r);var O=(t,e,r)=>(Cu(t,e,"read from private field"),r?r.call(t):e.get(t)),$=(t,e,r)=>e.has(t)?Hh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),k=(t,e,r,n)=>(Cu(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),K=(t,e,r)=>(Cu(t,e,"access private method"),r);var ol=(t,e,r,n)=>({set _(s){k(t,e,s,r)},get _(){return O(t,e,n)}});const tt=require("react");function Sy(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const oh=Sy(tt);var uf=function(t,e){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},uf(t,e)};function Yr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ue=function(){return Ue=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ue.apply(this,arguments)};function Oy(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Iy(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{m(n.next(d))}catch(l){a(l)}}function c(d){try{m(n.throw(d))}catch(l){a(l)}}function m(d){d.done?i(d.value):s(d.value).then(o,c)}m((n=n.apply(t,e||[])).next())})}function kp(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(m){return function(d){return c([m,d])}}function c(m){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,m[0]&&(r=0)),r;)try{if(n=1,s&&(i=m[0]&2?s.return:m[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,m[1])).done)return i;switch(s=0,i&&(m=[m[0]&2,i.value]),m[0]){case 0:case 1:i=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,s=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!i||m[1]>i[0]&&m[1]<i[3])){r.label=m[1];break}if(m[0]===6&&r.label<i[1]){r.label=i[1],i=m;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(m);break}i[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(d){m=[6,d],s=0}finally{n=i=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function ya(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ba(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Xn(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function So(t){return this instanceof So?(this.v=t,this):new So(t)}function Ty(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(g){return function(h){return Promise.resolve(h).then(g,l)}}function o(g,h){n[g]&&(s[g]=function(u){return new Promise(function(b,p){i.push([g,u,b,p])>1||c(g,u)})},h&&(s[g]=h(s[g])))}function c(g,h){try{m(n[g](h))}catch(u){f(i[0][3],u)}}function m(g){g.value instanceof So?Promise.resolve(g.value.v).then(d,l):f(i[0][2],g)}function d(g){c("next",g)}function l(g){c("throw",g)}function f(g,h){g(h),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Cy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ya=="function"?ya(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(m){i({value:m,done:o})},a)}}function Dt(t){return typeof t=="function"}function Bp(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Pu=Bp(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ff(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var eu=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=ya(a),c=o.next();!c.done;c=o.next()){var m=c.value;m.remove(this)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if(Dt(d))try{d()}catch(u){i=u instanceof Pu?u.errors:[u]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var f=ya(l),g=f.next();!g.done;g=f.next()){var h=g.value;try{Gh(h)}catch(u){i=i??[],u instanceof Pu?i=Xn(Xn([],ba(i)),ba(u.errors)):i.push(u)}}}catch(u){n={error:u}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(n)throw n.error}}}if(i)throw new Pu(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Gh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&ff(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&ff(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Mp=eu.EMPTY;function Dp(t){return t instanceof eu||t&&"closed"in t&&Dt(t.remove)&&Dt(t.add)&&Dt(t.unsubscribe)}function Gh(t){Dt(t)?t():t.unsubscribe()}var Py={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lp={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Xn([t,e],ba(r)))},clearTimeout:function(t){var e=Lp.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Up(t){Lp.setTimeout(function(){throw t})}function hf(){}function gc(t){t()}var ah=function(t){Yr(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Dp(r)&&r.add(n)):n.destination=ky,n}return e.create=function(r,n,s){return new xl(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(eu),Ny=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){nc(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){nc(n)}else nc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){nc(r)}},t}(),xl=function(t){Yr(e,t);function e(r,n,s){var i=t.call(this)||this,a;return Dt(r)||!r?a={next:r??void 0,error:n??void 0,complete:s??void 0}:a=r,i.destination=new Ny(a),i}return e}(ah);function nc(t){Up(t)}function Ry(t){throw t}var ky={closed:!0,next:hf,error:Ry,complete:hf},lh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ch(t){return t}function By(t){return t.length===0?ch:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var Vs=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=Dy(e)?e:new xl(e,r,n);return gc(function(){var a=s,o=a.operator,c=a.source;i.add(o?o.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=$h(r),new r(function(s,i){var a=new xl({next:function(o){try{e(o)}catch(c){i(c),a.unsubscribe()}},error:i,complete:s});n.subscribe(a)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[lh]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return By(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=$h(e),new e(function(n,s){var i;r.subscribe(function(a){return i=a},function(a){return s(a)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function $h(t){var e;return(e=t??Py.Promise)!==null&&e!==void 0?e:Promise}function My(t){return t&&Dt(t.next)&&Dt(t.error)&&Dt(t.complete)}function Dy(t){return t&&t instanceof ah||My(t)&&Dp(t)}function Ly(t){return Dt(t==null?void 0:t.lift)}function Jl(t){return function(e){if(Ly(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Sl(t,e,r,n,s){return new Uy(t,e,r,n,s)}var Uy=function(t){Yr(e,t);function e(r,n,s,i,a,o){var c=t.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=o,c._next=n?function(m){try{n(m)}catch(d){r.error(d)}}:t.prototype._next,c._error=i?function(m){try{i(m)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=s?function(){try{s()}catch(m){r.error(m)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(ah),Fy=Bp(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ji=function(t){Yr(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Wh(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Fy},e.prototype.next=function(r){var n=this;gc(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=ya(n.currentObservers),o=a.next();!o.done;o=a.next()){var c=o.value;c.next(r)}}catch(m){s={error:m}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}}})},e.prototype.error=function(r){var n=this;gc(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var s=n.observers;s.length;)s.shift().error(r)}})},e.prototype.complete=function(){var r=this;gc(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,s=this,i=s.hasError,a=s.isStopped,o=s.observers;return i||a?Mp:(this.currentObservers=null,o.push(r),new eu(function(){n.currentObservers=null,ff(o,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,s=n.hasError,i=n.thrownError,a=n.isStopped;s?r.error(i):a&&r.complete()},e.prototype.asObservable=function(){var r=new Vs;return r.source=this,r},e.create=function(r,n){return new Wh(r,n)},e}(Vs),Wh=function(t){Yr(e,t);function e(r,n){var s=t.call(this)||this;return s.destination=r,s.source=n,s}return e.prototype.next=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,r)},e.prototype.error=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&s!==void 0?s:Mp},e}(Ji),tu=function(t){Yr(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,s=r.thrownError,i=r._value;if(n)throw s;return this._throwIfClosed(),i},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ji),Fp={now:function(){return(Fp.delegate||Date).now()},delegate:void 0},jy=function(t){Yr(e,t);function e(r,n,s){r===void 0&&(r=1/0),n===void 0&&(n=1/0),s===void 0&&(s=Fp);var i=t.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(r){var n=this,s=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,o=n._timestampProvider,c=n._windowTime;s||(i.push(r),!a&&i.push(o.now()+c)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),s=this,i=s._infiniteTimeWindow,a=s._buffer,o=a.slice(),c=0;c<o.length&&!r.closed;c+=i?1:2)r.next(o[c]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,s=r._timestampProvider,i=r._buffer,a=r._infiniteTimeWindow,o=(a?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!a){for(var c=s.now(),m=0,d=1;d<i.length&&i[d]<=c;d+=2)m=d;m&&i.splice(0,m+1)}},e}(Ji);function Hy(t){return t[t.length-1]}function Gy(t){return Dt(Hy(t))?t.pop():void 0}var $y=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Wy(t){return Dt(t==null?void 0:t.then)}function Vy(t){return Dt(t[lh])}function zy(t){return Symbol.asyncIterator&&Dt(t==null?void 0:t[Symbol.asyncIterator])}function qy(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Qy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jy=Qy();function Ky(t){return Dt(t==null?void 0:t[Jy])}function Zy(t){return Ty(this,arguments,function(){var r,n,s,i;return kp(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,So(r.read())];case 3:return n=a.sent(),s=n.value,i=n.done,i?[4,So(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,So(s)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Xy(t){return Dt(t==null?void 0:t.getReader)}function uh(t){if(t instanceof Vs)return t;if(t!=null){if(Vy(t))return Yy(t);if($y(t))return eb(t);if(Wy(t))return tb(t);if(zy(t))return jp(t);if(Ky(t))return rb(t);if(Xy(t))return nb(t)}throw qy(t)}function Yy(t){return new Vs(function(e){var r=t[lh]();if(Dt(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eb(t){return new Vs(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function tb(t){return new Vs(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Up)})}function rb(t){return new Vs(function(e){var r,n;try{for(var s=ya(t),i=s.next();!i.done;i=s.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}e.complete()})}function jp(t){return new Vs(function(e){sb(t,e).catch(function(r){return e.error(r)})})}function nb(t){return jp(Zy(t))}function sb(t,e){var r,n,s,i;return Iy(this,void 0,void 0,function(){var a,o;return kp(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Cy(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),s={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ib(t,e){return Jl(function(r,n){var s=0;r.subscribe(Sl(n,function(i){n.next(t.call(e,i,s++))}))})}function ob(t,e){return Jl(function(r,n){var s=0;r.subscribe(Sl(n,function(i){return t.call(e,i,s++)&&n.next(i)}))})}function ab(t,e){return e===void 0&&(e=ch),t=t??lb,Jl(function(r,n){var s,i=!0;r.subscribe(Sl(n,function(a){var o=e(a);(i||!t(s,o))&&(i=!1,s=o,n.next(a))}))})}function lb(t,e){return t===e}function cb(t,e){return ab(function(r,n){return r[t]===n[t]})}function Hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return ib(function(n){for(var s=n,i=0;i<r;i++){var a=s==null?void 0:s[t[i]];if(typeof a<"u")s=a;else return}return s})}function ub(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Ji}:e,n=t.resetOnError,s=n===void 0?!0:n,i=t.resetOnComplete,a=i===void 0?!0:i,o=t.resetOnRefCountZero,c=o===void 0?!0:o;return function(m){var d,l,f,g=0,h=!1,u=!1,b=function(){l==null||l.unsubscribe(),l=void 0},p=function(){b(),d=f=void 0,h=u=!1},y=function(){var v=d;p(),v==null||v.unsubscribe()};return Jl(function(v,E){g++,!u&&!h&&b();var x=f=f??r();E.add(function(){g--,g===0&&!u&&!h&&(l=Nu(y,c))}),x.subscribe(E),!d&&g>0&&(d=new xl({next:function(C){return x.next(C)},error:function(C){u=!0,b(),l=Nu(p,s,C),x.error(C)},complete:function(){h=!0,b(),l=Nu(p,a),x.complete()}}),uh(v).subscribe(d))})(m)}}function Nu(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var s=new xl({next:function(){s.unsubscribe(),t()}});return uh(e.apply(void 0,Xn([],ba(r)))).subscribe(s)}}function fb(t,e,r){var n,s=!1;return n=t,ub({connector:function(){return new jy(n,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function hb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Gy(t);return Jl(function(n,s){for(var i=t.length,a=new Array(i),o=t.map(function(){return!1}),c=!1,m=function(l){uh(t[l]).subscribe(Sl(s,function(f){a[l]=f,!c&&!o[l]&&(o[l]=!0,(c=o.every(ch))&&(o=null))},hf))},d=0;d<i;d++)m(d);n.subscribe(Sl(s,function(l){if(c){var f=Xn([l],ba(a));s.next(r?r.apply(void 0,Xn([],ba(f))):f)}}))})}const db={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Gp={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},ft={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Jt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Es={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let Q=class po{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=po.getVersionPrecision(e),i=po.getVersionPrecision(r);let a=Math.max(s,i),o=0;const c=po.map([e,r],m=>{const d=a-po.getVersionPrecision(m),l=m+new Array(d+1).join(".0");return po.map(l.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(o=a-Math.min(s,i)),a-=1;a>=o;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===o)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(c=>{n[c]=a[c]})}return e}static getBrowserAlias(e){return db[e]}static getBrowserTypeByAlias(e){return Gp[e]||""}};const ze=/version\/(\d+(\.?_?\d+)+)/i,pb=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=Q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=Q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=Q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=Q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=Q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=Q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=Q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=Q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=Q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=Q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=Q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=Q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=Q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=Q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=Q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=Q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=Q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=Q.getFirstMatch(ze,t)||Q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=Q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=Q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=Q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=Q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=Q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=Q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=Q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=Q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=Q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=Q.getFirstMatch(ze,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:Q.getFirstMatch(s,t),version:Q.getSecondMatch(s,t)}}}],mb=[{test:[/Roku\/DVP/],describe(t){const e=Q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Jt.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Jt.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Q.getWindowsVersionName(e);return{name:Jt.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Jt.iOS},r=Q.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=Q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Q.getMacOSVersionName(e),n={name:Jt.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Jt.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=Q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Q.getAndroidVersionName(e),n={name:Jt.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Jt.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Q.getFirstMatch(/\bbb(\d+)/i,t);return{name:Jt.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Jt.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Jt.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Jt.Linux}}},{test:[/CrOS/],describe(){return{name:Jt.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Jt.PlayStation4,version:e}}}],gb=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Q.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:ft.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:ft.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:ft.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:ft.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:ft.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:ft.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:ft.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=Q.getFirstMatch(/(ipod|iphone)/i,t);return{type:ft.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:ft.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:ft.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:ft.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:ft.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:ft.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:ft.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:ft.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:ft.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:ft.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:ft.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:ft.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:ft.tv}}}],yb=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Es.Blink};const r=Q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Es.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Es.Trident},r=Q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Es.Presto},r=Q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Es.Gecko},r=Q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Es.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Es.WebKit},r=Q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];let Vh=class{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Q.find(pb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Q.find(mb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=Q.find(gb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Q.find(yb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Q.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(o=>{const c=e[o];typeof c=="string"?(s[o]=c,i+=1):typeof c=="object"&&(r[o]=c,n+=1)}),n>0){const o=Object.keys(r),c=Q.find(o,d=>this.isOS(d));if(c){const d=this.satisfies(r[c]);if(d!==void 0)return d}const m=Q.find(o,d=>this.isPlatform(d));if(m){const d=this.satisfies(r[m]);if(d!==void 0)return d}}if(i>0){const o=Object.keys(s),c=Q.find(o,m=>this.isBrowser(m,!0));if(c!==void 0)return this.compareVersion(s[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=Q.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(Q.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class bb{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Vh(e,r)}static parse(e){return new Vh(e).getResult()}static get BROWSER_MAP(){return Gp}static get ENGINE_MAP(){return Es}static get OS_MAP(){return Jt}static get PLATFORMS_MAP(){return ft}}function Oo(){}function wb(t){return t()}function vb(t){t.forEach(wb)}function Ab(t){return typeof t=="function"}function Eb(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function _b(t,...e){if(t==null)return Oo;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}const lo=[];function xb(t,e){return{subscribe:ru(t,e).subscribe}}function ru(t,e=Oo){let r;const n=new Set;function s(o){if(Eb(t,o)&&(t=o,r)){const c=!lo.length;for(const m of n)m[1](),lo.push(m,t);if(c){for(let m=0;m<lo.length;m+=2)lo[m][0](lo[m+1]);lo.length=0}}}function i(o){s(o(t))}function a(o,c=Oo){const m=[o,c];return n.add(m),n.size===1&&(r=e(s)||Oo),o(t),()=>{n.delete(m),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function Pa(t,e,r){const n=!Array.isArray(t),s=n?[t]:t,i=e.length<2;return xb(r,a=>{let o=!1;const c=[];let m=0,d=Oo;const l=()=>{if(m)return;d();const g=e(n?c[0]:c,a);i?a(g):d=Ab(g)?g:Oo},f=s.map((g,h)=>_b(g,u=>{c[h]=u,m&=~(1<<h),o&&l()},()=>{m|=1<<h}));return o=!0,l(),function(){vb(f),d(),o=!1}})}var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ru,zh;function Ob(){if(zh)return Ru;zh=1;var t=function(y){return e(y)&&!r(y)};function e(p){return!!p&&typeof p=="object"}function r(p){var y=Object.prototype.toString.call(p);return y==="[object RegExp]"||y==="[object Date]"||i(p)}var n=typeof Symbol=="function"&&Symbol.for,s=n?Symbol.for("react.element"):60103;function i(p){return p.$$typeof===s}function a(p){return Array.isArray(p)?[]:{}}function o(p,y){return y.clone!==!1&&y.isMergeableObject(p)?u(a(p),p,y):p}function c(p,y,v){return p.concat(y).map(function(E){return o(E,v)})}function m(p,y){if(!y.customMerge)return u;var v=y.customMerge(p);return typeof v=="function"?v:u}function d(p){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(p).filter(function(y){return Object.propertyIsEnumerable.call(p,y)}):[]}function l(p){return Object.keys(p).concat(d(p))}function f(p,y){try{return y in p}catch{return!1}}function g(p,y){return f(p,y)&&!(Object.hasOwnProperty.call(p,y)&&Object.propertyIsEnumerable.call(p,y))}function h(p,y,v){var E={};return v.isMergeableObject(p)&&l(p).forEach(function(x){E[x]=o(p[x],v)}),l(y).forEach(function(x){g(p,x)||(f(p,x)&&v.isMergeableObject(y[x])?E[x]=m(x,v)(p[x],y[x],v):E[x]=o(y[x],v))}),E}function u(p,y,v){v=v||{},v.arrayMerge=v.arrayMerge||c,v.isMergeableObject=v.isMergeableObject||t,v.cloneUnlessOtherwiseSpecified=o;var E=Array.isArray(y),x=Array.isArray(p),C=E===x;return C?E?v.arrayMerge(p,y,v):h(p,y,v):o(y,v)}u.all=function(y,v){if(!Array.isArray(y))throw new Error("first argument should be an array");return y.reduce(function(E,x){return u(E,x,v)},{})};var b=u;return Ru=b,Ru}var Ib=Ob();const Tb=nu(Ib);function ku(t,e){var r=e&&e.cache?e.cache:Mb,n=e&&e.serializer?e.serializer:kb,s=e&&e.strategy?e.strategy:Pb;return s(t,{cache:r,serializer:n})}function Cb(t){return t==null||typeof t=="number"||typeof t=="boolean"}function $p(t,e,r,n){var s=Cb(n)?n:r(n),i=e.get(s);return typeof i>"u"&&(i=t.call(this,n),e.set(s,i)),i}function Wp(t,e,r){var n=Array.prototype.slice.call(arguments,3),s=r(n),i=e.get(s);return typeof i>"u"&&(i=t.apply(this,n),e.set(s,i)),i}function fh(t,e,r,n,s){return r.bind(e,t,n,s)}function Pb(t,e){var r=t.length===1?$p:Wp;return fh(t,this,r,e.cache.create(),e.serializer)}function Nb(t,e){return fh(t,this,Wp,e.cache.create(),e.serializer)}function Rb(t,e){return fh(t,this,$p,e.cache.create(),e.serializer)}var kb=function(){return JSON.stringify(arguments)},Bb=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,r){this.cache[e]=r},t}(),Mb={create:function(){return new Bb}},Bu={variadic:Nb,monadic:Rb},Ne;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Ne||(Ne={}));var et;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(et||(et={}));var wa;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(wa||(wa={}));function qh(t){return t.type===et.literal}function Db(t){return t.type===et.argument}function Vp(t){return t.type===et.number}function zp(t){return t.type===et.date}function qp(t){return t.type===et.time}function Qp(t){return t.type===et.select}function Jp(t){return t.type===et.plural}function Lb(t){return t.type===et.pound}function Kp(t){return t.type===et.tag}function Zp(t){return!!(t&&typeof t=="object"&&t.type===wa.number)}function df(t){return!!(t&&typeof t=="object"&&t.type===wa.dateTime)}var Xp=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ub=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Fb(t){var e={};return t.replace(Ub,function(r){var n=r.length;switch(r[0]){case"G":e.era=n===4?"long":n===5?"narrow":"short";break;case"y":e.year=n===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=n===4?"long":n===5?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][n-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][n-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][n-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][n-1];break;case"s":e.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var jb=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Hb(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(jb).filter(function(f){return f.length>0}),r=[],n=0,s=e;n<s.length;n++){var i=s[n],a=i.split("/");if(a.length===0)throw new Error("Invalid number skeleton");for(var o=a[0],c=a.slice(1),m=0,d=c;m<d.length;m++){var l=d[m];if(l.length===0)throw new Error("Invalid number skeleton")}r.push({stem:o,options:c})}return r}function Gb(t){return t.replace(/^(.*?)-/,"")}var Qh=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Yp=/^(@+)?(\+|#+)?[rs]?$/g,$b=/(\*)(0+)|(#+)(0+)|(0+)/g,em=/^(0+)$/;function Jh(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(Yp,function(r,n,s){return typeof s!="string"?(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length):s==="+"?e.minimumSignificantDigits=n.length:n[0]==="#"?e.maximumSignificantDigits=n.length:(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length+(typeof s=="string"?s.length:0)),""}),e}function tm(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Wb(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var r=t.slice(0,2);if(r==="+!"?(e.signDisplay="always",t=t.slice(2)):r==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!em.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function Kh(t){var e={},r=tm(t);return r||e}function Vb(t){for(var e={},r=0,n=t;r<n.length;r++){var s=n[r];switch(s.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=s.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=Gb(s.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=Ue(Ue(Ue({},e),{notation:"scientific"}),s.options.reduce(function(c,m){return Ue(Ue({},c),Kh(m))},{}));continue;case"engineering":e=Ue(Ue(Ue({},e),{notation:"engineering"}),s.options.reduce(function(c,m){return Ue(Ue({},c),Kh(m))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(s.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(s.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");s.options[0].replace($b,function(c,m,d,l,f,g){if(m)e.minimumIntegerDigits=d.length;else{if(l&&f)throw new Error("We currently do not support maximum integer digits");if(g)throw new Error("We currently do not support exact integer digits")}return""});continue}if(em.test(s.stem)){e.minimumIntegerDigits=s.stem.length;continue}if(Qh.test(s.stem)){if(s.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");s.stem.replace(Qh,function(c,m,d,l,f,g){return d==="*"?e.minimumFractionDigits=m.length:l&&l[0]==="#"?e.maximumFractionDigits=l.length:f&&g?(e.minimumFractionDigits=f.length,e.maximumFractionDigits=f.length+g.length):(e.minimumFractionDigits=m.length,e.maximumFractionDigits=m.length),""});var i=s.options[0];i==="w"?e=Ue(Ue({},e),{trailingZeroDisplay:"stripIfInteger"}):i&&(e=Ue(Ue({},e),Jh(i)));continue}if(Yp.test(s.stem)){e=Ue(Ue({},e),Jh(s.stem));continue}var a=tm(s.stem);a&&(e=Ue(Ue({},e),a));var o=Wb(s.stem);o&&(e=Ue(Ue({},e),o))}return e}var sc={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function zb(t,e){for(var r="",n=0;n<t.length;n++){var s=t.charAt(n);if(s==="j"){for(var i=0;n+1<t.length&&t.charAt(n+1)===s;)i++,n++;var a=1+(i&1),o=i<2?1:3+(i>>1),c="a",m=qb(e);for((m=="H"||m=="k")&&(o=0);o-- >0;)r+=c;for(;a-- >0;)r=m+r}else s==="J"?r+="H":r+=s}return r}function qb(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=t.language,n;r!=="root"&&(n=t.maximize().region);var s=sc[n||""]||sc[r||""]||sc["".concat(r,"-001")]||sc["001"];return s[0]}var Mu,Qb=new RegExp("^".concat(Xp.source,"*")),Jb=new RegExp("".concat(Xp.source,"*$"));function Be(t,e){return{start:t,end:e}}var Kb=!!String.prototype.startsWith&&"_a".startsWith("a",1),Zb=!!String.fromCodePoint,Xb=!!Object.fromEntries,Yb=!!String.prototype.codePointAt,e0=!!String.prototype.trimStart,t0=!!String.prototype.trimEnd,r0=!!Number.isSafeInteger,n0=r0?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},pf=!0;try{var s0=nm("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");pf=((Mu=s0.exec("a"))===null||Mu===void 0?void 0:Mu[0])==="a"}catch{pf=!1}var Zh=Kb?function(e,r,n){return e.startsWith(r,n)}:function(e,r,n){return e.slice(n,n+r.length)===r},mf=Zb?String.fromCodePoint:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n="",s=e.length,i=0,a;s>i;){if(a=e[i++],a>1114111)throw RangeError(a+" is not a valid code point");n+=a<65536?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10)+55296,a%1024+56320)}return n},Xh=Xb?Object.fromEntries:function(e){for(var r={},n=0,s=e;n<s.length;n++){var i=s[n],a=i[0],o=i[1];r[a]=o}return r},rm=Yb?function(e,r){return e.codePointAt(r)}:function(e,r){var n=e.length;if(!(r<0||r>=n)){var s=e.charCodeAt(r),i;return s<55296||s>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?s:(s-55296<<10)+(i-56320)+65536}},i0=e0?function(e){return e.trimStart()}:function(e){return e.replace(Qb,"")},o0=t0?function(e){return e.trimEnd()}:function(e){return e.replace(Jb,"")};function nm(t,e){return new RegExp(t,e)}var gf;if(pf){var Yh=nm("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");gf=function(e,r){var n;Yh.lastIndex=r;var s=Yh.exec(e);return(n=s[1])!==null&&n!==void 0?n:""}}else gf=function(e,r){for(var n=[];;){var s=rm(e,r);if(s===void 0||sm(s)||u0(s))break;n.push(s),r+=s>=65536?2:1}return mf.apply(void 0,n)};var a0=function(){function t(e,r){r===void 0&&(r={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,r,n){for(var s=[];!this.isEOF();){var i=this.char();if(i===123){var a=this.parseArgument(e,n);if(a.err)return a;s.push(a.val)}else{if(i===125&&e>0)break;if(i===35&&(r==="plural"||r==="selectordinal")){var o=this.clonePosition();this.bump(),s.push({type:et.pound,location:Be(o,this.clonePosition())})}else if(i===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(Ne.UNMATCHED_CLOSING_TAG,Be(this.clonePosition(),this.clonePosition()))}else if(i===60&&!this.ignoreTag&&yf(this.peek()||0)){var a=this.parseTag(e,r);if(a.err)return a;s.push(a.val)}else{var a=this.parseLiteral(e,r);if(a.err)return a;s.push(a.val)}}}return{val:s,err:null}},t.prototype.parseTag=function(e,r){var n=this.clonePosition();this.bump();var s=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:et.literal,value:"<".concat(s,"/>"),location:Be(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,r,!0);if(i.err)return i;var a=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!yf(this.char()))return this.error(Ne.INVALID_TAG,Be(o,this.clonePosition()));var c=this.clonePosition(),m=this.parseTagName();return s!==m?this.error(Ne.UNMATCHED_CLOSING_TAG,Be(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:et.tag,value:s,children:a,location:Be(n,this.clonePosition())},err:null}:this.error(Ne.INVALID_TAG,Be(o,this.clonePosition())))}else return this.error(Ne.UNCLOSED_TAG,Be(n,this.clonePosition()))}else return this.error(Ne.INVALID_TAG,Be(n,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&c0(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,r){for(var n=this.clonePosition(),s="";;){var i=this.tryParseQuote(r);if(i){s+=i;continue}var a=this.tryParseUnquoted(e,r);if(a){s+=a;continue}var o=this.tryParseLeftAngleBracket();if(o){s+=o;continue}break}var c=Be(n,this.clonePosition());return{val:{type:et.literal,value:s,location:c},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!l0(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(n);this.bump()}return mf.apply(void 0,r)},t.prototype.tryParseUnquoted=function(e,r){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(r==="plural"||r==="selectordinal")||n===125&&e>0?null:(this.bump(),mf(n))},t.prototype.parseArgument=function(e,r){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,Be(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Ne.EMPTY_ARGUMENT,Be(n,this.clonePosition()));var s=this.parseIdentifierIfPossible().value;if(!s)return this.error(Ne.MALFORMED_ARGUMENT,Be(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,Be(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:et.argument,value:s,location:Be(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,Be(n,this.clonePosition())):this.parseArgumentOptions(e,r,s,n);default:return this.error(Ne.MALFORMED_ARGUMENT,Be(n,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),r=this.offset(),n=gf(this.message,r),s=r+n.length;this.bumpTo(s);var i=this.clonePosition(),a=Be(e,i);return{value:n,location:a}},t.prototype.parseArgumentOptions=function(e,r,n,s){var i,a=this.clonePosition(),o=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(o){case"":return this.error(Ne.EXPECT_ARGUMENT_TYPE,Be(a,c));case"number":case"date":case"time":{this.bumpSpace();var m=null;if(this.bumpIf(",")){this.bumpSpace();var d=this.clonePosition(),l=this.parseSimpleArgStyleIfPossible();if(l.err)return l;var f=o0(l.val);if(f.length===0)return this.error(Ne.EXPECT_ARGUMENT_STYLE,Be(this.clonePosition(),this.clonePosition()));var g=Be(d,this.clonePosition());m={style:f,styleLocation:g}}var h=this.tryParseArgumentClose(s);if(h.err)return h;var u=Be(s,this.clonePosition());if(m&&Zh(m==null?void 0:m.style,"::",0)){var b=i0(m.style.slice(2));if(o==="number"){var l=this.parseNumberSkeletonFromString(b,m.styleLocation);return l.err?l:{val:{type:et.number,value:n,location:u,style:l.val},err:null}}else{if(b.length===0)return this.error(Ne.EXPECT_DATE_TIME_SKELETON,u);var p=b;this.locale&&(p=zb(b,this.locale));var f={type:wa.dateTime,pattern:p,location:m.styleLocation,parsedOptions:this.shouldParseSkeletons?Fb(p):{}},y=o==="date"?et.date:et.time;return{val:{type:y,value:n,location:u,style:f},err:null}}}return{val:{type:o==="number"?et.number:o==="date"?et.date:et.time,value:n,location:u,style:(i=m==null?void 0:m.style)!==null&&i!==void 0?i:null},err:null}}case"plural":case"selectordinal":case"select":{var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ne.EXPECT_SELECT_ARGUMENT_OPTIONS,Be(v,Ue({},v)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),x=0;if(o!=="select"&&E.value==="offset"){if(!this.bumpIf(":"))return this.error(Ne.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Be(this.clonePosition(),this.clonePosition()));this.bumpSpace();var l=this.tryParseDecimalInteger(Ne.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ne.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(l.err)return l;this.bumpSpace(),E=this.parseIdentifierIfPossible(),x=l.val}var C=this.tryParsePluralOrSelectOptions(e,o,r,E);if(C.err)return C;var h=this.tryParseArgumentClose(s);if(h.err)return h;var T=Be(s,this.clonePosition());return o==="select"?{val:{type:et.select,value:n,options:Xh(C.val),location:T},err:null}:{val:{type:et.plural,value:n,options:Xh(C.val),offset:x,pluralType:o==="plural"?"cardinal":"ordinal",location:T},err:null}}default:return this.error(Ne.INVALID_ARGUMENT_TYPE,Be(a,c))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(Ne.EXPECT_ARGUMENT_CLOSING_BRACE,Be(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,r=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var s=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ne.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Be(s,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,r){var n=[];try{n=Hb(e)}catch{return this.error(Ne.INVALID_NUMBER_SKELETON,r)}return{val:{type:wa.number,tokens:n,location:r,parsedOptions:this.shouldParseSkeletons?Vb(n):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,r,n,s){for(var i,a=!1,o=[],c=new Set,m=s.value,d=s.location;;){if(m.length===0){var l=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var f=this.tryParseDecimalInteger(Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ne.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;d=Be(l,this.clonePosition()),m=this.message.slice(l.offset,this.offset())}else break}if(c.has(m))return this.error(r==="select"?Ne.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ne.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,d);m==="other"&&(a=!0),this.bumpSpace();var g=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Ne.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Be(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,r,n);if(h.err)return h;var u=this.tryParseArgumentClose(g);if(u.err)return u;o.push([m,{value:h.val,location:Be(g,this.clonePosition())}]),c.add(m),this.bumpSpace(),i=this.parseIdentifierIfPossible(),m=i.value,d=i.location}return o.length===0?this.error(r==="select"?Ne.EXPECT_SELECT_ARGUMENT_SELECTOR:Ne.EXPECT_PLURAL_ARGUMENT_SELECTOR,Be(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(Ne.MISSING_OTHER_CLAUSE,Be(this.clonePosition(),this.clonePosition())):{val:o,err:null}},t.prototype.tryParseDecimalInteger=function(e,r){var n=1,s=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,a=0;!this.isEOF();){var o=this.char();if(o>=48&&o<=57)i=!0,a=a*10+(o-48),this.bump();else break}var c=Be(s,this.clonePosition());return i?(a*=n,n0(a)?{val:a,err:null}:this.error(r,c)):this.error(e,c)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var r=rm(this.message,e);if(r===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return r},t.prototype.error=function(e,r){return{val:null,err:{kind:e,message:this.message,location:r}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(Zh(this.message,e,this.offset())){for(var r=0;r<e.length;r++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var r=this.offset(),n=this.message.indexOf(e,r);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var r=this.offset();if(r===e)break;if(r>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&sm(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),r=this.offset(),n=this.message.charCodeAt(r+(e>=65536?2:1));return n??null},t}();function yf(t){return t>=97&&t<=122||t>=65&&t<=90}function l0(t){return yf(t)||t===47}function c0(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function sm(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function u0(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function bf(t){t.forEach(function(e){if(delete e.location,Qp(e)||Jp(e))for(var r in e.options)delete e.options[r].location,bf(e.options[r].value);else Vp(e)&&Zp(e.style)||(zp(e)||qp(e))&&df(e.style)?delete e.style.location:Kp(e)&&bf(e.children)})}function f0(t,e){e===void 0&&(e={}),e=Ue({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new a0(t,e).parse();if(r.err){var n=SyntaxError(Ne[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return e!=null&&e.captureLocation||bf(r.val),r.val}var va;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(va||(va={}));var su=function(t){Yr(e,t);function e(r,n,s){var i=t.call(this,r)||this;return i.code=n,i.originalMessage=s,i}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),ed=function(t){Yr(e,t);function e(r,n,s,i){return t.call(this,'Invalid values for "'.concat(r,'": "').concat(n,'". Options are "').concat(Object.keys(s).join('", "'),'"'),va.INVALID_VALUE,i)||this}return e}(su),h0=function(t){Yr(e,t);function e(r,n,s){return t.call(this,'Value for "'.concat(r,'" must be of type ').concat(n),va.INVALID_VALUE,s)||this}return e}(su),d0=function(t){Yr(e,t);function e(r,n){return t.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(n,'"'),va.MISSING_VALUE,n)||this}return e}(su),Xt;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(Xt||(Xt={}));function p0(t){return t.length<2?t:t.reduce(function(e,r){var n=e[e.length-1];return!n||n.type!==Xt.literal||r.type!==Xt.literal?e.push(r):n.value+=r.value,e},[])}function m0(t){return typeof t=="function"}function yc(t,e,r,n,s,i,a){if(t.length===1&&qh(t[0]))return[{type:Xt.literal,value:t[0].value}];for(var o=[],c=0,m=t;c<m.length;c++){var d=m[c];if(qh(d)){o.push({type:Xt.literal,value:d.value});continue}if(Lb(d)){typeof i=="number"&&o.push({type:Xt.literal,value:r.getNumberFormat(e).format(i)});continue}var l=d.value;if(!(s&&l in s))throw new d0(l,a);var f=s[l];if(Db(d)){(!f||typeof f=="string"||typeof f=="number")&&(f=typeof f=="string"||typeof f=="number"?String(f):""),o.push({type:typeof f=="string"?Xt.literal:Xt.object,value:f});continue}if(zp(d)){var g=typeof d.style=="string"?n.date[d.style]:df(d.style)?d.style.parsedOptions:void 0;o.push({type:Xt.literal,value:r.getDateTimeFormat(e,g).format(f)});continue}if(qp(d)){var g=typeof d.style=="string"?n.time[d.style]:df(d.style)?d.style.parsedOptions:n.time.medium;o.push({type:Xt.literal,value:r.getDateTimeFormat(e,g).format(f)});continue}if(Vp(d)){var g=typeof d.style=="string"?n.number[d.style]:Zp(d.style)?d.style.parsedOptions:void 0;g&&g.scale&&(f=f*(g.scale||1)),o.push({type:Xt.literal,value:r.getNumberFormat(e,g).format(f)});continue}if(Kp(d)){var h=d.children,u=d.value,b=s[u];if(!m0(b))throw new h0(u,"function",a);var p=yc(h,e,r,n,s,i),y=b(p.map(function(x){return x.value}));Array.isArray(y)||(y=[y]),o.push.apply(o,y.map(function(x){return{type:typeof x=="string"?Xt.literal:Xt.object,value:x}}))}if(Qp(d)){var v=d.options[f]||d.options.other;if(!v)throw new ed(d.value,f,Object.keys(d.options),a);o.push.apply(o,yc(v.value,e,r,n,s));continue}if(Jp(d)){var v=d.options["=".concat(f)];if(!v){if(!Intl.PluralRules)throw new su(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,va.MISSING_INTL_API,a);var E=r.getPluralRules(e,{type:d.pluralType}).select(f-(d.offset||0));v=d.options[E]||d.options.other}if(!v)throw new ed(d.value,f,Object.keys(d.options),a);o.push.apply(o,yc(v.value,e,r,n,s,f-(d.offset||0)));continue}}return p0(o)}function g0(t,e){return e?Ue(Ue(Ue({},t||{}),e||{}),Object.keys(t).reduce(function(r,n){return r[n]=Ue(Ue({},t[n]),e[n]||{}),r},{})):t}function y0(t,e){return e?Object.keys(t).reduce(function(r,n){return r[n]=g0(t[n],e[n]),r},Ue({},t)):t}function Du(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function b0(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ku(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Xn([void 0],r,!1)))},{cache:Du(t.number),strategy:Bu.variadic}),getDateTimeFormat:ku(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Xn([void 0],r,!1)))},{cache:Du(t.dateTime),strategy:Bu.variadic}),getPluralRules:ku(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Xn([void 0],r,!1)))},{cache:Du(t.pluralRules),strategy:Bu.variadic})}}var w0=function(){function t(e,r,n,s){r===void 0&&(r=t.defaultLocale);var i=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(c){var m=i.formatToParts(c);if(m.length===1)return m[0].value;var d=m.reduce(function(l,f){return!l.length||f.type!==Xt.literal||typeof l[l.length-1]!="string"?l.push(f.value):l[l.length-1]+=f.value,l},[]);return d.length<=1?d[0]||"":d},this.formatToParts=function(c){return yc(i.ast,i.locales,i.formatters,i.formats,c,void 0,i.message)},this.resolvedOptions=function(){var c;return{locale:((c=i.resolvedLocale)===null||c===void 0?void 0:c.toString())||Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},this.locales=r,this.resolvedLocale=t.resolveLocale(r),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=s||{};a.formatters;var o=Oy(a,["formatters"]);this.ast=t.__parse(e,Ue(Ue({},o),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=y0(t.formats,n),this.formatters=s&&s.formatters||b0(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(e);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=f0,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();function v0(t,e){if(e==null)return;if(e in t)return t[e];const r=e.split(".");let n=t;for(let s=0;s<r.length;s++)if(typeof n=="object"){if(s>0){const i=r.slice(s,r.length).join(".");if(i in n){n=n[i];break}}n=n[r[s]]}else n=void 0;return n}const Gs={},A0=(t,e,r)=>r&&(e in Gs||(Gs[e]={}),t in Gs[e]||(Gs[e][t]=r),r),im=(t,e)=>{if(e==null)return;if(e in Gs&&t in Gs[e])return Gs[e][t];const r=iu(e);for(let n=0;n<r.length;n++){const s=r[n],i=_0(s,t);if(i)return A0(t,e,i)}};let hh;const Kl=ru({});function E0(t){return hh[t]||null}function om(t){return t in hh}function _0(t,e){if(!om(t))return null;const r=E0(t);return v0(r,e)}function x0(t){if(t==null)return;const e=iu(t);for(let r=0;r<e.length;r++){const n=e[r];if(om(n))return n}}function S0(t,...e){delete Gs[t],Kl.update(r=>(r[t]=Tb.all([r[t]||{},...e]),r))}Pa([Kl],([t])=>Object.keys(t));Kl.subscribe(t=>hh=t);const bc={};function O0(t,e){bc[t].delete(e),bc[t].size===0&&delete bc[t]}function am(t){return bc[t]}function I0(t){return iu(t).map(e=>{const r=am(e);return[e,r?[...r]:[]]}).filter(([,e])=>e.length>0)}function wf(t){return t==null?!1:iu(t).some(e=>{var r;return(r=am(e))==null?void 0:r.size})}function T0(t,e){return Promise.all(e.map(n=>(O0(t,n),n().then(s=>s.default||s)))).then(n=>S0(t,...n))}const al={};function lm(t){if(!wf(t))return t in al?al[t]:Promise.resolve();const e=I0(t);return al[t]=Promise.all(e.map(([r,n])=>T0(r,n))).then(()=>{if(wf(t))return lm(t);delete al[t]}),al[t]}const C0={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},P0={fallbackLocale:null,loadingDelay:200,formats:C0,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},N0=P0;function Aa(){return N0}const Lu=ru(!1);var R0=Object.defineProperty,k0=Object.defineProperties,B0=Object.getOwnPropertyDescriptors,td=Object.getOwnPropertySymbols,M0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable,rd=(t,e,r)=>e in t?R0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L0=(t,e)=>{for(var r in e)M0.call(e,r)&&rd(t,r,e[r]);if(td)for(var r of td(e))D0.call(e,r)&&rd(t,r,e[r]);return t},U0=(t,e)=>k0(t,B0(e));let vf;const Pc=ru(null);function nd(t){return t.split("-").map((e,r,n)=>n.slice(0,r+1).join("-")).reverse()}function iu(t,e=Aa().fallbackLocale){const r=nd(t);return e?[...new Set([...r,...nd(e)])]:r}function Ki(){return vf??void 0}Pc.subscribe(t=>{vf=t??void 0,typeof window<"u"&&t!=null&&document.documentElement.setAttribute("lang",t)});const F0=t=>{if(t&&x0(t)&&wf(t)){const{loadingDelay:e}=Aa();let r;return typeof window<"u"&&Ki()!=null&&e?r=window.setTimeout(()=>Lu.set(!0),e):Lu.set(!0),lm(t).then(()=>{Pc.set(t)}).finally(()=>{clearTimeout(r),Lu.set(!1)})}return Pc.set(t)},Na=U0(L0({},Pc),{set:F0}),ou=t=>{const e=Object.create(null);return n=>{const s=JSON.stringify(n);return s in e?e[s]:e[s]=t(n)}};var j0=Object.defineProperty,Nc=Object.getOwnPropertySymbols,cm=Object.prototype.hasOwnProperty,um=Object.prototype.propertyIsEnumerable,sd=(t,e,r)=>e in t?j0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dh=(t,e)=>{for(var r in e||(e={}))cm.call(e,r)&&sd(t,r,e[r]);if(Nc)for(var r of Nc(e))um.call(e,r)&&sd(t,r,e[r]);return t},Ra=(t,e)=>{var r={};for(var n in t)cm.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Nc)for(var n of Nc(t))e.indexOf(n)<0&&um.call(t,n)&&(r[n]=t[n]);return r};const Ol=(t,e)=>{const{formats:r}=Aa();if(t in r&&e in r[t])return r[t][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${t} format.`)},H0=ou(t=>{var e=t,{locale:r,format:n}=e,s=Ra(e,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(s=Ol("number",n)),new Intl.NumberFormat(r,s)}),G0=ou(t=>{var e=t,{locale:r,format:n}=e,s=Ra(e,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?s=Ol("date",n):Object.keys(s).length===0&&(s=Ol("date","short")),new Intl.DateTimeFormat(r,s)}),$0=ou(t=>{var e=t,{locale:r,format:n}=e,s=Ra(e,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?s=Ol("time",n):Object.keys(s).length===0&&(s=Ol("time","short")),new Intl.DateTimeFormat(r,s)}),W0=(t={})=>{var e=t,{locale:r=Ki()}=e,n=Ra(e,["locale"]);return H0(dh({locale:r},n))},V0=(t={})=>{var e=t,{locale:r=Ki()}=e,n=Ra(e,["locale"]);return G0(dh({locale:r},n))},z0=(t={})=>{var e=t,{locale:r=Ki()}=e,n=Ra(e,["locale"]);return $0(dh({locale:r},n))},q0=ou((t,e=Ki())=>new w0(t,e,Aa().formats,{ignoreTag:Aa().ignoreTag})),Q0=(t,e={})=>{var r,n,s,i;let a=e;typeof t=="object"&&(a=t,t=a.id);const{values:o,locale:c=Ki(),default:m}=a;if(c==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let d=im(t,c);if(!d)d=(i=(s=(n=(r=Aa()).handleMissingMessage)==null?void 0:n.call(r,{locale:c,id:t,defaultValue:m}))!=null?s:m)!=null?i:t;else if(typeof d!="string")return console.warn(`[svelte-i18n] Message with id "${t}" must be of type "string", found: "${typeof d}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),d;if(!o)return d;let l=d;try{l=q0(d,c).format(o)}catch(f){f instanceof Error&&console.warn(`[svelte-i18n] Message "${t}" has syntax error:`,f.message)}return l},J0=(t,e)=>z0(e).format(t),K0=(t,e)=>V0(e).format(t),Z0=(t,e)=>W0(e).format(t),X0=(t,e=Ki())=>im(t,e);Pa([Na,Kl],()=>Q0);Pa([Na],()=>J0);Pa([Na],()=>K0);Pa([Na],()=>Z0);Pa([Na,Kl],()=>X0);var Uu={exports:{}},id;function Y0(){return id||(id=1,function(t,e){(function(r,n){t.exports=n()})(self,()=>{return r={7629:(s,i,a)=>{const o=a(375),c=a(8571),m=a(9474),d=a(1687),l=a(8652),f=a(8160),g=a(3292),h=a(6354),u=a(8901),b=a(9708),p=a(6914),y=a(2294),v=a(6133),E=a(1152),x=a(8863),C=a(2036),T={Base:class{constructor(A){this.type=A,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new y.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return o(typeof b.describe=="function","Manifest functionality disabled"),b.describe(this)}allow(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];return f.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(A){o(A&&typeof A=="object"&&!Array.isArray(A),"Invalid targets argument"),o(!this._inRuleset(),"Cannot set alterations inside a ruleset");const S=this.clone();S.$_terms.alterations=S.$_terms.alterations||[];for(const I in A){const R=A[I];o(typeof R=="function","Alteration adjuster for",I,"must be a function"),S.$_terms.alterations.push({target:I,adjuster:R})}return S.$_temp.ruleset=!1,S}artifact(A){return o(A!==void 0,"Artifact cannot be undefined"),o(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",A)}cast(A){return o(A===!1||typeof A=="string","Invalid to value"),o(A===!1||this._definition.cast[A],"Type",this.type,"does not support casting to",A),this.$_setFlag("cast",A===!1?void 0:A)}default(A,S){return this._default("default",A,S)}description(A){return o(A&&typeof A=="string","Description must be a non-empty string"),this.$_setFlag("description",A)}empty(A){const S=this.clone();return A!==void 0&&(A=S.$_compile(A,{override:!1})),S.$_setFlag("empty",A,{clone:!1})}error(A){return o(A,"Missing error"),o(A instanceof Error||typeof A=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",A)}example(A){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o(A!==void 0,"Missing example"),f.assertOptions(S,["override"]),this._inner("examples",A,{single:!0,override:S.override})}external(A,S){return typeof A=="object"&&(o(!S,"Cannot combine options with description"),S=A.description,A=A.method),o(typeof A=="function","Method must be a function"),o(S===void 0||S&&typeof S=="string","Description must be a non-empty string"),this._inner("externals",{method:A,description:S},{single:!0})}failover(A,S){return this._default("failover",A,S)}forbidden(){return this.presence("forbidden")}id(A){return A?(o(typeof A=="string","id must be a non-empty string"),o(/^[^\.]+$/.test(A),"id cannot contain period character"),this.$_setFlag("id",A)):this.$_setFlag("id",void 0)}invalid(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];return this._values(S,"_invalids")}label(A){return o(A&&typeof A=="string","Label name must be a non-empty string"),this.$_setFlag("label",A)}meta(A){return o(A!==void 0,"Meta cannot be undefined"),this._inner("metas",A,{single:!0})}note(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];o(S.length,"Missing notes");for(const R of S)o(R&&typeof R=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(){let A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return o(typeof A=="boolean","Invalid mode:",A),this.$_setFlag("only",A)}optional(){return this.presence("optional")}prefs(A){o(A,"Missing preferences"),o(A.context===void 0,"Cannot override context"),o(A.externals===void 0,"Cannot override externals"),o(A.warnings===void 0,"Cannot override warnings"),o(A.debug===void 0,"Cannot override debug"),f.checkPreferences(A);const S=this.clone();return S._preferences=f.preferences(S._preferences,A),S}presence(A){return o(["optional","required","forbidden"].includes(A),"Unknown presence mode",A),this.$_setFlag("presence",A)}raw(){let A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",A?"raw":void 0)}result(A){return o(["raw","strip"].includes(A),"Unknown result mode",A),this.$_setFlag("result",A)}required(){return this.presence("required")}strict(A){const S=this.clone(),I=A!==void 0&&!A;return S._preferences=f.preferences(S._preferences,{convert:I}),S}strip(){let A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",A?"strip":void 0)}tag(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];o(S.length,"Missing tags");for(const R of S)o(R&&typeof R=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(A){return o(A&&typeof A=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",A)}valid(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];f.verifyFlat(S,"valid");const R=this.allow(...S);return R.$_setFlag("only",!!R._valids,{clone:!1}),R}when(A,S){const I=this.clone();I.$_terms.whens||(I.$_terms.whens=[]);const R=g.when(I,A,S);if(!["any","link"].includes(I.type)){const H=R.is?[R]:R.switch;for(const W of H)o(!W.then||W.then.type==="any"||W.then.type===I.type,"Cannot combine",I.type,"with",W.then&&W.then.type),o(!W.otherwise||W.otherwise.type==="any"||W.otherwise.type===I.type,"Cannot combine",I.type,"with",W.otherwise&&W.otherwise.type)}return I.$_terms.whens.push(R),I.$_mutateRebuild()}cache(A){o(!this._inRuleset(),"Cannot set caching inside a ruleset"),o(!this._cache,"Cannot override schema cache"),o(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const S=this.clone();return S._cache=A||l.provider.provision(),S.$_temp.ruleset=!1,S}clone(){const A=Object.create(Object.getPrototypeOf(this));return this._assign(A)}concat(A){o(f.isSchema(A),"Invalid schema object"),o(this.type==="any"||A.type==="any"||A.type===this.type,"Cannot merge type",this.type,"with another type:",A.type),o(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),o(!A._inRuleset(),"Cannot concatenate a schema with open ruleset");let S=this.clone();if(this.type==="any"&&A.type!=="any"){const I=A.clone();for(const R of Object.keys(S))R!=="type"&&(I[R]=S[R]);S=I}S._ids.concat(A._ids),S._refs.register(A,v.toSibling),S._preferences=S._preferences?f.preferences(S._preferences,A._preferences):A._preferences,S._valids=C.merge(S._valids,A._valids,A._invalids),S._invalids=C.merge(S._invalids,A._invalids,A._valids);for(const I of A._singleRules.keys())S._singleRules.has(I)&&(S._rules=S._rules.filter(R=>R.keep||R.name!==I),S._singleRules.delete(I));for(const I of A._rules)A._definition.rules[I.method].multi||S._singleRules.set(I.name,I),S._rules.push(I);if(S._flags.empty&&A._flags.empty){S._flags.empty=S._flags.empty.concat(A._flags.empty);const I=Object.assign({},A._flags);delete I.empty,d(S._flags,I)}else if(A._flags.empty){S._flags.empty=A._flags.empty;const I=Object.assign({},A._flags);delete I.empty,d(S._flags,I)}else d(S._flags,A._flags);for(const I in A.$_terms){const R=A.$_terms[I];R?S.$_terms[I]?S.$_terms[I]=S.$_terms[I].concat(R):S.$_terms[I]=R.slice():S.$_terms[I]||(S.$_terms[I]=R)}return this.$_root._tracer&&this.$_root._tracer._combine(S,[this,A]),S.$_mutateRebuild()}extend(A){return o(!A.base,"Cannot extend type with another base"),u.type(this,A)}extract(A){return A=Array.isArray(A)?A:A.split("."),this._ids.reach(A)}fork(A,S){o(!this._inRuleset(),"Cannot fork inside a ruleset");let I=this;for(let R of[].concat(A))R=Array.isArray(R)?R:R.split("."),I=I._ids.fork(R,S,I);return I.$_temp.ruleset=!1,I}rule(A){const S=this._definition;f.assertOptions(A,Object.keys(S.modifiers)),o(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const I=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;o(I>=0&&I<this._rules.length,"Cannot apply rules to empty ruleset");const R=this.clone();for(let H=I;H<R._rules.length;++H){const W=R._rules[H],Z=c(W);for(const j in A)S.modifiers[j](Z,A[j]),o(Z.name===W.name,"Cannot change rule name");R._rules[H]=Z,R._singleRules.get(Z.name)===W&&R._singleRules.set(Z.name,Z)}return R.$_temp.ruleset=!1,R.$_mutateRebuild()}get ruleset(){o(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const A=this.clone();return A.$_temp.ruleset=A._rules.length,A}get $(){return this.ruleset}tailor(A){A=[].concat(A),o(!this._inRuleset(),"Cannot tailor inside a ruleset");let S=this;if(this.$_terms.alterations)for(const{target:I,adjuster:R}of this.$_terms.alterations)A.includes(I)&&(S=R(S),o(f.isSchema(S),"Alteration adjuster for",I,"failed to return a schema object"));return S=S.$_modify({each:I=>I.tailor(A),ref:!1}),S.$_temp.ruleset=!1,S.$_mutateRebuild()}tracer(){return E.location?E.location(this):this}validate(A,S){return x.entry(A,this,S)}validateAsync(A,S){return x.entryAsync(A,this,S)}$_addRule(A){typeof A=="string"&&(A={name:A}),o(A&&typeof A=="object","Invalid options"),o(A.name&&typeof A.name=="string","Invalid rule name");for(const W in A)o(W[0]!=="_","Cannot set private rule properties");const S=Object.assign({},A);S._resolve=[],S.method=S.method||S.name;const I=this._definition.rules[S.method],R=S.args;o(I,"Unknown rule",S.method);const H=this.clone();if(R){o(Object.keys(R).length===1||Object.keys(R).length===this._definition.rules[S.name].args.length,"Invalid rule definition for",this.type,S.name);for(const W in R){let Z=R[W];if(I.argsByName){const j=I.argsByName.get(W);if(j.ref&&f.isResolvable(Z))S._resolve.push(W),H.$_mutateRegister(Z);else if(j.normalize&&(Z=j.normalize(Z),R[W]=Z),j.assert){const z=f.validateArg(Z,W,j);o(!z,z,"or reference")}}Z!==void 0?R[W]=Z:delete R[W]}}return I.multi||(H._ruleRemove(S.name,{clone:!1}),H._singleRules.set(S.name,S)),H.$_temp.ruleset===!1&&(H.$_temp.ruleset=null),I.priority?H._rules.unshift(S):H._rules.push(S),H}$_compile(A,S){return g.schema(this.$_root,A,S)}$_createError(A,S,I,R,H){let W=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const Z=W.flags!==!1?this._flags:{},j=W.messages?p.merge(this._definition.messages,W.messages):this._definition.messages;return new h.Report(A,S,I,Z,j,R,H)}$_getFlag(A){return this._flags[A]}$_getRule(A){return this._singleRules.get(A)}$_mapLabels(A){return A=Array.isArray(A)?A:A.split("."),this._ids.labels(A)}$_match(A,S,I,R){(I=Object.assign({},I)).abortEarly=!0,I._externals=!1,S.snapshot();const H=!x.validate(A,this,S,I,R).errors;return S.restore(),H}$_modify(A){return f.assertOptions(A,["each","once","ref","schema"]),y.schema(this,A)||this}$_mutateRebuild(){return o(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(A,S)=>{let{source:I,name:R,path:H,key:W}=S;const Z=this._definition[I][R]&&this._definition[I][R].register;Z!==!1&&this.$_mutateRegister(A,{family:Z,key:W})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(A){let{family:S,key:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._refs.register(A,S),this._ids.register(A,{key:I})}$_property(A){return this._definition.properties[A]}$_reach(A){return this._ids.reach(A)}$_rootReferences(){return this._refs.roots()}$_setFlag(A,S){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o(A[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const R=this._definition.flags[A]||{};if(m(S,R.default)&&(S=void 0),m(S,this._flags[A]))return this;const H=I.clone!==!1?this.clone():this;return S!==void 0?(H._flags[A]=S,H.$_mutateRegister(S)):delete H._flags[A],A[0]!=="_"&&(H.$_temp.ruleset=!1),H}$_parent(A){for(var S=arguments.length,I=new Array(S>1?S-1:0),R=1;R<S;R++)I[R-1]=arguments[R];return this[A][f.symbols.parent].call(this,...I)}$_validate(A,S,I){return x.validate(A,this,S,I)}_assign(A){A.type=this.type,A.$_root=this.$_root,A.$_temp=Object.assign({},this.$_temp),A.$_temp.whens={},A._ids=this._ids.clone(),A._preferences=this._preferences,A._valids=this._valids&&this._valids.clone(),A._invalids=this._invalids&&this._invalids.clone(),A._rules=this._rules.slice(),A._singleRules=c(this._singleRules,{shallow:!0}),A._refs=this._refs.clone(),A._flags=Object.assign({},this._flags),A._cache=null,A.$_terms={};for(const S in this.$_terms)A.$_terms[S]=this.$_terms[S]?this.$_terms[S].slice():null;A.$_super={};for(const S in this.$_super)A.$_super[S]=this._super[S].bind(A);return A}_bare(){const A=this.clone();A._reset();const S=A._definition.terms;for(const I in S){const R=S[I];A.$_terms[I]=R.init}return A.$_mutateRebuild()}_default(A,S){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return f.assertOptions(I,"literal"),o(S!==void 0,"Missing",A,"value"),o(typeof S=="function"||!I.literal,"Only function value supports literal option"),typeof S=="function"&&I.literal&&(S={[f.symbols.literal]:!0,literal:S}),this.$_setFlag(A,S)}_generate(A,S,I){if(!this.$_terms.whens)return{schema:this};const R=[],H=[];for(let j=0;j<this.$_terms.whens.length;++j){const z=this.$_terms.whens[j];if(z.concat){R.push(z.concat),H.push(`${j}.concat`);continue}const Y=z.ref?z.ref.resolve(A,S,I):A,de=z.is?[z]:z.switch,fe=H.length;for(let _e=0;_e<de.length;++_e){const{is:ue,then:ye,otherwise:he}=de[_e],Re=`${j}${z.switch?"."+_e:""}`;if(ue.$_match(Y,S.nest(ue,`${Re}.is`),I)){if(ye){const ct=S.localize([...S.path,`${Re}.then`],S.ancestors,S.schemas),{schema:st,id:Ye}=ye._generate(A,ct,I);R.push(st),H.push(`${Re}.then${Ye?`(${Ye})`:""}`);break}}else if(he){const ct=S.localize([...S.path,`${Re}.otherwise`],S.ancestors,S.schemas),{schema:st,id:Ye}=he._generate(A,ct,I);R.push(st),H.push(`${Re}.otherwise${Ye?`(${Ye})`:""}`);break}}if(z.break&&H.length>fe)break}const W=H.join(", ");if(S.mainstay.tracer.debug(S,"rule","when",W),!W)return{schema:this};if(!S.mainstay.tracer.active&&this.$_temp.whens[W])return{schema:this.$_temp.whens[W],id:W};let Z=this;this._definition.generate&&(Z=this._definition.generate(this,A,S,I));for(const j of R)Z=Z.concat(j);return this.$_root._tracer&&this.$_root._tracer._combine(Z,[this,...R]),this.$_temp.whens[W]=Z,{schema:Z,id:W}}_inner(A,S){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o(!this._inRuleset(),`Cannot set ${A} inside a ruleset`);const R=this.clone();return R.$_terms[A]&&!I.override||(R.$_terms[A]=[]),I.single?R.$_terms[A].push(S):R.$_terms[A].push(...S),R.$_temp.ruleset=!1,R}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(A){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._singleRules.has(A))return this;const I=S.clone!==!1?this.clone():this;I._singleRules.delete(A);const R=[];for(let H=0;H<I._rules.length;++H){const W=I._rules[H];W.name!==A||W.keep?R.push(W):I._inRuleset()&&H<I.$_temp.ruleset&&--I.$_temp.ruleset}return I._rules=R,I}_values(A,S){f.verifyFlat(A,S.slice(1,-1));const I=this.clone(),R=A[0]===f.symbols.override;if(R&&(A=A.slice(1)),!I[S]&&A.length?I[S]=new C:R&&(I[S]=A.length?new C:null,I.$_mutateRebuild()),!I[S])return I;R&&I[S].override();for(const H of A){o(H!==void 0,"Cannot call allow/valid/invalid with undefined"),o(H!==f.symbols.override,"Override must be the first value");const W=S==="_invalids"?"_valids":"_invalids";I[W]&&(I[W].remove(H),I[W].length||(o(S==="_valids"||!I._flags.only,"Setting invalid value",H,"leaves schema rejecting all values due to previous valid rule"),I[W]=null)),I[S].add(H,I._refs)}return I}}};T.Base.prototype[f.symbols.any]={version:f.version,compile:g.compile,root:"$_root"},T.Base.prototype.isImmutable=!0,T.Base.prototype.deny=T.Base.prototype.invalid,T.Base.prototype.disallow=T.Base.prototype.invalid,T.Base.prototype.equal=T.Base.prototype.valid,T.Base.prototype.exist=T.Base.prototype.required,T.Base.prototype.not=T.Base.prototype.invalid,T.Base.prototype.options=T.Base.prototype.prefs,T.Base.prototype.preferences=T.Base.prototype.prefs,s.exports=new T.Base},8652:(s,i,a)=>{const o=a(375),c=a(8571),m=a(8160),d={max:1e3,supported:new Set(["undefined","boolean","number","string"])};i.provider={provision:l=>new d.Cache(l)},d.Cache=class{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m.assertOptions(l,["max"]),o(l.max===void 0||l.max&&l.max>0&&isFinite(l.max),"Invalid max cache size"),this._max=l.max||d.max,this._map=new Map,this._list=new d.List}get length(){return this._map.size}set(l,f){if(l!==null&&!d.supported.has(typeof l))return;let g=this._map.get(l);if(g)return g.value=f,void this._list.first(g);g=this._list.unshift({key:l,value:f}),this._map.set(l,g),this._compact()}get(l){const f=this._map.get(l);if(f)return this._list.first(f),c(f.value)}_compact(){if(this._map.size>this._max){const l=this._list.pop();this._map.delete(l.key)}}},d.List=class{constructor(){this.tail=null,this.head=null}unshift(l){return l.next=null,l.prev=this.head,this.head&&(this.head.next=l),this.head=l,this.tail||(this.tail=l),l}first(l){l!==this.head&&(this._remove(l),this.unshift(l))}pop(){return this._remove(this.tail)}_remove(l){const{next:f,prev:g}=l;return f.prev=g,g&&(g.next=f),l===this.tail&&(this.tail=f),l.prev=null,l.next=null,l}}},8160:(s,i,a)=>{const o=a(375),c=a(7916),m=a(5934);let d,l;const f={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=m.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},i.assertOptions=function(g,h){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Options";o(g&&typeof g=="object"&&!Array.isArray(g),"Options must be of type object");const b=Object.keys(g).filter(p=>!h.includes(p));o(b.length===0,`${u} contain unknown keys: ${b}`)},i.checkPreferences=function(g){l=l||a(3378);const h=l.preferences.validate(g);if(h.error)throw new c([h.error.details[0].message])},i.compare=function(g,h,u){switch(u){case"=":return g===h;case">":return g>h;case"<":return g<h;case">=":return g>=h;case"<=":return g<=h}},i.default=function(g,h){return g===void 0?h:g},i.isIsoDate=function(g){return f.isoDate.test(g)},i.isNumber=function(g){return typeof g=="number"&&!isNaN(g)},i.isResolvable=function(g){return!!g&&(g[i.symbols.ref]||g[i.symbols.template])},i.isSchema=function(g){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=g&&g[i.symbols.any];return!!u&&(o(h.legacy||u.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(g){return g[i.symbols.values]},i.limit=function(g){return Number.isSafeInteger(g)&&g>=0},i.preferences=function(g,h){d=d||a(6914),g=g||{},h=h||{};const u=Object.assign({},g,h);return h.errors&&g.errors&&(u.errors=Object.assign({},g.errors,h.errors),u.errors.wrap=Object.assign({},g.errors.wrap,h.errors.wrap)),h.messages&&(u.messages=d.compile(h.messages,g.messages)),delete u[i.symbols.prefs],u},i.tryWithPath=function(g,h){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return g()}catch(b){throw b.path!==void 0?b.path=h+"."+b.path:b.path=h,u.append&&(b.message=`${b.message} (${b.path})`),b}},i.validateArg=function(g,h,u){let{assert:b,message:p}=u;if(i.isSchema(b)){const y=b.validate(g);return y.error?y.error.message:void 0}if(!b(g))return h?`${h} ${p}`:p},i.verifyFlat=function(g,h){for(const u of g)o(!Array.isArray(u),"Method no longer accepts array arguments:",h)}},3292:(s,i,a)=>{const o=a(375),c=a(8160),m=a(6133),d={};i.schema=function(l,f){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.assertOptions(g,["appendPath","override"]);try{return d.schema(l,f,g)}catch(h){throw g.appendPath&&h.path!==void 0&&(h.message=`${h.message} (${h.path})`),h}},d.schema=function(l,f,g){o(f!==void 0,"Invalid undefined schema"),Array.isArray(f)&&(o(f.length,"Invalid empty array schema"),f.length===1&&(f=f[0]));const h=function(u){for(var b=arguments.length,p=new Array(b>1?b-1:0),y=1;y<b;y++)p[y-1]=arguments[y];return g.override!==!1?u.valid(l.override,...p):u.valid(...p)};if(d.simple(f))return h(l,f);if(typeof f=="function")return l.custom(f);if(o(typeof f=="object","Invalid schema content:",typeof f),c.isResolvable(f))return h(l,f);if(c.isSchema(f))return f;if(Array.isArray(f)){for(const u of f)if(!d.simple(u))return l.alternatives().try(...f);return h(l,...f)}return f instanceof RegExp?l.string().regex(f):f instanceof Date?h(l.date(),f):(o(Object.getPrototypeOf(f)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),l.object().keys(f))},i.ref=function(l,f){return m.isRef(l)?l:m.create(l,f)},i.compile=function(l,f){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.assertOptions(g,["legacy"]);const h=f&&f[c.symbols.any];if(h)return o(g.legacy||h.version===c.version,"Cannot mix different versions of joi schemas:",h.version,c.version),f;if(typeof f!="object"||!g.legacy)return i.schema(l,f,{appendPath:!0});const u=d.walk(f);return u?u.compile(u.root,f):i.schema(l,f,{appendPath:!0})},d.walk=function(l){if(typeof l!="object")return null;if(Array.isArray(l)){for(const g of l){const h=d.walk(g);if(h)return h}return null}const f=l[c.symbols.any];if(f)return{root:l[f.root],compile:f.compile};o(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const g in l){const h=d.walk(l[g]);if(h)return h}return null},d.simple=function(l){return l===null||["boolean","string","number"].includes(typeof l)},i.when=function(l,f,g){if(g===void 0&&(o(f&&typeof f=="object","Missing options"),g=f,f=m.create(".")),Array.isArray(g)&&(g={switch:g}),c.assertOptions(g,["is","not","then","otherwise","switch","break"]),c.isSchema(f))return o(g.is===void 0,'"is" can not be used with a schema condition'),o(g.not===void 0,'"not" can not be used with a schema condition'),o(g.switch===void 0,'"switch" can not be used with a schema condition'),d.condition(l,{is:f,then:g.then,otherwise:g.otherwise,break:g.break});if(o(m.isRef(f)||typeof f=="string","Invalid condition:",f),o(g.not===void 0||g.is===void 0,'Cannot combine "is" with "not"'),g.switch===void 0){let u=g;g.not!==void 0&&(u={is:g.not,then:g.otherwise,otherwise:g.then,break:g.break});let b=u.is!==void 0?l.$_compile(u.is):l.$_root.invalid(null,!1,0,"").required();return o(u.then!==void 0||u.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),o(u.break===void 0||u.then===void 0||u.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),g.is===void 0||m.isRef(g.is)||c.isSchema(g.is)||(b=b.required()),d.condition(l,{ref:i.ref(f),is:b,then:u.then,otherwise:u.otherwise,break:u.break})}o(Array.isArray(g.switch),'"switch" must be an array'),o(g.is===void 0,'Cannot combine "switch" with "is"'),o(g.not===void 0,'Cannot combine "switch" with "not"'),o(g.then===void 0,'Cannot combine "switch" with "then"');const h={ref:i.ref(f),switch:[],break:g.break};for(let u=0;u<g.switch.length;++u){const b=g.switch[u],p=u===g.switch.length-1;c.assertOptions(b,p?["is","then","otherwise"]:["is","then"]),o(b.is!==void 0,'Switch statement missing "is"'),o(b.then!==void 0,'Switch statement missing "then"');const y={is:l.$_compile(b.is),then:l.$_compile(b.then)};if(m.isRef(b.is)||c.isSchema(b.is)||(y.is=y.is.required()),p){o(g.otherwise===void 0||b.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const v=g.otherwise!==void 0?g.otherwise:b.otherwise;v!==void 0&&(o(h.break===void 0,"Cannot specify both otherwise and break"),y.otherwise=l.$_compile(v))}h.switch.push(y)}return h},d.condition=function(l,f){for(const g of["then","otherwise"])f[g]===void 0?delete f[g]:f[g]=l.$_compile(f[g]);return f}},6354:(s,i,a)=>{const o=a(5688),c=a(8160),m=a(3328);i.Report=class{constructor(d,l,f,g,h,u,b){if(this.code=d,this.flags=g,this.messages=h,this.path=u.path,this.prefs=b,this.state=u,this.value=l,this.message=null,this.template=null,this.local=f||{},this.local.label=i.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const p=this.path[this.path.length-1];typeof p!="object"&&(this.local.key=p)}}_setTemplate(d){if(this.template=d,!this.flags.label&&this.path.length===0){const l=this._template(this.template,"root");l&&(this.local.label=l)}}toString(){if(this.message)return this.message;const d=this.code;if(!this.prefs.errors.render)return this.code;const l=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return l===void 0?`Error code "${d}" is not defined, your custom type is missing the correct messages definition`:(this.message=l.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(d,l){return i.template(this.value,d,l||this.code,this.state,this.prefs)}},i.path=function(d){let l="";for(const f of d)typeof f!="object"&&(typeof f=="string"?(l&&(l+="."),l+=f):l+=`[${f}]`);return l},i.template=function(d,l,f,g,h){if(!l)return;if(m.isTemplate(l))return f!=="root"?l:null;let u=h.errors.language;if(c.isResolvable(u)&&(u=u.resolve(d,g,h)),u&&l[u]){if(l[u][f]!==void 0)return l[u][f];if(l[u]["*"]!==void 0)return l[u]["*"]}return l[f]?l[f]:l["*"]},i.label=function(d,l,f,g){if(d.label)return d.label;if(!f.errors.label)return"";let h=l.path;return f.errors.label==="key"&&l.path.length>1&&(h=l.path.slice(-1)),i.path(h)||i.template(null,f.messages,"root",l,f)||g&&i.template(null,g,"root",l,f)||"value"},i.process=function(d,l,f){if(!d)return null;const{override:g,message:h,details:u}=i.details(d);if(g)return g;if(f.errors.stack)return new i.ValidationError(h,u,l);const b=Error.stackTraceLimit;Error.stackTraceLimit=0;const p=new i.ValidationError(h,u,l);return Error.stackTraceLimit=b,p},i.details=function(d){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=[];const g=[];for(const h of d){if(h instanceof Error){if(l.override!==!1)return{override:h};const b=h.toString();f.push(b),g.push({message:b,type:"override",context:{error:h}});continue}const u=h.toString();f.push(u),g.push({message:u,path:h.path.filter(b=>typeof b!="object"),type:h.code,context:h.local})}return f.length>1&&(f=[...new Set(f)]),{message:f.join(". "),details:g}},i.ValidationError=class extends Error{constructor(d,l,f){super(d),this._original=f,this.details=l}static isError(d){return d instanceof i.ValidationError}},i.ValidationError.prototype.isJoi=!0,i.ValidationError.prototype.name="ValidationError",i.ValidationError.prototype.annotate=o.error},8901:(s,i,a)=>{const o=a(375),c=a(8571),m=a(8160),d=a(6914),l={};i.type=function(f,g){const h=Object.getPrototypeOf(f),u=c(h),b=f._assign(Object.create(u)),p=Object.assign({},g);delete p.base,u._definition=p;const y=h._definition||{};p.messages=d.merge(y.messages,p.messages),p.properties=Object.assign({},y.properties,p.properties),b.type=p.type,p.flags=Object.assign({},y.flags,p.flags);const v=Object.assign({},y.terms);if(p.terms)for(const T in p.terms){const A=p.terms[T];o(b.$_terms[T]===void 0,"Invalid term override for",p.type,T),b.$_terms[T]=A.init,v[T]=A}p.terms=v,p.args||(p.args=y.args),p.prepare=l.prepare(p.prepare,y.prepare),p.coerce&&(typeof p.coerce=="function"&&(p.coerce={method:p.coerce}),p.coerce.from&&!Array.isArray(p.coerce.from)&&(p.coerce={method:p.coerce.method,from:[].concat(p.coerce.from)})),p.coerce=l.coerce(p.coerce,y.coerce),p.validate=l.validate(p.validate,y.validate);const E=Object.assign({},y.rules);if(p.rules)for(const T in p.rules){const A=p.rules[T];o(typeof A=="object","Invalid rule definition for",p.type,T);let S=A.method;if(S===void 0&&(S=function(){return this.$_addRule(T)}),S&&(o(!u[T],"Rule conflict in",p.type,T),u[T]=S),o(!E[T],"Rule conflict in",p.type,T),E[T]=A,A.alias){const I=[].concat(A.alias);for(const R of I)u[R]=A.method}A.args&&(A.argsByName=new Map,A.args=A.args.map(I=>(typeof I=="string"&&(I={name:I}),o(!A.argsByName.has(I.name),"Duplicated argument name",I.name),m.isSchema(I.assert)&&(I.assert=I.assert.strict().label(I.name)),A.argsByName.set(I.name,I),I)))}p.rules=E;const x=Object.assign({},y.modifiers);if(p.modifiers)for(const T in p.modifiers){o(!u[T],"Rule conflict in",p.type,T);const A=p.modifiers[T];o(typeof A=="function","Invalid modifier definition for",p.type,T);const S=function(I){return this.rule({[T]:I})};u[T]=S,x[T]=A}if(p.modifiers=x,p.overrides){u._super=h,b.$_super={};for(const T in p.overrides)o(h[T],"Cannot override missing",T),p.overrides[T][m.symbols.parent]=h[T],b.$_super[T]=h[T].bind(b);Object.assign(u,p.overrides)}p.cast=Object.assign({},y.cast,p.cast);const C=Object.assign({},y.manifest,p.manifest);return C.build=l.build(p.manifest&&p.manifest.build,y.manifest&&y.manifest.build),p.manifest=C,p.rebuild=l.rebuild(p.rebuild,y.rebuild),b},l.build=function(f,g){return f&&g?function(h,u){return g(f(h,u),u)}:f||g},l.coerce=function(f,g){return f&&g?{from:f.from&&g.from?[...new Set([...f.from,...g.from])]:null,method(h,u){let b;if((!g.from||g.from.includes(typeof h))&&(b=g.method(h,u),b)){if(b.errors||b.value===void 0)return b;h=b.value}if(!f.from||f.from.includes(typeof h)){const p=f.method(h,u);if(p)return p}return b}}:f||g},l.prepare=function(f,g){return f&&g?function(h,u){const b=f(h,u);if(b){if(b.errors||b.value===void 0)return b;h=b.value}return g(h,u)||b}:f||g},l.rebuild=function(f,g){return f&&g?function(h){g(h),f(h)}:f||g},l.validate=function(f,g){return f&&g?function(h,u){const b=g(h,u);if(b){if(b.errors&&(!Array.isArray(b.errors)||b.errors.length))return b;h=b.value}return f(h,u)||b}:f||g}},5107:(s,i,a)=>{const o=a(375),c=a(8571),m=a(8652),d=a(8160),l=a(3292),f=a(6354),g=a(8901),h=a(9708),u=a(6133),b=a(3328),p=a(1152);let y;const v={types:{alternatives:a(4946),any:a(8068),array:a(546),boolean:a(4937),date:a(7500),function:a(390),link:a(8785),number:a(3832),object:a(8966),string:a(7417),symbol:a(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const E={_types:new Set(Object.keys(v.types))};for(const x of E._types)E[x]=function(){for(var C=arguments.length,T=new Array(C),A=0;A<C;A++)T[A]=arguments[A];return o(!T.length||["alternatives","link","object"].includes(x),"The",x,"type does not allow arguments"),v.generate(this,v.types[x],T)};for(const x of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])E[x]=function(){return this.any()[x](...arguments)};Object.assign(E,v.methods);for(const x in v.aliases){const C=v.aliases[x];E[x]=E[C]}return E.x=E.expression,p.setup&&p.setup(E),E}};v.methods={ValidationError:f.ValidationError,version:d.version,cache:m.provider,assert(E,x){for(var C=arguments.length,T=new Array(C>2?C-2:0),A=2;A<C;A++)T[A-2]=arguments[A];v.assert(E,x,!0,T)},attempt(E,x){for(var C=arguments.length,T=new Array(C>2?C-2:0),A=2;A<C;A++)T[A-2]=arguments[A];return v.assert(E,x,!1,T)},build(E){return o(typeof h.build=="function","Manifest functionality disabled"),h.build(this,E)},checkPreferences(E){d.checkPreferences(E)},compile(E,x){return l.compile(this,E,x)},defaults(E){o(typeof E=="function","modifier must be a function");const x=Object.assign({},this);for(const C of x._types){const T=E(x[C]());o(d.isSchema(T),"modifier must return a valid schema object"),x[C]=function(){for(var A=arguments.length,S=new Array(A),I=0;I<A;I++)S[I]=arguments[I];return v.generate(this,T,S)}}return x},expression(){for(var E=arguments.length,x=new Array(E),C=0;C<E;C++)x[C]=arguments[C];return new b(...x)},extend(){for(var E=arguments.length,x=new Array(E),C=0;C<E;C++)x[C]=arguments[C];d.verifyFlat(x,"extend"),y=y||a(3378),o(x.length,"You need to provide at least one extension"),this.assert(x,y.extensions);const T=Object.assign({},this);T._types=new Set(T._types);for(let A of x){typeof A=="function"&&(A=A(T)),this.assert(A,y.extension);const S=v.expandExtension(A,T);for(const I of S){o(T[I.type]===void 0||T._types.has(I.type),"Cannot override name",I.type);const R=I.base||this.any(),H=g.type(R,I);T._types.add(I.type),T[I.type]=function(){for(var W=arguments.length,Z=new Array(W),j=0;j<W;j++)Z[j]=arguments[j];return v.generate(this,H,Z)}}}return T},isError:f.ValidationError.isError,isExpression:b.isTemplate,isRef:u.isRef,isSchema:d.isSchema,in(){return u.in(...arguments)},override:d.symbols.override,ref(){return u.create(...arguments)},types(){const E={};for(const x of this._types)E[x]=this[x]();for(const x in v.aliases)E[x]=this[x]();return E}},v.assert=function(E,x,C,T){const A=T[0]instanceof Error||typeof T[0]=="string"?T[0]:null,S=A!==null?T[1]:T[0],I=x.validate(E,d.preferences({errors:{stack:!0}},S||{}));let R=I.error;if(!R)return I.value;if(A instanceof Error)throw A;const H=C&&typeof R.annotate=="function"?R.annotate():R.message;throw R instanceof f.ValidationError==0&&(R=c(R)),R.message=A?`${A} ${H}`:H,R},v.generate=function(E,x,C){return o(E,"Must be invoked on a Joi instance."),x.$_root=E,x._definition.args&&C.length?x._definition.args(x,...C):x},v.expandExtension=function(E,x){if(typeof E.type=="string")return[E];const C=[];for(const T of x._types)if(E.type.test(T)){const A=Object.assign({},E);A.type=T,A.base=x[T](),C.push(A)}return C},s.exports=v.root()},6914:(s,i,a)=>{const o=a(375),c=a(8571),m=a(3328);i.compile=function(d,l){if(typeof d=="string")return o(!l,"Cannot set single message string"),new m(d);if(m.isTemplate(d))return o(!l,"Cannot set single message template"),d;o(typeof d=="object"&&!Array.isArray(d),"Invalid message options"),l=l?c(l):{};for(let f in d){const g=d[f];if(f==="root"||m.isTemplate(g)){l[f]=g;continue}if(typeof g=="string"){l[f]=new m(g);continue}o(typeof g=="object"&&!Array.isArray(g),"Invalid message for",f);const h=f;for(f in l[h]=l[h]||{},g){const u=g[f];f==="root"||m.isTemplate(u)?l[h][f]=u:(o(typeof u=="string","Invalid message for",f,"in",h),l[h][f]=new m(u))}}return l},i.decompile=function(d){const l={};for(let f in d){const g=d[f];if(f==="root"){l.root=g;continue}if(m.isTemplate(g)){l[f]=g.describe({compact:!0});continue}const h=f;for(f in l[h]={},g){const u=g[f];f!=="root"?l[h][f]=u.describe({compact:!0}):l[h].root=u}}return l},i.merge=function(d,l){if(!d)return i.compile(l);if(!l)return d;if(typeof l=="string")return new m(l);if(m.isTemplate(l))return l;const f=c(d);for(let g in l){const h=l[g];if(g==="root"||m.isTemplate(h)){f[g]=h;continue}if(typeof h=="string"){f[g]=new m(h);continue}o(typeof h=="object"&&!Array.isArray(h),"Invalid message for",g);const u=g;for(g in f[u]=f[u]||{},h){const b=h[g];g==="root"||m.isTemplate(b)?f[u][g]=b:(o(typeof b=="string","Invalid message for",g,"in",u),f[u][g]=new m(b))}}return f}},2294:(s,i,a)=>{const o=a(375),c=a(8160),m=a(6133),d={};i.Ids=d.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const l=new d.Ids;return l._byId=new Map(this._byId),l._byKey=new Map(this._byKey),l._schemaChain=this._schemaChain,l}concat(l){l._schemaChain&&(this._schemaChain=!0);for(const[f,g]of l._byId.entries())o(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,g);for(const[f,g]of l._byKey.entries())o(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,g)}fork(l,f,g){const h=this._collect(l);h.push({schema:g});const u=h.shift();let b={id:u.id,schema:f(u.schema)};o(c.isSchema(b.schema),"adjuster function failed to return a joi schema type");for(const p of h)b={id:p.id,schema:d.fork(p.schema,b.id,b.schema)};return b.schema}labels(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const g=l[0],h=this._get(g);if(!h)return[...f,...l].join(".");const u=l.slice(1);return f=[...f,h.schema._flags.label||g],u.length?h.schema._ids.labels(u,f):f.join(".")}reach(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const g=l[0],h=this._get(g);o(h,"Schema does not contain path",[...f,...l].join("."));const u=l.slice(1);return u.length?h.schema._ids.reach(u,[...f,g]):h.schema}register(l){let{key:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!l||!c.isSchema(l))return;(l.$_property("schemaChain")||l._ids._schemaChain)&&(this._schemaChain=!0);const g=l._flags.id;if(g){const h=this._byId.get(g);o(!h||h.schema===l,"Cannot add different schemas with the same id:",g),o(!this._byKey.has(g),"Schema id conflicts with existing key:",g),this._byId.set(g,{schema:l,id:g})}f&&(o(!this._byKey.has(f),"Schema already contains key:",f),o(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,{schema:l,id:f}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const h=l[0],u=this._get(h);o(u,"Schema does not contain path",[...f,...l].join(".")),g=[u,...g];const b=l.slice(1);return b.length?u.schema._ids._collect(b,[...f,h],g):g}_get(l){return this._byId.get(l)||this._byKey.get(l)}},d.fork=function(l,f,g){const h=i.schema(l,{each:(u,b)=>{let{key:p}=b;if(f===(u._flags.id||p))return g},ref:!1});return h?h.$_mutateRebuild():l},i.schema=function(l,f){let g;for(const h in l._flags){if(h[0]==="_")continue;const u=d.scan(l._flags[h],{source:"flags",name:h},f);u!==void 0&&(g=g||l.clone(),g._flags[h]=u)}for(let h=0;h<l._rules.length;++h){const u=l._rules[h],b=d.scan(u.args,{source:"rules",name:u.name},f);if(b!==void 0){g=g||l.clone();const p=Object.assign({},u);p.args=b,g._rules[h]=p,g._singleRules.get(u.name)===u&&g._singleRules.set(u.name,p)}}for(const h in l.$_terms){if(h[0]==="_")continue;const u=d.scan(l.$_terms[h],{source:"terms",name:h},f);u!==void 0&&(g=g||l.clone(),g.$_terms[h]=u)}return g},d.scan=function(l,f,g,h,u){const b=h||[];if(l===null||typeof l!="object")return;let p;if(Array.isArray(l)){for(let y=0;y<l.length;++y){const v=f.source==="terms"&&f.name==="keys"&&l[y].key,E=d.scan(l[y],f,g,[y,...b],v);E!==void 0&&(p=p||l.slice(),p[y]=E)}return p}if(g.schema!==!1&&c.isSchema(l)||g.ref!==!1&&m.isRef(l)){const y=g.each(l,{...f,path:b,key:u});return y===l?void 0:y}for(const y in l){if(y[0]==="_")continue;const v=d.scan(l[y],f,g,[y,...b],u);v!==void 0&&(p=p||Object.assign({},l),p[y]=v)}return p}},6133:(s,i,a)=>{const o=a(375),c=a(8571),m=a(9621),d=a(8160);let l;const f={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(g){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(typeof g=="string","Invalid reference key:",g),d.assertOptions(h,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),o(!h.prefix||typeof h.prefix=="object","options.prefix must be of type object");const u=Object.assign({},f.defaults,h);delete u.prefix;const b=u.separator,p=f.context(g,b,h.prefix);if(u.type=p.type,g=p.key,u.type==="value")if(p.root&&(o(!b||g[0]!==b,"Cannot specify relative path with root prefix"),u.ancestor="root",g||(g=null)),b&&b===g)g=null,u.ancestor=0;else if(u.ancestor!==void 0)o(!b||!g||g[0]!==b,"Cannot combine prefix with ancestor option");else{const[y,v]=f.ancestor(g,b);v&&(g=g.slice(v))===""&&(g=null),u.ancestor=y}return u.path=b?g===null?[]:g.split(b):[g],new f.Ref(u)},i.in=function(g){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.create(g,{...h,in:!0})},i.isRef=function(g){return!!g&&!!g[d.symbols.ref]},f.Ref=class{constructor(g){o(typeof g=="object","Invalid reference construction"),d.assertOptions(g,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),o([!1,void 0].includes(g.separator)||typeof g.separator=="string"&&g.separator.length===1,"Invalid separator"),o(!g.adjust||typeof g.adjust=="function","options.adjust must be a function"),o(!g.map||Array.isArray(g.map),"options.map must be an array"),o(!g.map||!g.adjust,"Cannot set both map and adjust options"),Object.assign(this,f.defaults,g),o(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(g,h,u,b){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return o(!this.in||p.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(u.context,h,p):this.type==="local"?this._resolve(b,h,p):this.ancestor?this.ancestor==="root"?this._resolve(h.ancestors[h.ancestors.length-1],h,p):(o(this.ancestor<=h.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(h.ancestors[this.ancestor-1],h,p)):this._resolve(g,h,p)}_resolve(g,h,u){let b;if(this.type==="value"&&h.mainstay.shadow&&u.shadow!==!1&&(b=h.mainstay.shadow.get(this.absolute(h))),b===void 0&&(b=m(g,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(b=this.adjust(b)),this.map){const p=this.map.get(b);p!==void 0&&(b=p)}return h.mainstay&&h.mainstay.tracer.resolve(h,this,b),b}toString(){return this.display}absolute(g){return[...g.path.slice(0,-this.ancestor),...this.path]}clone(){return new f.Ref(this)}describe(){const g={path:this.path};this.type!=="value"&&(g.type=this.type),this.separator!=="."&&(g.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(g.ancestor=this.ancestor),this.map&&(g.map=[...this.map]);for(const h of["adjust","iterables","render"])this[h]!==null&&this[h]!==void 0&&(g[h]=this[h]);return this.in!==!1&&(g.in=!0),{ref:g}}updateDisplay(){const g=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${g}`);if(!this.separator)return void(this.display=`ref:${g}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${g}`);if(this.ancestor==="root")return void(this.display=`ref:root:${g}`);if(this.ancestor===1)return void(this.display=`ref:${g||".."}`);const h=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${h}${g||""}`}},f.Ref.prototype[d.symbols.ref]=!0,i.build=function(g){return(g=Object.assign({},f.defaults,g)).type==="value"&&g.ancestor===void 0&&(g.ancestor=1),new f.Ref(g)},f.context=function(g,h){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g=g.trim(),u){const b=u.global===void 0?"$":u.global;if(b!==h&&g.startsWith(b))return{key:g.slice(b.length),type:"global"};const p=u.local===void 0?"#":u.local;if(p!==h&&g.startsWith(p))return{key:g.slice(p.length),type:"local"};const y=u.root===void 0?"/":u.root;if(y!==h&&g.startsWith(y))return{key:g.slice(y.length),type:"value",root:!0}}return{key:g,type:"value"}},f.ancestor=function(g,h){if(!h)return[1,0];if(g[0]!==h)return[1,0];if(g[1]!==h)return[0,1];let u=2;for(;g[u]===h;)++u;return[u-1,u]},i.toSibling=0,i.toParent=1,i.Manager=class{constructor(){this.refs=[]}register(g,h){if(g)if(h=h===void 0?i.toParent:h,Array.isArray(g))for(const u of g)this.register(u,h);else if(d.isSchema(g))for(const u of g._refs.refs)u.ancestor-h>=0&&this.refs.push({ancestor:u.ancestor-h,root:u.root});else i.isRef(g)&&g.type==="value"&&g.ancestor-h>=0&&this.refs.push({ancestor:g.ancestor-h,root:g.root}),l=l||a(3328),l.isTemplate(g)&&this.register(g.refs(),h)}get length(){return this.refs.length}clone(){const g=new i.Manager;return g.refs=c(this.refs),g}reset(){this.refs=[]}roots(){return this.refs.filter(g=>!g.ancestor).map(g=>g.root)}}},3378:(s,i,a)=>{const o=a(5107),c={};c.wrap=o.string().min(1).max(2).allow(!1),i.preferences=o.object({allowUnknown:o.boolean(),abortEarly:o.boolean(),artifacts:o.boolean(),cache:o.boolean(),context:o.object(),convert:o.boolean(),dateFormat:o.valid("date","iso","string","time","utc"),debug:o.boolean(),errors:{escapeHtml:o.boolean(),label:o.valid("path","key",!1),language:[o.string(),o.object().ref()],render:o.boolean(),stack:o.boolean(),wrap:{label:c.wrap,array:c.wrap,string:c.wrap}},externals:o.boolean(),messages:o.object(),noDefaults:o.boolean(),nonEnumerables:o.boolean(),presence:o.valid("required","optional","forbidden"),skipFunctions:o.boolean(),stripUnknown:o.object({arrays:o.boolean(),objects:o.boolean()}).or("arrays","objects").allow(!0,!1),warnings:o.boolean()}).strict(),c.nameRx=/^[a-zA-Z0-9]\w*$/,c.rule=o.object({alias:o.array().items(o.string().pattern(c.nameRx)).single(),args:o.array().items(o.string(),o.object({name:o.string().pattern(c.nameRx).required(),ref:o.boolean(),assert:o.alternatives([o.function(),o.object().schema()]).conditional("ref",{is:!0,then:o.required()}),normalize:o.function(),message:o.string().when("assert",{is:o.function(),then:o.required()})})),convert:o.boolean(),manifest:o.boolean(),method:o.function().allow(!1),multi:o.boolean(),validate:o.function()}),i.extension=o.object({type:o.alternatives([o.string(),o.object().regex()]).required(),args:o.function(),cast:o.object().pattern(c.nameRx,o.object({from:o.function().maxArity(1).required(),to:o.function().minArity(1).maxArity(2).required()})),base:o.object().schema().when("type",{is:o.object().regex(),then:o.forbidden()}),coerce:[o.function().maxArity(3),o.object({method:o.function().maxArity(3).required(),from:o.array().items(o.string()).single()})],flags:o.object().pattern(c.nameRx,o.object({setter:o.string(),default:o.any()})),manifest:{build:o.function().arity(2)},messages:[o.object(),o.string()],modifiers:o.object().pattern(c.nameRx,o.function().minArity(1).maxArity(2)),overrides:o.object().pattern(c.nameRx,o.function()),prepare:o.function().maxArity(3),rebuild:o.function().arity(1),rules:o.object().pattern(c.nameRx,c.rule),terms:o.object().pattern(c.nameRx,o.object({init:o.array().allow(null).required(),manifest:o.object().pattern(/.+/,[o.valid("schema","single"),o.object({mapped:o.object({from:o.string().required(),to:o.string().required()}).required()})])})),validate:o.function().maxArity(3)}).strict(),i.extensions=o.array().items(o.object(),o.function().arity(1)).strict(),c.desc={buffer:o.object({buffer:o.string()}),func:o.object({function:o.function().required(),options:{literal:!0}}),override:o.object({override:!0}),ref:o.object({ref:o.object({type:o.valid("value","global","local"),path:o.array().required(),separator:o.string().length(1).allow(!1),ancestor:o.number().min(0).integer().allow("root"),map:o.array().items(o.array().length(2)).min(1),adjust:o.function(),iterables:o.boolean(),in:o.boolean(),render:o.boolean()}).required()}),regex:o.object({regex:o.string().min(3)}),special:o.object({special:o.valid("deep").required()}),template:o.object({template:o.string().required(),options:o.object()}),value:o.object({value:o.alternatives([o.object(),o.array()]).required()})},c.desc.entity=o.alternatives([o.array().items(o.link("...")),o.boolean(),o.function(),o.number(),o.string(),c.desc.buffer,c.desc.func,c.desc.ref,c.desc.regex,c.desc.special,c.desc.template,c.desc.value,o.link("/")]),c.desc.values=o.array().items(null,o.boolean(),o.function(),o.number().allow(1/0,-1/0),o.string().allow(""),o.symbol(),c.desc.buffer,c.desc.func,c.desc.override,c.desc.ref,c.desc.regex,c.desc.template,c.desc.value),c.desc.messages=o.object().pattern(/.+/,[o.string(),c.desc.template,o.object().pattern(/.+/,[o.string(),c.desc.template])]),i.description=o.object({type:o.string().required(),flags:o.object({cast:o.string(),default:o.any(),description:o.string(),empty:o.link("/"),failover:c.desc.entity,id:o.string(),label:o.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:o.boolean(),unit:o.string()}).unknown(),preferences:{allowUnknown:o.boolean(),abortEarly:o.boolean(),artifacts:o.boolean(),cache:o.boolean(),convert:o.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:o.boolean(),label:["path","key"],language:[o.string(),c.desc.ref],wrap:{label:c.wrap,array:c.wrap}},externals:o.boolean(),messages:c.desc.messages,noDefaults:o.boolean(),nonEnumerables:o.boolean(),presence:["required","optional","forbidden"],skipFunctions:o.boolean(),stripUnknown:o.object({arrays:o.boolean(),objects:o.boolean()}).or("arrays","objects").allow(!0,!1),warnings:o.boolean()},allow:c.desc.values,invalid:c.desc.values,rules:o.array().min(1).items({name:o.string().required(),args:o.object().min(1),keep:o.boolean(),message:[o.string(),c.desc.messages],warn:o.boolean()}),keys:o.object().pattern(/.*/,o.link("/")),link:c.desc.ref}).pattern(/^[a-z]\w*$/,o.any())},493:(s,i,a)=>{const o=a(8571),c=a(9621),m=a(8160),d={value:Symbol("value")};s.exports=d.State=class{constructor(l,f,g){this.path=l,this.ancestors=f,this.mainstay=g.mainstay,this.schemas=g.schemas,this.debug=null}localize(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const h=new d.State(l,f,this);return g&&h.schemas&&(h.schemas=[d.schemas(g),...h.schemas]),h}nest(l,f){const g=new d.State(this.path,this.ancestors,this);return g.schemas=g.schemas&&[d.schemas(l),...g.schemas],g.debug=f,g}shadow(l,f){this.mainstay.shadow=this.mainstay.shadow||new d.Shadow,this.mainstay.shadow.set(this.path,l,f)}snapshot(){this.mainstay.shadow&&(this._snapshot=o(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}},d.schemas=function(l){return m.isSchema(l)?{schema:l}:l},d.Shadow=class{constructor(){this._values=null}set(l,f,g){if(!l.length||g==="strip"&&typeof l[l.length-1]=="number")return;this._values=this._values||new Map;let h=this._values;for(let u=0;u<l.length;++u){const b=l[u];let p=h.get(b);p||(p=new Map,h.set(b,p)),h=p}h[d.value]=f}get(l){const f=this.node(l);if(f)return f[d.value]}node(l){if(this._values)return c(this._values,l,{iterables:!0})}override(l,f){if(!this._values)return;const g=l.slice(0,-1),h=l[l.length-1],u=c(this._values,g,{iterables:!0});f?u.set(h,f):u&&u.delete(h)}}},3328:(s,i,a)=>{const o=a(375),c=a(8571),m=a(5277),d=a(1447),l=a(8160),f=a(6354),g=a(6133),h={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};s.exports=h.Template=class{constructor(u,b){o(typeof u=="string","Template source must be a string"),o(!u.includes("\0")&&!u.includes(""),"Template source cannot contain reserved control characters"),this.source=u,this.rendered=u,this._template=null,this._settings=c(b),this._parse()}_parse(){if(!this.source.includes("{"))return;const u=h.encode(this.source),b=h.split(u);let p=!1;const y=[],v=b.shift();v&&y.push(v);for(const E of b){const x=E[0]!=="{",C=x?"}":"}}",T=E.indexOf(C);if(T===-1||E[1]==="{"){y.push(`{${h.decode(E)}`);continue}let A=E.slice(x?0:1,T);const S=A[0]===":";S&&(A=A.slice(1));const I=this._ref(h.decode(A),{raw:x,wrapped:S});y.push(I),typeof I!="string"&&(p=!0);const R=E.slice(T+C.length);R&&y.push(h.decode(R))}p?this._template=y:this.rendered=y.join("")}static date(u,b){return h.dateFormat[b.dateFormat].call(u)}describe(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._settings&&u.compact)return this.source;const b={template:this.source};return this._settings&&(b.options=this._settings),b}static build(u){return new h.Template(u.template,u.options)}isDynamic(){return!!this._template}static isTemplate(u){return!!u&&!!u[l.symbols.template]}refs(){if(!this._template)return;const u=[];for(const b of this._template)typeof b!="string"&&u.push(...b.refs);return u}resolve(u,b,p,y){return this._template&&this._template.length===1?this._part(this._template[0],u,b,p,y,{}):this.render(u,b,p,y)}_part(u){for(var b=arguments.length,p=new Array(b>1?b-1:0),y=1;y<b;y++)p[y-1]=arguments[y];return u.ref?u.ref.resolve(...p):u.formula.evaluate(p)}render(u,b,p,y){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!this.isDynamic())return this.rendered;const E=[];for(const x of this._template)if(typeof x=="string")E.push(x);else{const C=this._part(x,u,b,p,y,v),T=h.stringify(C,u,b,p,y,v);if(T!==void 0){const A=x.raw||(v.errors&&v.errors.escapeHtml)===!1?T:m(T);E.push(h.wrap(A,x.wrapped&&p.errors.wrap.label))}}return E.join("")}_ref(u,b){let{raw:p,wrapped:y}=b;const v=[],E=C=>{const T=g.create(C,this._settings);return v.push(T),A=>T.resolve(...A)};try{var x=new d.Parser(u,{reference:E,functions:h.functions,constants:h.constants})}catch(C){throw C.message=`Invalid template variable "${u}" fails due to: ${C.message}`,C}if(x.single){if(x.single.type==="reference"){const C=v[0];return{ref:C,raw:p,refs:v,wrapped:y||C.type==="local"&&C.key==="label"}}return h.stringify(x.single.value)}return{formula:x,raw:p,refs:v}}toString(){return this.source}},h.Template.prototype[l.symbols.template]=!0,h.Template.prototype.isImmutable=!0,h.encode=function(u){return u.replace(/\\(\{+)/g,(b,p)=>h.opens.slice(0,p.length)).replace(/\\(\}+)/g,(b,p)=>h.closes.slice(0,p.length))},h.decode=function(u){return u.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},h.split=function(u){const b=[];let p="";for(let y=0;y<u.length;++y){const v=u[y];if(v==="{"){let E="";for(;y+1<u.length&&u[y+1]==="{";)E+="{",++y;b.push(p),p=E}else p+=v}return b.push(p),b},h.wrap=function(u,b){return b?b.length===1?`${b}${u}${b}`:`${b[0]}${u}${b[1]}`:u},h.stringify=function(u,b,p,y,v){let E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const x=typeof u,C=y&&y.errors&&y.errors.wrap||{};let T=!1;if(g.isRef(u)&&u.render&&(T=u.in,u=u.resolve(b,p,y,v,{in:u.in,...E})),u===null)return"null";if(x==="string")return h.wrap(u,E.arrayItems&&C.string);if(x==="number"||x==="function"||x==="symbol")return u.toString();if(x!=="object")return JSON.stringify(u);if(u instanceof Date)return h.Template.date(u,y);if(u instanceof Map){const S=[];for(const[I,R]of u.entries())S.push(`${I.toString()} -> ${R.toString()}`);u=S}if(!Array.isArray(u))return u.toString();const A=[];for(const S of u)A.push(h.stringify(S,b,p,y,v,{arrayItems:!0,...E}));return h.wrap(A.join(", "),!T&&C.array)},h.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},h.functions={if:(u,b,p)=>u?b:p,length:u=>typeof u=="string"?u.length:u&&typeof u=="object"?Array.isArray(u)?u.length:Object.keys(u).length:null,msg(u){const[b,p,y,v,E]=this,x=E.messages;if(!x)return"";const C=f.template(b,x[0],u,p,y)||f.template(b,x[1],u,p,y);return C?C.render(b,p,y,v,E):""},number:u=>typeof u=="number"?u:typeof u=="string"?parseFloat(u):typeof u=="boolean"?u?1:0:u instanceof Date?u.getTime():null}},4946:(s,i,a)=>{const o=a(375),c=a(1687),m=a(8068),d=a(8160),l=a(3292),f=a(6354),g=a(6133),h={};s.exports=m.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:g.toSibling}},args(u){for(var b=arguments.length,p=new Array(b>1?b-1:0),y=1;y<b;y++)p[y-1]=arguments[y];return p.length===1&&Array.isArray(p[0])?u.try(...p[0]):u.try(...p)},validate(u,b){const{schema:p,error:y,state:v,prefs:E}=b;if(p._flags.match){const C=[],T=[];for(let S=0;S<p.$_terms.matches.length;++S){const I=p.$_terms.matches[S],R=v.nest(I.schema,`match.${S}`);R.snapshot();const H=I.schema.$_validate(u,R,E);H.errors?(T.push(H.errors),R.restore()):C.push(H.value)}if(C.length===0)return{errors:y("alternatives.any",{details:T.map(S=>f.details(S,{override:!1}))})};if(p._flags.match==="one")return C.length===1?{value:C[0]}:{errors:y("alternatives.one")};if(C.length!==p.$_terms.matches.length)return{errors:y("alternatives.all",{details:T.map(S=>f.details(S,{override:!1}))})};const A=S=>S.$_terms.matches.some(I=>I.schema.type==="object"||I.schema.type==="alternatives"&&A(I.schema));return A(p)?{value:C.reduce((S,I)=>c(S,I,{mergeArrays:!1}))}:{value:C[C.length-1]}}const x=[];for(let C=0;C<p.$_terms.matches.length;++C){const T=p.$_terms.matches[C];if(T.schema){const I=v.nest(T.schema,`match.${C}`);I.snapshot();const R=T.schema.$_validate(u,I,E);if(!R.errors)return R;I.restore(),x.push({schema:T.schema,reports:R.errors});continue}const A=T.ref?T.ref.resolve(u,v,E):u,S=T.is?[T]:T.switch;for(let I=0;I<S.length;++I){const R=S[I],{is:H,then:W,otherwise:Z}=R,j=`match.${C}${T.switch?"."+I:""}`;if(H.$_match(A,v.nest(H,`${j}.is`),E)){if(W)return W.$_validate(u,v.nest(W,`${j}.then`),E)}else if(Z)return Z.$_validate(u,v.nest(Z,`${j}.otherwise`),E)}}return h.errors(x,b)},rules:{conditional:{method(u,b){o(!this._flags._endedSwitch,"Unreachable condition"),o(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),o(b.break===void 0,"Cannot use break option with alternatives conditional");const p=this.clone(),y=l.when(p,u,b),v=y.is?[y]:y.switch;for(const E of v)if(E.then&&E.otherwise){p.$_setFlag("_endedSwitch",!0,{clone:!1});break}return p.$_terms.matches.push(y),p.$_mutateRebuild()}},match:{method(u){if(o(["any","one","all"].includes(u),"Invalid alternatives match mode",u),u!=="any")for(const b of this.$_terms.matches)o(b.schema,"Cannot combine match mode",u,"with conditional rules");return this.$_setFlag("match",u)}},try:{method(){for(var u=arguments.length,b=new Array(u),p=0;p<u;p++)b[p]=arguments[p];o(b.length,"Missing alternative schemas"),d.verifyFlat(b,"try"),o(!this._flags._endedSwitch,"Unreachable condition");const y=this.clone();for(const v of b)y.$_terms.matches.push({schema:y.$_compile(v)});return y.$_mutateRebuild()}}},overrides:{label(u){return this.$_parent("label",u).$_modify({each:(b,p)=>p.path[0]!=="is"?b.label(u):void 0,ref:!1})}},rebuild(u){u.$_modify({each:b=>{d.isSchema(b)&&b.type==="array"&&u.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(u,b){if(b.matches)for(const p of b.matches){const{schema:y,ref:v,is:E,not:x,then:C,otherwise:T}=p;u=y?u.try(y):v?u.conditional(v,{is:E,then:C,not:x,otherwise:T,switch:p.switch}):u.conditional(E,{then:C,otherwise:T})}return u}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),h.errors=function(u,b){let{error:p,state:y}=b;if(!u.length)return{errors:p("alternatives.any")};if(u.length===1)return{errors:u[0].reports};const v=new Set,E=[];for(const{reports:x,schema:C}of u){if(x.length>1)return h.unmatched(u,p);const T=x[0];if(T instanceof f.Report==0)return h.unmatched(u,p);if(T.state.path.length!==y.path.length){E.push({type:C.type,report:T});continue}if(T.code==="any.only"){for(const I of T.local.valids)v.add(I);continue}const[A,S]=T.code.split(".");S==="base"?v.add(A):E.push({type:C.type,report:T})}return E.length?E.length===1?{errors:E[0].report}:h.unmatched(u,p):{errors:p("alternatives.types",{types:[...v]})}},h.unmatched=function(u,b){const p=[];for(const y of u)p.push(...y.reports);return{errors:b("alternatives.match",f.details(p,{override:!1}))}}},8068:(s,i,a)=>{const o=a(375),c=a(7629),m=a(8160),d=a(6914);s.exports=c.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(l,f){return o(typeof l=="function","Method must be a function"),o(f===void 0||f&&typeof f=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:l,description:f}})},validate(l,f,g){let{method:h}=g;try{return h(l,f)}catch(u){return f.error("any.custom",{error:u})}},args:["method","description"],multi:!0},messages:{method(l){return this.prefs({messages:l})}},shared:{method(l){o(m.isSchema(l)&&l._flags.id,"Schema must be a schema with an id");const f=this.clone();return f.$_terms.shared=f.$_terms.shared||[],f.$_terms.shared.push(l),f.$_mutateRegister(l),f}},warning:{method(l,f){return o(l&&typeof l=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:l,local:f},warn:!0})},validate(l,f,g){let{code:h,local:u}=g;return f.error(h,u)},args:["code","local"],multi:!0}},modifiers:{keep(l){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.keep=f},message(l,f){l.message=d.compile(f)},warn(l){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.warn=f}},manifest:{build(l,f){for(const g in f){const h=f[g];if(["examples","externals","metas","notes","tags"].includes(g))for(const u of h)l=l[g.slice(0,-1)](u);else if(g!=="alterations")if(g!=="whens"){if(g==="shared")for(const u of h)l=l.shared(u)}else for(const u of h){const{ref:b,is:p,not:y,then:v,otherwise:E,concat:x}=u;l=x?l.concat(x):b?l.when(b,{is:p,not:y,then:v,otherwise:E,switch:u.switch,break:u.break}):l.when(p,{then:v,otherwise:E,break:u.break})}else{const u={};for(const{target:b,adjuster:p}of h)u[b]=p;l=l.alter(u)}}return l}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(s,i,a)=>{const o=a(375),c=a(9474),m=a(9621),d=a(8068),l=a(8160),f=a(3292),g={};s.exports=d.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(h,u){let{schema:b,state:p,prefs:y}=u;if(!Array.isArray(h))return;const v=b.$_getRule("sort");return v?g.sort(b,h,v.args.options,p,y):void 0}},validate(h,u){let{schema:b,error:p}=u;if(!Array.isArray(h)){if(b._flags.single){const y=[h];return y[l.symbols.arraySingle]=!0,{value:y}}return{errors:p("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:h.slice()}},rules:{has:{method(h){h=this.$_compile(h,{appendPath:!0});const u=this.$_addRule({name:"has",args:{schema:h}});return u.$_mutateRegister(h),u},validate(h,u,b){let{state:p,prefs:y,error:v}=u,{schema:E}=b;const x=[h,...p.ancestors];for(let T=0;T<h.length;++T){const A=p.localize([...p.path,T],x,E);if(E.$_match(h[T],A,y))return h}const C=E._flags.label;return C?v("array.hasKnown",{patternLabel:C}):v("array.hasUnknown",null)},multi:!0},items:{method(){for(var h=arguments.length,u=new Array(h),b=0;b<h;b++)u[b]=arguments[b];l.verifyFlat(u,"items");const p=this.$_addRule("items");for(let y=0;y<u.length;++y){const v=l.tryWithPath(()=>this.$_compile(u[y]),y,{append:!0});p.$_terms.items.push(v)}return p.$_mutateRebuild()},validate(h,u){let{schema:b,error:p,state:y,prefs:v,errorsArray:E}=u;const x=b.$_terms._requireds.slice(),C=b.$_terms.ordered.slice(),T=[...b.$_terms._inclusions,...x],A=!h[l.symbols.arraySingle];delete h[l.symbols.arraySingle];const S=E();let I=h.length;for(let R=0;R<I;++R){const H=h[R];let W=!1,Z=!1;const j=A?R:new Number(R),z=[...y.path,j];if(!b._flags.sparse&&H===void 0){if(S.push(p("array.sparse",{key:j,path:z,pos:R,value:void 0},y.localize(z))),v.abortEarly)return S;C.shift();continue}const Y=[h,...y.ancestors];for(const ue of b.$_terms._exclusions)if(ue.$_match(H,y.localize(z,Y,ue),v,{presence:"ignore"})){if(S.push(p("array.excludes",{pos:R,value:H},y.localize(z))),v.abortEarly)return S;W=!0,C.shift();break}if(W)continue;if(b.$_terms.ordered.length){if(C.length){const ue=C.shift(),ye=ue.$_validate(H,y.localize(z,Y,ue),v);if(ye.errors){if(S.push(...ye.errors),v.abortEarly)return S}else if(ue._flags.result==="strip")g.fastSplice(h,R),--R,--I;else{if(!b._flags.sparse&&ye.value===void 0){if(S.push(p("array.sparse",{key:j,path:z,pos:R,value:void 0},y.localize(z))),v.abortEarly)return S;continue}h[R]=ye.value}continue}if(!b.$_terms.items.length){if(S.push(p("array.orderedLength",{pos:R,limit:b.$_terms.ordered.length})),v.abortEarly)return S;break}}const de=[];let fe=x.length;for(let ue=0;ue<fe;++ue){const ye=y.localize(z,Y,x[ue]);ye.snapshot();const he=x[ue].$_validate(H,ye,v);if(de[ue]=he,!he.errors){if(h[R]=he.value,Z=!0,g.fastSplice(x,ue),--ue,--fe,!b._flags.sparse&&he.value===void 0&&(S.push(p("array.sparse",{key:j,path:z,pos:R,value:void 0},y.localize(z))),v.abortEarly))return S;break}ye.restore()}if(Z)continue;const _e=v.stripUnknown&&!!v.stripUnknown.arrays||!1;fe=T.length;for(const ue of T){let ye;const he=x.indexOf(ue);if(he!==-1)ye=de[he];else{const Re=y.localize(z,Y,ue);if(Re.snapshot(),ye=ue.$_validate(H,Re,v),!ye.errors){ue._flags.result==="strip"?(g.fastSplice(h,R),--R,--I):b._flags.sparse||ye.value!==void 0?h[R]=ye.value:(S.push(p("array.sparse",{key:j,path:z,pos:R,value:void 0},y.localize(z))),W=!0),Z=!0;break}Re.restore()}if(fe===1){if(_e){g.fastSplice(h,R),--R,--I,Z=!0;break}if(S.push(...ye.errors),v.abortEarly)return S;W=!0;break}}if(!W&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!Z){if(_e){g.fastSplice(h,R),--R,--I;continue}if(S.push(p("array.includes",{pos:R,value:H},y.localize(z))),v.abortEarly)return S}}return x.length&&g.fillMissedErrors(b,S,x,h,y,v),C.length&&(g.fillOrderedErrors(b,S,C,h,y,v),S.length||g.fillDefault(C,h,y,v)),S.length?S:h},priority:!0,manifest:!1},length:{method(h){return this.$_addRule({name:"length",args:{limit:h},operator:"="})},validate(h,u,b,p){let{limit:y}=b,{name:v,operator:E,args:x}=p;return l.compare(h.length,y,E)?h:u.error("array."+v,{limit:x.limit,value:h})},args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(h){return this.$_addRule({name:"max",method:"length",args:{limit:h},operator:"<="})}},min:{method(h){return this.$_addRule({name:"min",method:"length",args:{limit:h},operator:">="})}},ordered:{method(){for(var h=arguments.length,u=new Array(h),b=0;b<h;b++)u[b]=arguments[b];l.verifyFlat(u,"ordered");const p=this.$_addRule("items");for(let y=0;y<u.length;++y){const v=l.tryWithPath(()=>this.$_compile(u[y]),y,{append:!0});g.validateSingle(v,p),p.$_mutateRegister(v),p.$_terms.ordered.push(v)}return p.$_mutateRebuild()}},single:{method(h){const u=h===void 0||!!h;return o(!u||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",u)}},sort:{method(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l.assertOptions(h,["by","order"]);const u={order:h.order||"ascending"};return h.by&&(u.by=f.ref(h.by,{ancestor:0}),o(!u.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:u}})},validate(h,u,b){let{error:p,state:y,prefs:v,schema:E}=u,{options:x}=b;const{value:C,errors:T}=g.sort(E,h,x,y,v);if(T)return T;for(let A=0;A<h.length;++A)if(h[A]!==C[A])return p("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return h},convert:!0},sparse:{method(h){const u=h===void 0||!!h;return this._flags.sparse===u?this:(u?this.clone():this.$_addRule("items")).$_setFlag("sparse",u,{clone:!1})}},unique:{method(h){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(!h||typeof h=="function"||typeof h=="string","comparator must be a function or a string"),l.assertOptions(u,["ignoreUndefined","separator"]);const b={name:"unique",args:{options:u,comparator:h}};if(h)if(typeof h=="string"){const p=l.default(u.separator,".");b.path=p?h.split(p):[h]}else b.comparator=h;return this.$_addRule(b)},validate(h,u,b,p){let{state:y,error:v,schema:E}=u,{comparator:x,options:C}=b,{comparator:T,path:A}=p;const S={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},I=T||c,R=C.ignoreUndefined;for(let H=0;H<h.length;++H){const W=A?m(h[H],A):h[H],Z=T?S.custom:S[typeof W];if(o(Z,"Failed to find unique map container for type",typeof W),Z instanceof Map){const j=Z.entries();let z;for(;!(z=j.next()).done;)if(I(z.value[0],W)){const Y=y.localize([...y.path,H],[h,...y.ancestors]),de={pos:H,value:h[H],dupePos:z.value[1],dupeValue:h[z.value[1]]};return A&&(de.path=x),v("array.unique",de,Y)}Z.set(W,H)}else{if((!R||W!==void 0)&&Z[W]!==void 0){const j={pos:H,value:h[H],dupePos:Z[W],dupeValue:h[Z[W]]};return A&&(j.path=x),v("array.unique",j,y.localize([...y.path,H],[h,...y.ancestors]))}Z[W]=H}}return h},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(h,u)=>new Set(h)}},rebuild(h){h.$_terms._inclusions=[],h.$_terms._exclusions=[],h.$_terms._requireds=[];for(const u of h.$_terms.items)g.validateSingle(u,h),u._flags.presence==="required"?h.$_terms._requireds.push(u):u._flags.presence==="forbidden"?h.$_terms._exclusions.push(u):h.$_terms._inclusions.push(u);for(const u of h.$_terms.ordered)g.validateSingle(u,h)},manifest:{build:(h,u)=>(u.items&&(h=h.items(...u.items)),u.ordered&&(h=h.ordered(...u.ordered)),h)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),g.fillMissedErrors=function(h,u,b,p,y,v){const E=[];let x=0;for(const C of b){const T=C._flags.label;T?E.push(T):++x}E.length?x?u.push(h.$_createError("array.includesRequiredBoth",p,{knownMisses:E,unknownMisses:x},y,v)):u.push(h.$_createError("array.includesRequiredKnowns",p,{knownMisses:E},y,v)):u.push(h.$_createError("array.includesRequiredUnknowns",p,{unknownMisses:x},y,v))},g.fillOrderedErrors=function(h,u,b,p,y,v){const E=[];for(const x of b)x._flags.presence==="required"&&E.push(x);E.length&&g.fillMissedErrors(h,u,E,p,y,v)},g.fillDefault=function(h,u,b,p){const y=[];let v=!0;for(let E=h.length-1;E>=0;--E){const x=h[E],C=[u,...b.ancestors],T=x.$_validate(void 0,b.localize(b.path,C,x),p).value;if(v){if(T===void 0)continue;v=!1}y.unshift(T)}y.length&&u.push(...y)},g.fastSplice=function(h,u){let b=u;for(;b<h.length;)h[b++]=h[b];--h.length},g.validateSingle=function(h,u){(h.type==="array"||h._flags._arrayItems)&&(o(!u._flags.single,"Cannot specify array item with single rule enabled"),u.$_setFlag("_arrayItems",!0,{clone:!1}))},g.sort=function(h,u,b,p,y){const v=b.order==="ascending"?1:-1,E=-1*v,x=v,C=(T,A)=>{let S=g.compare(T,A,E,x);if(S!==null||(b.by&&(T=b.by.resolve(T,p,y),A=b.by.resolve(A,p,y)),S=g.compare(T,A,E,x),S!==null))return S;const I=typeof T;if(I!==typeof A)throw h.$_createError("array.sort.mismatching",u,null,p,y);if(I!=="number"&&I!=="string")throw h.$_createError("array.sort.unsupported",u,{type:I},p,y);return I==="number"?(T-A)*v:T<A?E:x};try{return{value:u.slice().sort(C)}}catch(T){return{errors:T}}},g.compare=function(h,u,b,p){return h===u?0:h===void 0?1:u===void 0?-1:h===null?p:u===null?b:null}},4937:(s,i,a)=>{const o=a(375),c=a(8068),m=a(8160),d=a(2036),l={isBool:function(f){return typeof f=="boolean"}};s.exports=c.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(f,g){let{schema:h}=g;if(typeof f!="boolean"){if(typeof f=="string"){const u=h._flags.sensitive?f:f.toLowerCase();f=u==="true"||u!=="false"&&f}return typeof f!="boolean"&&(f=h.$_terms.truthy&&h.$_terms.truthy.has(f,null,null,!h._flags.sensitive)||(!h.$_terms.falsy||!h.$_terms.falsy.has(f,null,null,!h._flags.sensitive))&&f),{value:f}}},validate(f,g){let{error:h}=g;if(typeof f!="boolean")return{value:f,errors:h("boolean.base")}},rules:{truthy:{method(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];m.verifyFlat(g,"truthy");const u=this.clone();u.$_terms.truthy=u.$_terms.truthy||new d;for(let b=0;b<g.length;++b){const p=g[b];o(p!==void 0,"Cannot call truthy with undefined"),u.$_terms.truthy.add(p)}return u}},falsy:{method(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];m.verifyFlat(g,"falsy");const u=this.clone();u.$_terms.falsy=u.$_terms.falsy||new d;for(let b=0;b<g.length;++b){const p=g[b];o(p!==void 0,"Cannot call falsy with undefined"),u.$_terms.falsy.add(p)}return u}},sensitive:{method(){let f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("sensitive",f)}}},cast:{number:{from:l.isBool,to:(f,g)=>f?1:0},string:{from:l.isBool,to:(f,g)=>f?"true":"false"}},manifest:{build:(f,g)=>(g.truthy&&(f=f.truthy(...g.truthy)),g.falsy&&(f=f.falsy(...g.falsy)),f)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(s,i,a)=>{const o=a(375),c=a(8068),m=a(8160),d=a(3328),l={isDate:function(f){return f instanceof Date}};s.exports=c.extend({type:"date",coerce:{from:["number","string"],method(f,g){let{schema:h}=g;return{value:l.parse(f,h._flags.format)||f}}},validate(f,g){let{schema:h,error:u,prefs:b}=g;if(f instanceof Date&&!isNaN(f.getTime()))return;const p=h._flags.format;return b.convert&&p&&typeof f=="string"?{value:f,errors:u("date.format",{format:p})}:{value:f,errors:u("date.base")}},rules:{compare:{method:!1,validate(f,g,h,u){let{date:b}=h,{name:p,operator:y,args:v}=u;const E=b==="now"?Date.now():b.getTime();return m.compare(f.getTime(),E,y)?f:g.error("date."+p,{limit:v.date,value:f})},args:[{name:"date",ref:!0,normalize:f=>f==="now"?f:l.parse(f),assert:f=>f!==null,message:"must have a valid date format"}]},format:{method(f){return o(["iso","javascript","unix"].includes(f),"Unknown date format",f),this.$_setFlag("format",f)}},greater:{method(f){return this.$_addRule({name:"greater",method:"compare",args:{date:f},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(f){return this.$_addRule({name:"less",method:"compare",args:{date:f},operator:"<"})}},max:{method(f){return this.$_addRule({name:"max",method:"compare",args:{date:f},operator:"<="})}},min:{method(f){return this.$_addRule({name:"min",method:"compare",args:{date:f},operator:">="})}},timestamp:{method(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript";return o(["javascript","unix"].includes(f),'"type" must be one of "javascript, unix"'),this.format(f)}}},cast:{number:{from:l.isDate,to:(f,g)=>f.getTime()},string:{from:l.isDate,to(f,g){let{prefs:h}=g;return d.date(f,h)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),l.parse=function(f,g){if(f instanceof Date)return f;if(typeof f!="string"&&(isNaN(f)||!isFinite(f))||/^\s*$/.test(f))return null;if(g==="iso")return m.isIsoDate(f)?l.date(f.toString()):null;const h=f;if(typeof f=="string"&&/^[+-]?\d+(\.\d+)?$/.test(f)&&(f=parseFloat(f)),g){if(g==="javascript")return l.date(1*f);if(g==="unix")return l.date(1e3*f);if(typeof h=="string")return null}return l.date(f)},l.date=function(f){const g=new Date(f);return isNaN(g.getTime())?null:g}},390:(s,i,a)=>{const o=a(375),c=a(7824);s.exports=c.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(m){return o(Number.isSafeInteger(m)&&m>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:m}})},validate(m,d,l){let{n:f}=l;return m.length===f?m:d.error("function.arity",{n:f})}},class:{method(){return this.$_addRule("class")},validate:(m,d)=>/^\s*class\s/.test(m.toString())?m:d.error("function.class",{value:m})},minArity:{method(m){return o(Number.isSafeInteger(m)&&m>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:m}})},validate(m,d,l){let{n:f}=l;return m.length>=f?m:d.error("function.minArity",{n:f})}},maxArity:{method(m){return o(Number.isSafeInteger(m)&&m>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:m}})},validate(m,d,l){let{n:f}=l;return m.length<=f?m:d.error("function.maxArity",{n:f})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(s,i,a)=>{const o=a(978),c=a(375),m=a(8571),d=a(3652),l=a(8068),f=a(8160),g=a(3292),h=a(6354),u=a(6133),b=a(3328),p={renameDefaults:{alias:!1,multiple:!1,override:!1}};s.exports=l.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(y,v)=>y.keys(v),validate(y,v){let{schema:E,error:x,state:C,prefs:T}=v;if(!y||typeof y!==E.$_property("typeof")||Array.isArray(y))return{value:y,errors:x("object.base",{type:E.$_property("typeof")})};if(!(E.$_terms.renames||E.$_terms.dependencies||E.$_terms.keys||E.$_terms.patterns||E.$_terms.externals))return;y=p.clone(y,T);const A=[];if(E.$_terms.renames&&!p.rename(E,y,C,T,A))return{value:y,errors:A};if(!E.$_terms.keys&&!E.$_terms.patterns&&!E.$_terms.dependencies)return{value:y,errors:A};const S=new Set(Object.keys(y));if(E.$_terms.keys){const I=[y,...C.ancestors];for(const R of E.$_terms.keys){const H=R.key,W=y[H];S.delete(H);const Z=C.localize([...C.path,H],I,R),j=R.schema.$_validate(W,Z,T);if(j.errors){if(T.abortEarly)return{value:y,errors:j.errors};j.value!==void 0&&(y[H]=j.value),A.push(...j.errors)}else R.schema._flags.result==="strip"||j.value===void 0&&W!==void 0?delete y[H]:j.value!==void 0&&(y[H]=j.value)}}if(S.size||E._flags._hasPatternMatch){const I=p.unknown(E,y,S,A,C,T);if(I)return I}if(E.$_terms.dependencies)for(const I of E.$_terms.dependencies){if(I.key!==null&&p.isPresent(I.options)(I.key.resolve(y,C,T,null,{shadow:!1}))===!1)continue;const R=p.dependencies[I.rel](E,I,y,C,T);if(R){const H=E.$_createError(R.code,y,R.context,C,T);if(T.abortEarly)return{value:y,errors:H};A.push(H)}}return{value:y,errors:A}},rules:{and:{method(){for(var y=arguments.length,v=new Array(y),E=0;E<y;E++)v[E]=arguments[E];return f.verifyFlat(v,"and"),p.dependency(this,"and",null,v)}},append:{method(y){return y==null||Object.keys(y).length===0?this:this.keys(y)}},assert:{method(y,v,E){b.isTemplate(y)||(y=g.ref(y)),c(E===void 0||typeof E=="string","Message must be a string"),v=this.$_compile(v,{appendPath:!0});const x=this.$_addRule({name:"assert",args:{subject:y,schema:v,message:E}});return x.$_mutateRegister(y),x.$_mutateRegister(v),x},validate(y,v,E){let{error:x,prefs:C,state:T}=v,{subject:A,schema:S,message:I}=E;const R=A.resolve(y,T,C),H=u.isRef(A)?A.absolute(T):[];return S.$_match(R,T.localize(H,[y,...T.ancestors],S),C)?y:x("object.assert",{subject:A,message:I})},args:["subject","schema","message"],multi:!0},instance:{method(y,v){return c(typeof y=="function","constructor must be a function"),v=v||y.name,this.$_addRule({name:"instance",args:{constructor:y,name:v}})},validate(y,v,E){let{constructor:x,name:C}=E;return y instanceof x?y:v.error("object.instance",{type:C,value:y})},args:["constructor","name"]},keys:{method(y){c(y===void 0||typeof y=="object","Object schema must be a valid object"),c(!f.isSchema(y),"Object schema cannot be a joi schema");const v=this.clone();if(y)if(Object.keys(y).length){v.$_terms.keys=v.$_terms.keys?v.$_terms.keys.filter(E=>!y.hasOwnProperty(E.key)):new p.Keys;for(const E in y)f.tryWithPath(()=>v.$_terms.keys.push({key:E,schema:this.$_compile(y[E])}),E)}else v.$_terms.keys=new p.Keys;else v.$_terms.keys=null;return v.$_mutateRebuild()}},length:{method(y){return this.$_addRule({name:"length",args:{limit:y},operator:"="})},validate(y,v,E,x){let{limit:C}=E,{name:T,operator:A,args:S}=x;return f.compare(Object.keys(y).length,C,A)?y:v.error("object."+T,{limit:S.limit,value:y})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"}]},max:{method(y){return this.$_addRule({name:"max",method:"length",args:{limit:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"length",args:{limit:y},operator:">="})}},nand:{method(){for(var y=arguments.length,v=new Array(y),E=0;E<y;E++)v[E]=arguments[E];return f.verifyFlat(v,"nand"),p.dependency(this,"nand",null,v)}},or:{method(){for(var y=arguments.length,v=new Array(y),E=0;E<y;E++)v[E]=arguments[E];return f.verifyFlat(v,"or"),p.dependency(this,"or",null,v)}},oxor:{method(){for(var y=arguments.length,v=new Array(y),E=0;E<y;E++)v[E]=arguments[E];return p.dependency(this,"oxor",null,v)}},pattern:{method(y,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=y instanceof RegExp;x||(y=this.$_compile(y,{appendPath:!0})),c(v!==void 0,"Invalid rule"),f.assertOptions(E,["fallthrough","matches"]),x&&c(!y.flags.includes("g")&&!y.flags.includes("y"),"pattern should not use global or sticky mode"),v=this.$_compile(v,{appendPath:!0});const C=this.clone();C.$_terms.patterns=C.$_terms.patterns||[];const T={[x?"regex":"schema"]:y,rule:v};return E.matches&&(T.matches=this.$_compile(E.matches),T.matches.type!=="array"&&(T.matches=T.matches.$_root.array().items(T.matches)),C.$_mutateRegister(T.matches),C.$_setFlag("_hasPatternMatch",!0,{clone:!1})),E.fallthrough&&(T.fallthrough=!0),C.$_terms.patterns.push(T),C.$_mutateRegister(v),C}},ref:{method(){return this.$_addRule("ref")},validate:(y,v)=>u.isRef(y)?y:v.error("object.refType",{value:y})},regex:{method(){return this.$_addRule("regex")},validate:(y,v)=>y instanceof RegExp?y:v.error("object.regex",{value:y})},rename:{method(y,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c(typeof y=="string"||y instanceof RegExp,"Rename missing the from argument"),c(typeof v=="string"||v instanceof b,"Invalid rename to argument"),c(v!==y,"Cannot rename key to same name:",y),f.assertOptions(E,["alias","ignoreUndefined","override","multiple"]);const x=this.clone();x.$_terms.renames=x.$_terms.renames||[];for(const C of x.$_terms.renames)c(C.from!==y,"Cannot rename the same key multiple times");return v instanceof b&&x.$_mutateRegister(v),x.$_terms.renames.push({from:y,to:v,options:o(p.renameDefaults,E)}),x}},schema:{method(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:y}})},validate(y,v,E){let{type:x}=E;return!f.isSchema(y)||x!=="any"&&y.type!==x?v.error("object.schema",{type:x}):y}},unknown:{method(y){return this.$_setFlag("unknown",y!==!1)}},with:{method(y,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p.dependency(this,"with",y,v,E)}},without:{method(y,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p.dependency(this,"without",y,v,E)}},xor:{method(){for(var y=arguments.length,v=new Array(y),E=0;E<y;E++)v[E]=arguments[E];return f.verifyFlat(v,"xor"),p.dependency(this,"xor",null,v)}}},overrides:{default(y,v){return y===void 0&&(y=f.symbols.deepDefault),this.$_parent("default",y,v)}},rebuild(y){if(y.$_terms.keys){const v=new d.Sorter;for(const E of y.$_terms.keys)f.tryWithPath(()=>v.add(E,{after:E.schema.$_rootReferences(),group:E.key}),E.key);y.$_terms.keys=new p.Keys(...v.nodes)}},manifest:{build(y,v){if(v.keys&&(y=y.keys(v.keys)),v.dependencies)for(const{rel:E,key:x=null,peers:C,options:T}of v.dependencies)y=p.dependency(y,E,x,C,T);if(v.patterns)for(const{regex:E,schema:x,rule:C,fallthrough:T,matches:A}of v.patterns)y=y.pattern(E||x,C,{fallthrough:T,matches:A});if(v.renames)for(const{from:E,to:x,options:C}of v.renames)y=y.rename(E,x,C);return y}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),p.clone=function(y,v){if(typeof y=="object"){if(v.nonEnumerables)return m(y,{shallow:!0});const x=Object.create(Object.getPrototypeOf(y));return Object.assign(x,y),x}const E=function(){for(var x=arguments.length,C=new Array(x),T=0;T<x;T++)C[T]=arguments[T];return y.apply(this,C)};return E.prototype=m(y.prototype),Object.defineProperty(E,"name",{value:y.name,writable:!1}),Object.defineProperty(E,"length",{value:y.length,writable:!1}),Object.assign(E,y),E},p.dependency=function(y,v,E,x,C){c(E===null||typeof E=="string",v,"key must be a strings"),C||(C=x.length>1&&typeof x[x.length-1]=="object"?x.pop():{}),f.assertOptions(C,["separator","isPresent"]),x=[].concat(x);const T=f.default(C.separator,"."),A=[];for(const I of x)c(typeof I=="string",v,"peers must be strings"),A.push(g.ref(I,{separator:T,ancestor:0,prefix:!1}));E!==null&&(E=g.ref(E,{separator:T,ancestor:0,prefix:!1}));const S=y.clone();return S.$_terms.dependencies=S.$_terms.dependencies||[],S.$_terms.dependencies.push(new p.Dependency(v,E,A,x,C)),S},p.dependencies={and(y,v,E,x,C){const T=[],A=[],S=v.peers.length,I=p.isPresent(v.options);for(const R of v.peers)I(R.resolve(E,x,C,null,{shadow:!1}))===!1?T.push(R.key):A.push(R.key);if(T.length!==S&&A.length!==S)return{code:"object.and",context:{present:A,presentWithLabels:p.keysToLabels(y,A),missing:T,missingWithLabels:p.keysToLabels(y,T)}}},nand(y,v,E,x,C){const T=[],A=p.isPresent(v.options);for(const R of v.peers)A(R.resolve(E,x,C,null,{shadow:!1}))&&T.push(R.key);if(T.length!==v.peers.length)return;const S=v.paths[0],I=v.paths.slice(1);return{code:"object.nand",context:{main:S,mainWithLabel:p.keysToLabels(y,S),peers:I,peersWithLabels:p.keysToLabels(y,I)}}},or(y,v,E,x,C){const T=p.isPresent(v.options);for(const A of v.peers)if(T(A.resolve(E,x,C,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)}}},oxor(y,v,E,x,C){const T=[],A=p.isPresent(v.options);for(const I of v.peers)A(I.resolve(E,x,C,null,{shadow:!1}))&&T.push(I.key);if(!T.length||T.length===1)return;const S={peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)};return S.present=T,S.presentWithLabels=p.keysToLabels(y,T),{code:"object.oxor",context:S}},with(y,v,E,x,C){const T=p.isPresent(v.options);for(const A of v.peers)if(T(A.resolve(E,x,C,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:v.key.key,mainWithLabel:p.keysToLabels(y,v.key.key),peer:A.key,peerWithLabel:p.keysToLabels(y,A.key)}}},without(y,v,E,x,C){const T=p.isPresent(v.options);for(const A of v.peers)if(T(A.resolve(E,x,C,null,{shadow:!1})))return{code:"object.without",context:{main:v.key.key,mainWithLabel:p.keysToLabels(y,v.key.key),peer:A.key,peerWithLabel:p.keysToLabels(y,A.key)}}},xor(y,v,E,x,C){const T=[],A=p.isPresent(v.options);for(const I of v.peers)A(I.resolve(E,x,C,null,{shadow:!1}))&&T.push(I.key);if(T.length===1)return;const S={peers:v.paths,peersWithLabels:p.keysToLabels(y,v.paths)};return T.length===0?{code:"object.missing",context:S}:(S.present=T,S.presentWithLabels=p.keysToLabels(y,T),{code:"object.xor",context:S})}},p.keysToLabels=function(y,v){return Array.isArray(v)?v.map(E=>y.$_mapLabels(E)):y.$_mapLabels(v)},p.isPresent=function(y){return typeof y.isPresent=="function"?y.isPresent:v=>v!==void 0},p.rename=function(y,v,E,x,C){const T={};for(const A of y.$_terms.renames){const S=[],I=typeof A.from!="string";if(I)for(const R in v){if(v[R]===void 0&&A.options.ignoreUndefined||R===A.to)continue;const H=A.from.exec(R);H&&S.push({from:R,to:A.to,match:H})}else!Object.prototype.hasOwnProperty.call(v,A.from)||v[A.from]===void 0&&A.options.ignoreUndefined||S.push(A);for(const R of S){const H=R.from;let W=R.to;if(W instanceof b&&(W=W.render(v,E,x,R.match)),H!==W){if(!A.options.multiple&&T[W]&&(C.push(y.$_createError("object.rename.multiple",v,{from:H,to:W,pattern:I},E,x)),x.abortEarly)||Object.prototype.hasOwnProperty.call(v,W)&&!A.options.override&&!T[W]&&(C.push(y.$_createError("object.rename.override",v,{from:H,to:W,pattern:I},E,x)),x.abortEarly))return!1;v[H]===void 0?delete v[W]:v[W]=v[H],T[W]=!0,A.options.alias||delete v[H]}}}return!0},p.unknown=function(y,v,E,x,C,T){if(y.$_terms.patterns){let A=!1;const S=y.$_terms.patterns.map(R=>{if(R.matches)return A=!0,[]}),I=[v,...C.ancestors];for(const R of E){const H=v[R],W=[...C.path,R];for(let Z=0;Z<y.$_terms.patterns.length;++Z){const j=y.$_terms.patterns[Z];if(j.regex){const de=j.regex.test(R);if(C.mainstay.tracer.debug(C,"rule",`pattern.${Z}`,de?"pass":"error"),!de)continue}else if(!j.schema.$_match(R,C.nest(j.schema,`pattern.${Z}`),T))continue;E.delete(R);const z=C.localize(W,I,{schema:j.rule,key:R}),Y=j.rule.$_validate(H,z,T);if(Y.errors){if(T.abortEarly)return{value:v,errors:Y.errors};x.push(...Y.errors)}if(j.matches&&S[Z].push(R),v[R]=Y.value,!j.fallthrough)break}}if(A)for(let R=0;R<S.length;++R){const H=S[R];if(!H)continue;const W=y.$_terms.patterns[R].matches,Z=C.localize(C.path,I,W),j=W.$_validate(H,Z,T);if(j.errors){const z=h.details(j.errors,{override:!1});z.matches=H;const Y=y.$_createError("object.pattern.match",v,z,C,T);if(T.abortEarly)return{value:v,errors:Y};x.push(Y)}}}if(E.size&&(y.$_terms.keys||y.$_terms.patterns)){if(T.stripUnknown&&!y._flags.unknown||T.skipFunctions){const A=!(!T.stripUnknown||T.stripUnknown!==!0&&!T.stripUnknown.objects);for(const S of E)A?(delete v[S],E.delete(S)):typeof v[S]=="function"&&E.delete(S)}if(!f.default(y._flags.unknown,T.allowUnknown))for(const A of E){const S=C.localize([...C.path,A],[]),I=y.$_createError("object.unknown",v[A],{child:A},S,T,{flags:!1});if(T.abortEarly)return{value:v,errors:I};x.push(I)}}},p.Dependency=class{constructor(y,v,E,x,C){this.rel=y,this.key=v,this.peers=E,this.paths=x,this.options=C}describe(){const y={rel:this.rel,peers:this.paths};return this.key!==null&&(y.key=this.key.key),this.peers[0].separator!=="."&&(y.options={...y.options,separator:this.peers[0].separator}),this.options.isPresent&&(y.options={...y.options,isPresent:this.options.isPresent}),y}},p.Keys=class extends Array{concat(y){const v=this.slice(),E=new Map;for(let x=0;x<v.length;++x)E.set(v[x].key,x);for(const x of y){const C=x.key,T=E.get(C);T!==void 0?v[T]={key:C,schema:v[T].schema.concat(x.schema)}:v.push(x)}return v}}},8785:(s,i,a)=>{const o=a(375),c=a(8068),m=a(8160),d=a(3292),l=a(6354),f={};s.exports=c.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(g,h)=>g.ref(h),validate(g,h){let{schema:u,state:b,prefs:p}=h;o(u.$_terms.link,"Uninitialized link schema");const y=f.generate(u,g,b,p),v=u.$_terms.link[0].ref;return y.$_validate(g,b.nest(y,`link:${v.display}:${y.type}`),p)},generate:(g,h,u,b)=>f.generate(g,h,u,b),rules:{ref:{method(g){o(!this.$_terms.link,"Cannot reinitialize schema"),g=d.ref(g),o(g.type==="value"||g.type==="local","Invalid reference type:",g.type),o(g.type==="local"||g.ancestor==="root"||g.ancestor>0,"Link cannot reference itself");const h=this.clone();return h.$_terms.link=[{ref:g}],h}},relative:{method(){let g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("relative",g)}}},overrides:{concat(g){o(this.$_terms.link,"Uninitialized link schema"),o(m.isSchema(g),"Invalid schema object"),o(g.type!=="link","Cannot merge type link with another link");const h=this.clone();return h.$_terms.whens||(h.$_terms.whens=[]),h.$_terms.whens.push({concat:g}),h.$_mutateRebuild()}},manifest:{build:(g,h)=>(o(h.link,"Invalid link description missing link"),g.ref(h.link))}}),f.generate=function(g,h,u,b){let p=u.mainstay.links.get(g);if(p)return p._generate(h,u,b).schema;const y=g.$_terms.link[0].ref,{perspective:v,path:E}=f.perspective(y,u);f.assert(v,"which is outside of schema boundaries",y,g,u,b);try{p=E.length?v.$_reach(E):v}catch{f.assert(!1,"to non-existing schema",y,g,u,b)}return f.assert(p.type!=="link","which is another link",y,g,u,b),g._flags.relative||u.mainstay.links.set(g,p),p._generate(h,u,b).schema},f.perspective=function(g,h){if(g.type==="local"){for(const{schema:u,key:b}of h.schemas){if((u._flags.id||b)===g.path[0])return{perspective:u,path:g.path.slice(1)};if(u.$_terms.shared){for(const p of u.$_terms.shared)if(p._flags.id===g.path[0])return{perspective:p,path:g.path.slice(1)}}}return{perspective:null,path:null}}return g.ancestor==="root"?{perspective:h.schemas[h.schemas.length-1].schema,path:g.path}:{perspective:h.schemas[g.ancestor]&&h.schemas[g.ancestor].schema,path:g.path}},f.assert=function(g,h,u,b,p,y){g||o(!1,`"${l.label(b._flags,p,y)}" contains link reference "${u.display}" ${h}`)}},3832:(s,i,a)=>{const o=a(375),c=a(8068),m=a(8160),d={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};s.exports=c.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(l,f){let{schema:g,error:h}=f;if(!l.match(d.numberRx))return;l=l.trim();const u={value:parseFloat(l)};if(u.value===0&&(u.value=0),!g._flags.unsafe)if(l.match(/e/i)){if(d.extractSignificantDigits(l)!==d.extractSignificantDigits(String(u.value)))return u.errors=h("number.unsafe"),u}else{const b=u.value.toString();if(b.match(/e/i))return u;if(b!==d.normalizeDecimal(l))return u.errors=h("number.unsafe"),u}return u}},validate(l,f){let{schema:g,error:h,prefs:u}=f;if(l===1/0||l===-1/0)return{value:l,errors:h("number.infinity")};if(!m.isNumber(l))return{value:l,errors:h("number.base")};const b={value:l};if(u.convert){const p=g.$_getRule("precision");if(p){const y=Math.pow(10,p.args.limit);b.value=Math.round(b.value*y)/y}}return b.value===0&&(b.value=0),!g._flags.unsafe&&(l>Number.MAX_SAFE_INTEGER||l<Number.MIN_SAFE_INTEGER)&&(b.errors=h("number.unsafe")),b},rules:{compare:{method:!1,validate(l,f,g,h){let{limit:u}=g,{name:b,operator:p,args:y}=h;return m.compare(l,u,p)?l:f.error("number."+b,{limit:y.limit,value:l})},args:[{name:"limit",ref:!0,assert:m.isNumber,message:"must be a number"}]},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{limit:l},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(l,f)=>Math.trunc(l)-l==0?l:f.error("number.integer")},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{limit:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{limit:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{limit:l},operator:">="})}},multiple:{method(l){return this.$_addRule({name:"multiple",args:{base:l}})},validate(l,f,g,h){let{base:u}=g;return l*(1/u)%1==0?l:f.error("number.multiple",{multiple:h.args.base,value:l})},args:[{name:"base",ref:!0,assert:l=>typeof l=="number"&&isFinite(l)&&l>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(l,f)=>Number.isSafeInteger(l)&&l>=0&&l<=65535?l:f.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(l){return o(Number.isSafeInteger(l),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:l}})},validate(l,f,g){let{limit:h}=g;const u=l.toString().match(d.precisionRx);return Math.max((u[1]?u[1].length:0)-(u[2]?parseInt(u[2],10):0),0)<=h?l:f.error("number.precision",{limit:h,value:l})},convert:!0},sign:{method(l){return o(["negative","positive"].includes(l),"Invalid sign",l),this.$_addRule({name:"sign",args:{sign:l}})},validate(l,f,g){let{sign:h}=g;return h==="negative"&&l<0||h==="positive"&&l>0?l:f.error(`number.${h}`)}},unsafe:{method(){let l=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return o(typeof l=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",l)}}},cast:{string:{from:l=>typeof l=="number",to:(l,f)=>l.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),d.extractSignificantDigits=function(l){return l.replace(d.exponentialPartRegex,"").replace(d.dotRegex,"").replace(d.trailingZerosRegex,"").replace(d.leadingSignAndZerosRegex,"")},d.normalizeDecimal=function(l){return(l=l.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&l.endsWith("0")&&(l=l.replace(/0+$/,"")),l==="-0"?"0":l}},8966:(s,i,a)=>{const o=a(7824);s.exports=o.extend({type:"object",cast:{map:{from:c=>c&&typeof c=="object",to:(c,m)=>new Map(Object.entries(c))}}})},7417:(s,i,a)=>{const o=a(375),c=a(5380),m=a(1745),d=a(9959),l=a(6064),f=a(9926),g=a(5752),h=a(8068),u=a(8160),b={tlds:f instanceof Set&&{tlds:{allow:f,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:d.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};s.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(p,y){let{schema:v,state:E,prefs:x}=y;const C=v.$_getRule("normalize");C&&(p=p.normalize(C.args.form));const T=v.$_getRule("case");T&&(p=T.args.direction==="upper"?p.toLocaleUpperCase():p.toLocaleLowerCase());const A=v.$_getRule("trim");if(A&&A.args.enabled&&(p=p.trim()),v.$_terms.replacements)for(const I of v.$_terms.replacements)p=p.replace(I.pattern,I.replacement);const S=v.$_getRule("hex");if(S&&S.args.options.byteAligned&&p.length%2!=0&&(p=`0${p}`),v.$_getRule("isoDate")){const I=b.isoDate(p);I&&(p=I)}if(v._flags.truncate){const I=v.$_getRule("max");if(I){let R=I.args.limit;if(u.isResolvable(R)&&(R=R.resolve(p,E,x),!u.limit(R)))return{value:p,errors:v.$_createError("any.ref",R,{ref:I.args.limit,arg:"limit",reason:"must be a positive integer"},E,x)};p=p.slice(0,R)}}return{value:p}}},validate(p,y){let{schema:v,error:E}=y;if(typeof p!="string")return{value:p,errors:E("string.base")};if(p===""){const x=v.$_getRule("min");return x&&x.args.limit===0?void 0:{value:p,errors:E("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(p,y)=>/^[a-zA-Z0-9]+$/.test(p)?p:y.error("string.alphanum")},base64:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.assertOptions(p,["paddingRequired","urlSafe"]),p={urlSafe:!1,paddingRequired:!0,...p},o(typeof p.paddingRequired=="boolean","paddingRequired must be boolean"),o(typeof p.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:p}})},validate(p,y,v){let{options:E}=v;return b.base64Regex[E.paddingRequired][E.urlSafe].test(p)?p:y.error("string.base64")}},case:{method(p){return o(["lower","upper"].includes(p),"Invalid case:",p),this.$_addRule({name:"case",args:{direction:p}})},validate(p,y,v){let{direction:E}=v;return E==="lower"&&p===p.toLocaleLowerCase()||E==="upper"&&p===p.toLocaleUpperCase()?p:y.error(`string.${E}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(p,y){let v=p.length,E=0,x=1;for(;v--;){const C=p.charAt(v)*x;E+=C-9*(C>9),x^=3}return E>0&&E%10==0?p:y.error("string.creditCard")}},dataUri:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.assertOptions(p,["paddingRequired"]),p={paddingRequired:!0,...p},o(typeof p.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:p}})},validate(p,y,v){let{options:E}=v;const x=p.match(b.dataUriRegex);return x&&(!x[2]||x[2]!=="base64"||b.base64Regex[E.paddingRequired].false.test(x[3]))?p:y.error("string.dataUri")}},domain:{method(p){p&&u.assertOptions(p,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const y=b.addressOptions(p);return this.$_addRule({name:"domain",args:{options:p},address:y})},validate(p,y,v,E){let{address:x}=E;return c.isValid(p,x)?p:y.error("string.domain")}},email:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u.assertOptions(p,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),o(p.multiple===void 0||typeof p.multiple=="boolean","multiple option must be an boolean");const y=b.addressOptions(p),v=new RegExp(`\\s*[${p.separator?l(p.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:p},regex:v,address:y})},validate(p,y,v,E){let{options:x}=v,{regex:C,address:T}=E;const A=x.multiple?p.split(C):[p],S=[];for(const I of A)m.isValid(I,T)||S.push(I);return S.length?y.error("string.email",{value:p,invalids:S}):p}},guid:{alias:"uuid",method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u.assertOptions(p,["version","separator"]);let y="";if(p.version){const x=[].concat(p.version);o(x.length>=1,"version must have at least 1 valid version specified");const C=new Set;for(let T=0;T<x.length;++T){const A=x[T];o(typeof A=="string","version at position "+T+" must be a string");const S=b.guidVersions[A.toLowerCase()];o(S,"version at position "+T+" must be one of "+Object.keys(b.guidVersions).join(", ")),o(!C.has(S),"version at position "+T+" must not be a duplicate"),y+=S,C.add(S)}}o(b.guidSeparators.has(p.separator),'separator must be one of true, false, "-", or ":"');const v=p.separator===void 0?"[:-]?":p.separator===!0?"[:-]":p.separator===!1?"[]?":`\\${p.separator}`,E=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${v})[0-9A-F]{4}\\2?[${y||"0-9A-F"}][0-9A-F]{3}\\2?[${y?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:p},regex:E})},validate(p,y,v,E){let{regex:x}=E;const C=x.exec(p);return C?b.guidBrackets[C[1]]!==C[C.length-1]?y.error("string.guid"):p:y.error("string.guid")}},hex:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.assertOptions(p,["byteAligned"]),p={byteAligned:!1,...p},o(typeof p.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:p}})},validate(p,y,v){let{options:E}=v;return b.hexRegex.test(p)?E.byteAligned&&p.length%2!=0?y.error("string.hexAlign"):p:y.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(p,y)=>c.isValid(p,{minDomainSegments:1})||b.ipRegex.test(p)?p:y.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u.assertOptions(p,["cidr","version"]);const{cidr:y,versions:v,regex:E}=d.regex(p),x=p.version?v:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:y,version:x}},regex:E})},validate(p,y,v,E){let{options:x}=v,{regex:C}=E;return C.test(p)?p:x.version?y.error("string.ipVersion",{value:p,cidr:x.cidr,version:x.version}):y.error("string.ip",{value:p,cidr:x.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(p,y){let{error:v}=y;return b.isoDate(p)?p:v("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(p,y)=>b.isoDurationRegex.test(p)?p:y.error("string.isoDuration")},length:{method(p,y){return b.length(this,"length",p,"=",y)},validate(p,y,v,E){let{limit:x,encoding:C}=v,{name:T,operator:A,args:S}=E;const I=!C&&p.length;return u.compare(I,x,A)?p:y.error("string."+T,{limit:S.limit,value:p,encoding:C})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(p,y){return b.length(this,"max",p,"<=",y)},args:["limit","encoding"]},min:{method(p,y){return b.length(this,"min",p,">=",y)},args:["limit","encoding"]},normalize:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";return o(b.normalizationForms.includes(p),"normalization form must be one of "+b.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:p}})},validate(p,y,v){let{error:E}=y,{form:x}=v;return p===p.normalize(x)?p:E("string.normalize",{value:p,form:x})},convert:!0},pattern:{alias:"regex",method(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(p instanceof RegExp,"regex must be a RegExp"),o(!p.flags.includes("g")&&!p.flags.includes("y"),"regex should not use global or sticky mode"),typeof y=="string"&&(y={name:y}),u.assertOptions(y,["invert","name"]);const v=["string.pattern",y.invert?".invert":"",y.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:p,options:y},errorCode:v})},validate(p,y,v,E){let{regex:x,options:C}=v,{errorCode:T}=E;return x.test(p)^C.invert?p:y.error(T,{name:C.name,regex:x,value:p})},args:["regex","options"],multi:!0},replace:{method(p,y){typeof p=="string"&&(p=new RegExp(l(p),"g")),o(p instanceof RegExp,"pattern must be a RegExp"),o(typeof y=="string","replacement must be a String");const v=this.clone();return v.$_terms.replacements||(v.$_terms.replacements=[]),v.$_terms.replacements.push({pattern:p,replacement:y}),v}},token:{method(){return this.$_addRule("token")},validate:(p,y)=>/^\w+$/.test(p)?p:y.error("string.token")},trim:{method(){let p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return o(typeof p=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:p}})},validate(p,y,v){let{enabled:E}=v;return E&&p!==p.trim()?y.error("string.trim"):p},convert:!0},truncate:{method(){let p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return o(typeof p=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",p)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u.assertOptions(p,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),p.domain&&u.assertOptions(p.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:y,scheme:v}=g.regex(p),E=p.domain?b.addressOptions(p.domain):null;return this.$_addRule({name:"uri",args:{options:p},regex:y,domain:E,scheme:v})},validate(p,y,v,E){let{options:x}=v,{regex:C,domain:T,scheme:A}=E;if(["http:/","https:/"].includes(p))return y.error("string.uri");const S=C.exec(p);if(S){const I=S[1]||S[2];return!T||x.allowRelative&&!I||c.isValid(I,T)?p:y.error("string.domain",{value:I})}return x.relativeOnly?y.error("string.uriRelativeOnly"):x.scheme?y.error("string.uriCustomScheme",{scheme:A,value:p}):y.error("string.uri")}}},manifest:{build(p,y){if(y.replacements)for(const{pattern:v,replacement:E}of y.replacements)p=p.replace(v,E);return p}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),b.addressOptions=function(p){if(!p||(o(p.minDomainSegments===void 0||Number.isSafeInteger(p.minDomainSegments)&&p.minDomainSegments>0,"minDomainSegments must be a positive integer"),o(p.maxDomainSegments===void 0||Number.isSafeInteger(p.maxDomainSegments)&&p.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),p.tlds===!1))return p;if(p.tlds===!0||p.tlds===void 0)return o(b.tlds,"Built-in TLD list disabled"),Object.assign({},p,b.tlds);o(typeof p.tlds=="object","tlds must be true, false, or an object");const y=p.tlds.deny;if(y)return Array.isArray(y)&&(p=Object.assign({},p,{tlds:{deny:new Set(y)}})),o(p.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),o(!p.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),b.validateTlds(p.tlds.deny,"tlds.deny"),p;const v=p.tlds.allow;return v?v===!0?(o(b.tlds,"Built-in TLD list disabled"),Object.assign({},p,b.tlds)):(Array.isArray(v)&&(p=Object.assign({},p,{tlds:{allow:new Set(v)}})),o(p.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),b.validateTlds(p.tlds.allow,"tlds.allow"),p):p},b.validateTlds=function(p,y){for(const v of p)o(c.isValid(v,{minDomainSegments:1,maxDomainSegments:1}),`${y} must contain valid top level domain names`)},b.isoDate=function(p){if(!u.isIsoDate(p))return null;/.*T.*[+-]\d\d$/.test(p)&&(p+="00");const y=new Date(p);return isNaN(y.getTime())?null:y.toISOString()},b.length=function(p,y,v,E,x){return o(!x||!1,"Invalid encoding:",x),p.$_addRule({name:y,method:"length",args:{limit:v,encoding:x},operator:E})}},8826:(s,i,a)=>{const o=a(375),c=a(8068),m={};m.Map=class extends Map{slice(){return new m.Map(this)}},s.exports=c.extend({type:"symbol",terms:{map:{init:new m.Map}},coerce:{method(d,l){let{schema:f,error:g}=l;const h=f.$_terms.map.get(d);return h&&(d=h),f._flags.only&&typeof d!="symbol"?{value:d,errors:g("symbol.map",{map:f.$_terms.map})}:{value:d}}},validate(d,l){let{error:f}=l;if(typeof d!="symbol")return{value:d,errors:f("symbol.base")}},rules:{map:{method(d){d&&!d[Symbol.iterator]&&typeof d=="object"&&(d=Object.entries(d)),o(d&&d[Symbol.iterator],"Iterable must be an iterable or object");const l=this.clone(),f=[];for(const g of d){o(g&&g[Symbol.iterator],"Entry must be an iterable");const[h,u]=g;o(typeof h!="object"&&typeof h!="function"&&typeof h!="symbol","Key must not be of type object, function, or Symbol"),o(typeof u=="symbol","Value must be a Symbol"),l.$_terms.map.set(h,u),f.push(u)}return l.valid(...f)}}},manifest:{build:(d,l)=>(l.map&&(d=d.map(l.map)),d)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(s,i,a)=>{const o=a(375),c=a(8571),m=a(738),d=a(9621),l=a(8160),f=a(6354),g=a(493),h={result:Symbol("result")};i.entry=function(u,b,p){let y=l.defaults;p&&(o(p.warnings===void 0,"Cannot override warnings preference in synchronous validation"),o(p.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),y=l.preferences(l.defaults,p));const v=h.entry(u,b,y);o(!v.mainstay.externals.length,"Schema with external rules must use validateAsync()");const E={value:v.value};return v.error&&(E.error=v.error),v.mainstay.warnings.length&&(E.warning=f.details(v.mainstay.warnings)),v.mainstay.debug&&(E.debug=v.mainstay.debug),v.mainstay.artifacts&&(E.artifacts=v.mainstay.artifacts),E},i.entryAsync=async function(u,b,p){let y=l.defaults;p&&(y=l.preferences(l.defaults,p));const v=h.entry(u,b,y),E=v.mainstay;if(v.error)throw E.debug&&(v.error.debug=E.debug),v.error;if(E.externals.length){let C=v.value;const T=[];for(const A of E.externals){const S=A.state.path,I=A.schema.type==="link"?E.links.get(A.schema):null;let R,H,W=C;const Z=S.length?[C]:[],j=S.length?d(u,S):u;if(S.length){R=S[S.length-1];let z=C;for(const Y of S.slice(0,-1))z=z[Y],Z.unshift(z);H=Z[0],W=H[R]}try{const z=(de,fe)=>(I||A.schema).$_createError(de,W,fe,A.state,y),Y=await A.method(W,{schema:A.schema,linked:I,state:A.state,prefs:p,original:j,error:z,errorsArray:h.errorsArray,warn:(de,fe)=>E.warnings.push((I||A.schema).$_createError(de,W,fe,A.state,y)),message:(de,fe)=>(I||A.schema).$_createError("external",W,fe,A.state,y,{messages:de})});if(Y===void 0||Y===W)continue;if(Y instanceof f.Report){if(E.tracer.log(A.schema,A.state,"rule","external","error"),T.push(Y),y.abortEarly)break;continue}if(Array.isArray(Y)&&Y[l.symbols.errors]){if(E.tracer.log(A.schema,A.state,"rule","external","error"),T.push(...Y),y.abortEarly)break;continue}H?(E.tracer.value(A.state,"rule",W,Y,"external"),H[R]=Y):(E.tracer.value(A.state,"rule",C,Y,"external"),C=Y)}catch(z){throw y.errors.label&&(z.message+=` (${A.label})`),z}}if(v.value=C,T.length)throw v.error=f.process(T,u,y),E.debug&&(v.error.debug=E.debug),v.error}if(!y.warnings&&!y.debug&&!y.artifacts)return v.value;const x={value:v.value};return E.warnings.length&&(x.warning=f.details(E.warnings)),E.debug&&(x.debug=E.debug),E.artifacts&&(x.artifacts=E.artifacts),x},h.Mainstay=class{constructor(u,b,p){this.externals=[],this.warnings=[],this.tracer=u,this.debug=b,this.links=p,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const u=this._snapshots.pop();this.externals=u.externals,this.warnings=u.warnings}},h.entry=function(u,b,p){const{tracer:y,cleanup:v}=h.tracer(b,p),E=p.debug?[]:null,x=b._ids._schemaChain?new Map:null,C=new h.Mainstay(y,E,x),T=b._ids._schemaChain?[{schema:b}]:null,A=new g([],[],{mainstay:C,schemas:T}),S=i.validate(u,b,A,p);v&&b.$_root.untrace();const I=f.process(S.errors,u,p);return{value:S.value,error:I,mainstay:C}},h.tracer=function(u,b){return u.$_root._tracer?{tracer:u.$_root._tracer._register(u)}:b.debug?(o(u.$_root.trace,"Debug mode not supported"),{tracer:u.$_root.trace()._register(u),cleanup:!0}):{tracer:h.ignore}},i.validate=function(u,b,p,y){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(b.$_terms.whens&&(b=b._generate(u,p,y).schema),b._preferences&&(y=h.prefs(b,y)),b._cache&&y.cache){const I=b._cache.get(u);if(p.mainstay.tracer.debug(p,"validate","cached",!!I),I)return I}const E=(I,R,H)=>b.$_createError(I,u,R,H||p,y),x={original:u,prefs:y,schema:b,state:p,error:E,errorsArray:h.errorsArray,warn:(I,R,H)=>p.mainstay.warnings.push(E(I,R,H)),message:(I,R)=>b.$_createError("custom",u,R,p,y,{messages:I})};p.mainstay.tracer.entry(b,p);const C=b._definition;if(C.prepare&&u!==void 0&&y.convert){const I=C.prepare(u,x);if(I){if(p.mainstay.tracer.value(p,"prepare",u,I.value),I.errors)return h.finalize(I.value,[].concat(I.errors),x);u=I.value}}if(C.coerce&&u!==void 0&&y.convert&&(!C.coerce.from||C.coerce.from.includes(typeof u))){const I=C.coerce.method(u,x);if(I){if(p.mainstay.tracer.value(p,"coerced",u,I.value),I.errors)return h.finalize(I.value,[].concat(I.errors),x);u=I.value}}const T=b._flags.empty;T&&T.$_match(h.trim(u,b),p.nest(T),l.defaults)&&(p.mainstay.tracer.value(p,"empty",u,void 0),u=void 0);const A=v.presence||b._flags.presence||(b._flags._endedSwitch?null:y.presence);if(u===void 0){if(A==="forbidden")return h.finalize(u,null,x);if(A==="required")return h.finalize(u,[b.$_createError("any.required",u,null,p,y)],x);if(A==="optional"){if(b._flags.default!==l.symbols.deepDefault)return h.finalize(u,null,x);p.mainstay.tracer.value(p,"default",u,{}),u={}}}else if(A==="forbidden")return h.finalize(u,[b.$_createError("any.unknown",u,null,p,y)],x);const S=[];if(b._valids){const I=b._valids.get(u,p,y,b._flags.insensitive);if(I)return y.convert&&(p.mainstay.tracer.value(p,"valids",u,I.value),u=I.value),p.mainstay.tracer.filter(b,p,"valid",I),h.finalize(u,null,x);if(b._flags.only){const R=b.$_createError("any.only",u,{valids:b._valids.values({display:!0})},p,y);if(y.abortEarly)return h.finalize(u,[R],x);S.push(R)}}if(b._invalids){const I=b._invalids.get(u,p,y,b._flags.insensitive);if(I){p.mainstay.tracer.filter(b,p,"invalid",I);const R=b.$_createError("any.invalid",u,{invalids:b._invalids.values({display:!0})},p,y);if(y.abortEarly)return h.finalize(u,[R],x);S.push(R)}}if(C.validate){const I=C.validate(u,x);if(I&&(p.mainstay.tracer.value(p,"base",u,I.value),u=I.value,I.errors)){if(!Array.isArray(I.errors))return S.push(I.errors),h.finalize(u,S,x);if(I.errors.length)return S.push(...I.errors),h.finalize(u,S,x)}}return b._rules.length?h.rules(u,S,x):h.finalize(u,S,x)},h.rules=function(u,b,p){const{schema:y,state:v,prefs:E}=p;for(const x of y._rules){const C=y._definition.rules[x.method];if(C.convert&&E.convert){v.mainstay.tracer.log(y,v,"rule",x.name,"full");continue}let T,A=x.args;if(x._resolve.length){A=Object.assign({},A);for(const I of x._resolve){const R=C.argsByName.get(I),H=A[I].resolve(u,v,E),W=R.normalize?R.normalize(H):H,Z=l.validateArg(W,null,R);if(Z){T=y.$_createError("any.ref",H,{arg:I,ref:A[I],reason:Z},v,E);break}A[I]=W}}T=T||C.validate(u,p,A,x);const S=h.rule(T,x);if(S.errors){if(v.mainstay.tracer.log(y,v,"rule",x.name,"error"),x.warn){v.mainstay.warnings.push(...S.errors);continue}if(E.abortEarly)return h.finalize(u,S.errors,p);b.push(...S.errors)}else v.mainstay.tracer.log(y,v,"rule",x.name,"pass"),v.mainstay.tracer.value(v,"rule",u,S.value,x.name),u=S.value}return h.finalize(u,b,p)},h.rule=function(u,b){return u instanceof f.Report?(h.error(u,b),{errors:[u],value:null}):Array.isArray(u)&&u[l.symbols.errors]?(u.forEach(p=>h.error(p,b)),{errors:u,value:null}):{errors:null,value:u}},h.error=function(u,b){return b.message&&u._setTemplate(b.message),u},h.finalize=function(u,b,p){b=b||[];const{schema:y,state:v,prefs:E}=p;if(b.length){const C=h.default("failover",void 0,b,p);C!==void 0&&(v.mainstay.tracer.value(v,"failover",u,C),u=C,b=[])}if(b.length&&y._flags.error)if(typeof y._flags.error=="function"){b=y._flags.error(b),Array.isArray(b)||(b=[b]);for(const C of b)o(C instanceof Error||C instanceof f.Report,"error() must return an Error object")}else b=[y._flags.error];if(u===void 0){const C=h.default("default",u,b,p);v.mainstay.tracer.value(v,"default",u,C),u=C}if(y._flags.cast&&u!==void 0){const C=y._definition.cast[y._flags.cast];if(C.from(u)){const T=C.to(u,p);v.mainstay.tracer.value(v,"cast",u,T,y._flags.cast),u=T}}if(y.$_terms.externals&&E.externals&&E._externals!==!1)for(const{method:C}of y.$_terms.externals)v.mainstay.externals.push({method:C,schema:y,state:v,label:f.label(y._flags,v,E)});const x={value:u,errors:b.length?b:null};return y._flags.result&&(x.value=y._flags.result==="strip"?void 0:p.original,v.mainstay.tracer.value(v,y._flags.result,u,x.value),v.shadow(u,y._flags.result)),y._cache&&E.cache!==!1&&!y._refs.length&&y._cache.set(p.original,x),u===void 0||x.errors||y._flags.artifact===void 0||(v.mainstay.artifacts=v.mainstay.artifacts||new Map,v.mainstay.artifacts.has(y._flags.artifact)||v.mainstay.artifacts.set(y._flags.artifact,[]),v.mainstay.artifacts.get(y._flags.artifact).push(v.path)),x},h.prefs=function(u,b){const p=b===l.defaults;return p&&u._preferences[l.symbols.prefs]?u._preferences[l.symbols.prefs]:(b=l.preferences(b,u._preferences),p&&(u._preferences[l.symbols.prefs]=b),b)},h.default=function(u,b,p,y){const{schema:v,state:E,prefs:x}=y,C=v._flags[u];if(x.noDefaults||C===void 0)return b;if(E.mainstay.tracer.log(v,E,"rule",u,"full"),!C)return C;if(typeof C=="function"){const T=C.length?[c(E.ancestors[0]),y]:[];try{return C(...T)}catch(A){return void p.push(v.$_createError(`any.${u}`,null,{error:A},E,x))}}return typeof C!="object"?C:C[l.symbols.literal]?C.literal:l.isResolvable(C)?C.resolve(b,E,x):c(C)},h.trim=function(u,b){if(typeof u!="string")return u;const p=b.$_getRule("trim");return p&&p.args.enabled?u.trim():u},h.ignore={active:!1,debug:m,entry:m,filter:m,log:m,resolve:m,value:m},h.errorsArray=function(){const u=[];return u[l.symbols.errors]=!0,u}},2036:(s,i,a)=>{const o=a(375),c=a(9474),m=a(8160),d={};s.exports=d.Values=class{constructor(l,f){this._values=new Set(l),this._refs=new Set(f),this._lowercase=d.lowercases(l),this._override=!1}get length(){return this._values.size+this._refs.size}add(l,f){m.isResolvable(l)?this._refs.has(l)||(this._refs.add(l),f&&f.register(l)):this.has(l,null,null,!1)||(this._values.add(l),typeof l=="string"&&this._lowercase.set(l.toLowerCase(),l))}static merge(l,f,g){if(l=l||new d.Values,f){if(f._override)return f.clone();for(const h of[...f._values,...f._refs])l.add(h)}if(g)for(const h of[...g._values,...g._refs])l.remove(h);return l.length?l:null}remove(l){m.isResolvable(l)?this._refs.delete(l):(this._values.delete(l),typeof l=="string"&&this._lowercase.delete(l.toLowerCase()))}has(l,f,g,h){return!!this.get(l,f,g,h)}get(l,f,g,h){if(!this.length)return!1;if(this._values.has(l))return{value:l};if(typeof l=="string"&&l&&h){const u=this._lowercase.get(l.toLowerCase());if(u)return{value:u}}if(!this._refs.size&&typeof l!="object")return!1;if(typeof l=="object"){for(const u of this._values)if(c(u,l))return{value:u}}if(f)for(const u of this._refs){const b=u.resolve(l,f,g,null,{in:!0});if(b===void 0)continue;const p=u.in&&typeof b=="object"?Array.isArray(b)?b:Object.keys(b):[b];for(const y of p)if(typeof y==typeof l){if(h&&l&&typeof l=="string"){if(y.toLowerCase()===l.toLowerCase())return{value:y,ref:u}}else if(c(y,l))return{value:y,ref:u}}}return!1}override(){this._override=!0}values(l){if(l&&l.display){const f=[];for(const g of[...this._values,...this._refs])g!==void 0&&f.push(g);return f}return Array.from([...this._values,...this._refs])}clone(){const l=new d.Values(this._values,this._refs);return l._override=this._override,l}concat(l){o(!l._override,"Cannot concat override set of values");const f=new d.Values([...this._values,...l._values],[...this._refs,...l._refs]);return f._override=this._override,f}describe(){const l=[];this._override&&l.push({override:!0});for(const f of this._values.values())l.push(f&&typeof f=="object"?{value:f}:f);for(const f of this._refs.values())l.push(f.describe());return l}},d.Values.prototype[m.symbols.values]=!0,d.Values.prototype.slice=d.Values.prototype.clone,d.lowercases=function(l){const f=new Map;if(l)for(const g of l)typeof g=="string"&&f.set(g.toLowerCase(),g);return f}},978:(s,i,a)=>{const o=a(375),c=a(8571),m=a(1687),d=a(9621),l={};s.exports=function(f,g){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(o(f&&typeof f=="object","Invalid defaults value: must be an object"),o(!g||g===!0||typeof g=="object","Invalid source value: must be true, falsy or an object"),o(typeof h=="object","Invalid options: must be an object"),!g)return null;if(h.shallow)return l.applyToDefaultsWithShallow(f,g,h);const u=c(f);if(g===!0)return u;const b=h.nullOverride!==void 0&&h.nullOverride;return m(u,g,{nullOverride:b,mergeArrays:!1})},l.applyToDefaultsWithShallow=function(f,g,h){const u=h.shallow;o(Array.isArray(u),"Invalid keys");const b=new Map,p=g===!0?null:new Set;for(let E of u){E=Array.isArray(E)?E:E.split(".");const x=d(f,E);x&&typeof x=="object"?b.set(x,p&&d(g,E)||x):p&&p.add(E)}const y=c(f,{},b);if(!p)return y;for(const E of p)l.reachCopy(y,g,E);const v=h.nullOverride!==void 0&&h.nullOverride;return m(y,g,{nullOverride:v,mergeArrays:!1})},l.reachCopy=function(f,g,h){for(const p of h){if(!(p in g))return;const y=g[p];if(typeof y!="object"||y===null)return;g=y}const u=g;let b=f;for(let p=0;p<h.length-1;++p){const y=h[p];typeof b[y]!="object"&&(b[y]={}),b=b[y]}b[h[h.length-1]]=u}},375:(s,i,a)=>{const o=a(7916);s.exports=function(c){if(!c){for(var m=arguments.length,d=new Array(m>1?m-1:0),l=1;l<m;l++)d[l-1]=arguments[l];throw d.length===1&&d[0]instanceof Error?d[0]:new o(d)}}},8571:(s,i,a)=>{const o=a(9621),c=a(4277),m=a(7043),d={needsProtoHack:new Set([c.set,c.map,c.weakSet,c.weakMap])};s.exports=d.clone=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof l!="object"||l===null)return l;let h=d.clone,u=g;if(f.shallow){if(f.shallow!==!0)return d.cloneWithShallow(l,f);h=v=>v}else if(u){const v=u.get(l);if(v)return v}else u=new Map;const b=c.getInternalProto(l);if(b===c.buffer)return!1;if(b===c.date)return new Date(l.getTime());if(b===c.regex)return new RegExp(l);const p=d.base(l,b,f);if(p===l)return l;if(u&&u.set(l,p),b===c.set)for(const v of l)p.add(h(v,f,u));else if(b===c.map)for(const[v,E]of l)p.set(v,h(E,f,u));const y=m.keys(l,f);for(const v of y){if(v==="__proto__")continue;if(b===c.array&&v==="length"){p.length=l.length;continue}const E=Object.getOwnPropertyDescriptor(l,v);E?E.get||E.set?Object.defineProperty(p,v,E):E.enumerable?p[v]=h(l[v],f,u):Object.defineProperty(p,v,{enumerable:!1,writable:!0,configurable:!0,value:h(l[v],f,u)}):Object.defineProperty(p,v,{enumerable:!0,writable:!0,configurable:!0,value:h(l[v],f,u)})}return p},d.cloneWithShallow=function(l,f){const g=f.shallow;(f=Object.assign({},f)).shallow=!1;const h=new Map;for(const u of g){const b=o(l,u);typeof b!="object"&&typeof b!="function"||h.set(b,b)}return d.clone(l,f,h)},d.base=function(l,f,g){if(g.prototype===!1)return d.needsProtoHack.has(f)?new f.constructor:f===c.array?[]:{};const h=Object.getPrototypeOf(l);if(h&&h.isImmutable)return l;if(f===c.array){const u=[];return h!==f&&Object.setPrototypeOf(u,h),u}if(d.needsProtoHack.has(f)){const u=new h.constructor;return h!==f&&Object.setPrototypeOf(u,h),u}return Object.create(h)}},9474:(s,i,a)=>{const o=a(4277),c={mismatched:null};s.exports=function(m,d,l){return l=Object.assign({prototype:!0},l),!!c.isDeepEqual(m,d,l,[])},c.isDeepEqual=function(m,d,l,f){if(m===d)return m!==0||1/m==1/d;const g=typeof m;if(g!==typeof d||m===null||d===null)return!1;if(g==="function"){if(!l.deepFunction||m.toString()!==d.toString())return!1}else if(g!=="object")return m!=m&&d!=d;const h=c.getSharedType(m,d,!!l.prototype);switch(h){case o.buffer:return!1;case o.promise:return m===d;case o.regex:return m.toString()===d.toString();case c.mismatched:return!1}for(let u=f.length-1;u>=0;--u)if(f[u].isSame(m,d))return!0;f.push(new c.SeenEntry(m,d));try{return!!c.isDeepEqualObj(h,m,d,l,f)}finally{f.pop()}},c.getSharedType=function(m,d,l){if(l)return Object.getPrototypeOf(m)!==Object.getPrototypeOf(d)?c.mismatched:o.getInternalProto(m);const f=o.getInternalProto(m);return f!==o.getInternalProto(d)?c.mismatched:f},c.valueOf=function(m){const d=m.valueOf;if(d===void 0)return m;try{return d.call(m)}catch(l){return l}},c.hasOwnEnumerableProperty=function(m,d){return Object.prototype.propertyIsEnumerable.call(m,d)},c.isSetSimpleEqual=function(m,d){for(const l of Set.prototype.values.call(m))if(!Set.prototype.has.call(d,l))return!1;return!0},c.isDeepEqualObj=function(m,d,l,f,g){const{isDeepEqual:h,valueOf:u,hasOwnEnumerableProperty:b}=c,{keys:p,getOwnPropertySymbols:y}=Object;if(m===o.array){if(!f.part){if(d.length!==l.length)return!1;for(let T=0;T<d.length;++T)if(!h(d[T],l[T],f,g))return!1;return!0}for(const T of d)for(const A of l)if(h(T,A,f,g))return!0}else if(m===o.set){if(d.size!==l.size)return!1;if(!c.isSetSimpleEqual(d,l)){const T=new Set(Set.prototype.values.call(l));for(const A of Set.prototype.values.call(d)){if(T.delete(A))continue;let S=!1;for(const I of T)if(h(A,I,f,g)){T.delete(I),S=!0;break}if(!S)return!1}}}else if(m===o.map){if(d.size!==l.size)return!1;for(const[T,A]of Map.prototype.entries.call(d))if(A===void 0&&!Map.prototype.has.call(l,T)||!h(A,Map.prototype.get.call(l,T),f,g))return!1}else if(m===o.error&&(d.name!==l.name||d.message!==l.message))return!1;const v=u(d),E=u(l);if((d!==v||l!==E)&&!h(v,E,f,g))return!1;const x=p(d);if(!f.part&&x.length!==p(l).length&&!f.skip)return!1;let C=0;for(const T of x)if(f.skip&&f.skip.includes(T))l[T]===void 0&&++C;else if(!b(l,T)||!h(d[T],l[T],f,g))return!1;if(!f.part&&x.length-C!==p(l).length)return!1;if(f.symbols!==!1){const T=y(d),A=new Set(y(l));for(const S of T){if(!f.skip||!f.skip.includes(S)){if(b(d,S)){if(!b(l,S)||!h(d[S],l[S],f,g))return!1}else if(b(l,S))return!1}A.delete(S)}for(const S of A)if(b(l,S))return!1}return!0},c.SeenEntry=class{constructor(m,d){this.obj=m,this.ref=d}isSame(m,d){return this.obj===m&&this.ref===d}}},7916:(s,i,a)=>{const o=a(8761);s.exports=class extends Error{constructor(c){super(c.filter(m=>m!=="").map(m=>typeof m=="string"?m:m instanceof Error?m.message:o(m)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i.assert)}}},5277:s=>{const i={};s.exports=function(a){if(!a)return"";let o="";for(let c=0;c<a.length;++c){const m=a.charCodeAt(c);i.isSafe(m)?o+=a[c]:o+=i.escapeHtmlChar(m)}return o},i.escapeHtmlChar=function(a){return i.namedHtml.get(a)||(a>=256?"&#"+a+";":`&#x${a.toString(16).padStart(2,"0")};`)},i.isSafe=function(a){return i.safeCharCodes.has(a)},i.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),i.safeCharCodes=function(){const a=new Set;for(let o=32;o<123;++o)(o>=97||o>=65&&o<=90||o>=48&&o<=57||o===32||o===46||o===44||o===45||o===58||o===95)&&a.add(o);return a}()},6064:s=>{s.exports=function(i){return i.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:s=>{s.exports=function(){}},1687:(s,i,a)=>{const o=a(375),c=a(8571),m=a(7043),d={};s.exports=d.merge=function(l,f,g){if(o(l&&typeof l=="object","Invalid target value: must be an object"),o(f==null||typeof f=="object","Invalid source value: must be null, undefined, or an object"),!f)return l;if(g=Object.assign({nullOverride:!0,mergeArrays:!0},g),Array.isArray(f)){o(Array.isArray(l),"Cannot merge array onto an object"),g.mergeArrays||(l.length=0);for(let u=0;u<f.length;++u)l.push(c(f[u],{symbols:g.symbols}));return l}const h=m.keys(f,g);for(let u=0;u<h.length;++u){const b=h[u];if(b==="__proto__"||!Object.prototype.propertyIsEnumerable.call(f,b))continue;const p=f[b];if(p&&typeof p=="object"){if(l[b]===p)continue;!l[b]||typeof l[b]!="object"||Array.isArray(l[b])!==Array.isArray(p)||p instanceof Date||p instanceof RegExp?l[b]=c(p,{symbols:g.symbols}):d.merge(l[b],p,g)}else(p!=null||g.nullOverride)&&(l[b]=p)}return l}},9621:(s,i,a)=>{const o=a(375),c={};s.exports=function(m,d,l){if(d===!1||d==null)return m;typeof(l=l||{})=="string"&&(l={separator:l});const f=Array.isArray(d);o(!f||!l.separator,"Separator option is not valid for array-based chain");const g=f?d:d.split(l.separator||".");let h=m;for(let u=0;u<g.length;++u){let b=g[u];const p=l.iterables&&c.iterables(h);if(Array.isArray(h)||p==="set"){const y=Number(b);Number.isInteger(y)&&(b=y<0?h.length+y:y)}if(!h||typeof h=="function"&&l.functions===!1||!p&&h[b]===void 0){o(!l.strict||u+1===g.length,"Missing segment",b,"in reach path ",d),o(typeof h=="object"||l.functions===!0||typeof h!="function","Invalid segment",b,"in reach path ",d),h=l.default;break}h=p?p==="set"?[...h][b]:h.get(b):h[b]}return h},c.iterables=function(m){return m instanceof Set?"set":m instanceof Map?"map":void 0}},8761:s=>{s.exports=function(){try{return JSON.stringify(...arguments)}catch(i){return"[Cannot display object: "+i.message+"]"}}},4277:(s,i)=>{const a={};i=s.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},a.typeMap=new Map([["[object Error]",i.error],["[object Map]",i.map],["[object Promise]",i.promise],["[object Set]",i.set],["[object WeakMap]",i.weakMap],["[object WeakSet]",i.weakSet]]),i.getInternalProto=function(o){if(Array.isArray(o))return i.array;if(o instanceof Date)return i.date;if(o instanceof RegExp)return i.regex;if(o instanceof Error)return i.error;const c=Object.prototype.toString.call(o);return a.typeMap.get(c)||i.generic}},7043:(s,i)=>{i.keys=function(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).symbols!==!1?Reflect.ownKeys(a):Object.getOwnPropertyNames(a)}},3652:(s,i,a)=>{const o=a(375),c={};i.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(m,d){const l=[].concat((d=d||{}).before||[]),f=[].concat(d.after||[]),g=d.group||"?",h=d.sort||0;o(!l.includes(g),`Item cannot come before itself: ${g}`),o(!l.includes("?"),"Item cannot come before unassociated items"),o(!f.includes(g),`Item cannot come after itself: ${g}`),o(!f.includes("?"),"Item cannot come after unassociated items"),Array.isArray(m)||(m=[m]);for(const u of m){const b={seq:this._items.length,sort:h,before:l,after:f,group:g,node:u};this._items.push(b)}if(!d.manual){const u=this._sort();o(u,"item",g!=="?"?`added into group ${g}`:"","created a dependencies error")}return this.nodes}merge(m){Array.isArray(m)||(m=[m]);for(const l of m)if(l)for(const f of l._items)this._items.push(Object.assign({},f));this._items.sort(c.mergeSort);for(let l=0;l<this._items.length;++l)this._items[l].seq=l;const d=this._sort();return o(d,"merge created a dependencies error"),this.nodes}sort(){const m=this._sort();return o(m,"sort created a dependencies error"),this.nodes}_sort(){const m={},d=Object.create(null),l=Object.create(null);for(const b of this._items){const p=b.seq,y=b.group;l[y]=l[y]||[],l[y].push(p),m[p]=b.before;for(const v of b.after)d[v]=d[v]||[],d[v].push(p)}for(const b in m){const p=[];for(const y in m[b]){const v=m[b][y];l[v]=l[v]||[],p.push(...l[v])}m[b]=p}for(const b in d)if(l[b])for(const p of l[b])m[p].push(...d[b]);const f={};for(const b in m){const p=m[b];for(const y of p)f[y]=f[y]||[],f[y].push(b)}const g={},h=[];for(let b=0;b<this._items.length;++b){let p=b;if(f[b]){p=null;for(let y=0;y<this._items.length;++y){if(g[y]===!0)continue;f[y]||(f[y]=[]);const v=f[y].length;let E=0;for(let x=0;x<v;++x)g[f[y][x]]&&++E;if(E===v){p=y;break}}}p!==null&&(g[p]=!0,h.push(p))}if(h.length!==this._items.length)return!1;const u={};for(const b of this._items)u[b.seq]=b;this._items=[],this.nodes=[];for(const b of h){const p=u[b];this.nodes.push(p.node),this._items.push(p)}return!0}},c.mergeSort=(m,d)=>m.sort===d.sort?0:m.sort<d.sort?-1:1},5380:(s,i,a)=>{const o=a(443),c=a(2178),m={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:o.URL||URL};i.analyze=function(d){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!d)return c.code("DOMAIN_NON_EMPTY_STRING");if(typeof d!="string")throw new Error("Invalid input: domain must be a string");if(d.length>256)return c.code("DOMAIN_TOO_LONG");if(m.nonAsciiRx.test(d)){if(l.allowUnicode===!1)return c.code("DOMAIN_INVALID_UNICODE_CHARS");d=d.normalize("NFC")}if(m.domainControlRx.test(d))return c.code("DOMAIN_INVALID_CHARS");d=m.punycode(d),l.allowFullyQualified&&d[d.length-1]==="."&&(d=d.slice(0,-1));const f=l.minDomainSegments||m.minDomainSegments,g=d.split(".");if(g.length<f)return c.code("DOMAIN_SEGMENTS_COUNT");if(l.maxDomainSegments&&g.length>l.maxDomainSegments)return c.code("DOMAIN_SEGMENTS_COUNT_MAX");const h=l.tlds;if(h){const u=g[g.length-1].toLowerCase();if(h.deny&&h.deny.has(u)||h.allow&&!h.allow.has(u))return c.code("DOMAIN_FORBIDDEN_TLDS")}for(let u=0;u<g.length;++u){const b=g[u];if(!b.length)return c.code("DOMAIN_EMPTY_SEGMENT");if(b.length>63)return c.code("DOMAIN_LONG_SEGMENT");if(u<g.length-1){if(!m.domainSegmentRx.test(b))return c.code("DOMAIN_INVALID_CHARS")}else if(!m.tldSegmentRx.test(b))return c.code("DOMAIN_INVALID_TLDS_CHARS")}return null},i.isValid=function(d,l){return!i.analyze(d,l)},m.punycode=function(d){d.includes("%")&&(d=d.replace(/%/g,"%25"));try{return new m.URL(`http://${d}`).host}catch{return d}}},1745:(s,i,a)=>{const o=a(9848),c=a(5380),m=a(2178),d={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(o.TextEncoder||TextEncoder)};i.analyze=function(l,f){return d.email(l,f)},i.isValid=function(l,f){return!d.email(l,f)},d.email=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof l!="string")throw new Error("Invalid input: email must be a string");if(!l)return m.code("EMPTY_STRING");const g=!d.nonAsciiRx.test(l);if(!g){if(f.allowUnicode===!1)return m.code("FORBIDDEN_UNICODE");l=l.normalize("NFC")}const h=l.split("@");if(h.length!==2)return h.length>2?m.code("MULTIPLE_AT_CHAR"):m.code("MISSING_AT_CHAR");const[u,b]=h;if(!u)return m.code("EMPTY_LOCAL");if(!f.ignoreLength){if(l.length>254)return m.code("ADDRESS_TOO_LONG");if(d.encoder.encode(u).length>64)return m.code("LOCAL_TOO_LONG")}return d.local(u,g)||c.analyze(b,f)},d.local=function(l,f){const g=l.split(".");for(const h of g){if(!h.length)return m.code("EMPTY_LOCAL_SEGMENT");if(f){if(!d.atextRx.test(h))return m.code("INVALID_LOCAL_CHARS")}else for(const u of h){if(d.atextRx.test(u))continue;const b=d.binary(u);if(!d.atomRx.test(b))return m.code("INVALID_LOCAL_CHARS")}}},d.binary=function(l){return Array.from(d.encoder.encode(l)).map(f=>String.fromCharCode(f)).join("")},d.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,d.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(s,i)=>{i.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},i.code=function(a){return{code:a,error:i.codes[a]}}},9959:(s,i,a)=>{const o=a(375),c=a(5752);i.regex=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o(m.cidr===void 0||typeof m.cidr=="string","options.cidr must be a string");const d=m.cidr?m.cidr.toLowerCase():"optional";o(["required","optional","forbidden"].includes(d),"options.cidr must be one of required, optional, forbidden"),o(m.version===void 0||typeof m.version=="string"||Array.isArray(m.version),"options.version must be a string or an array of string");let l=m.version||["ipv4","ipv6","ipvfuture"];Array.isArray(l)||(l=[l]),o(l.length>=1,"options.version must have at least 1 version specified");for(let h=0;h<l.length;++h)o(typeof l[h]=="string","options.version must only contain strings"),l[h]=l[h].toLowerCase(),o(["ipv4","ipv6","ipvfuture"].includes(l[h]),"options.version contains unknown version "+l[h]+" - must be one of ipv4, ipv6, ipvfuture");l=Array.from(new Set(l));const f=`(?:${l.map(h=>{if(d==="forbidden")return c.ip[h];const u=`\\/${h==="ipv4"?c.ip.v4Cidr:c.ip.v6Cidr}`;return d==="required"?`${c.ip[h]}${u}`:`${c.ip[h]}(?:${u})?`}).join("|")})`,g=new RegExp(`^${f}$`);return{cidr:d,versions:l,regex:g,raw:f}}},5752:(s,i,a)=>{const o=a(375),c=a(6064),m={generate:function(){const d={},l="\\dA-Fa-f",f="["+l+"]",g="\\w-\\.~",h="!\\$&'\\(\\)\\*\\+,;=",u="%"+l,b=g+u+h+":@",p="["+b+"]",y="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";d.ipv4address="(?:"+y+"\\.){3}"+y;const v=f+"{1,4}",E="(?:"+v+":"+v+"|"+d.ipv4address+")",x="(?:"+v+":){6}"+E,C="::(?:"+v+":){5}"+E,T="(?:"+v+")?::(?:"+v+":){4}"+E,A="(?:(?:"+v+":){0,1}"+v+")?::(?:"+v+":){3}"+E,S="(?:(?:"+v+":){0,2}"+v+")?::(?:"+v+":){2}"+E,I="(?:(?:"+v+":){0,3}"+v+")?::"+v+":"+E,R="(?:(?:"+v+":){0,4}"+v+")?::"+E,H="(?:(?:"+v+":){0,5}"+v+")?::"+v,W="(?:(?:"+v+":){0,6}"+v+")?::";d.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",d.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",d.ipv6address="(?:"+x+"|"+C+"|"+T+"|"+A+"|"+S+"|"+I+"|"+R+"|"+H+"|"+W+")",d.ipvFuture="v"+f+"+\\.["+g+h+":]+",d.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",d.schemeRegex=new RegExp(d.scheme);const Z="["+g+u+h+":]*",j="["+g+u+h+"]{1,255}",z="(?:\\[(?:"+d.ipv6address+"|"+d.ipvFuture+")\\]|"+d.ipv4address+"|"+j+")",Y="(?:"+Z+"@)?"+z+"(?::\\d*)?",de="(?:"+Z+"@)?("+z+")(?::\\d*)?",fe=p+"*",_e=p+"+",ue="(?:\\/"+fe+")*",ye="\\/(?:"+_e+ue+")?",he=_e+ue,Re="["+g+u+h+"@]+"+ue,ct="(?:\\/\\/\\/"+fe+ue+")";return d.hierPart="(?:(?:\\/\\/"+Y+ue+")|"+ye+"|"+he+"|"+ct+")",d.hierPartCapture="(?:(?:\\/\\/"+de+ue+")|"+ye+"|"+he+")",d.relativeRef="(?:(?:\\/\\/"+Y+ue+")|"+ye+"|"+Re+"|)",d.relativeRefCapture="(?:(?:\\/\\/"+de+ue+")|"+ye+"|"+Re+"|)",d.query="["+b+"\\/\\?]*(?=#|$)",d.queryWithSquareBrackets="["+b+"\\[\\]\\/\\?]*(?=#|$)",d.fragment="["+b+"\\/\\?]*",d}};m.rfc3986=m.generate(),i.ip={v4Cidr:m.rfc3986.ipv4Cidr,v6Cidr:m.rfc3986.ipv6Cidr,ipv4:m.rfc3986.ipv4address,ipv6:m.rfc3986.ipv6address,ipvfuture:m.rfc3986.ipvFuture},m.createRegex=function(d){const l=m.rfc3986,f="(?:\\?"+(d.allowQuerySquareBrackets?l.queryWithSquareBrackets:l.query)+")?(?:#"+l.fragment+")?",g=d.domain?l.relativeRefCapture:l.relativeRef;if(d.relativeOnly)return m.wrap(g+f);let h="";if(d.scheme){o(d.scheme instanceof RegExp||typeof d.scheme=="string"||Array.isArray(d.scheme),"scheme must be a RegExp, String, or Array");const p=[].concat(d.scheme);o(p.length>=1,"scheme must have at least 1 scheme specified");const y=[];for(let v=0;v<p.length;++v){const E=p[v];o(E instanceof RegExp||typeof E=="string","scheme at position "+v+" must be a RegExp or String"),E instanceof RegExp?y.push(E.source.toString()):(o(l.schemeRegex.test(E),"scheme at position "+v+" must be a valid scheme"),y.push(c(E)))}h=y.join("|")}const u="(?:"+(h?"(?:"+h+")":l.scheme)+":"+(d.domain?l.hierPartCapture:l.hierPart)+")",b=d.allowRelative?"(?:"+u+"|"+g+")":u;return m.wrap(b+f,h)},m.wrap=function(d,l){return{raw:d=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${d}`,regex:new RegExp(`^${d}$`),scheme:l}},m.uriRegex=m.createRegex({}),i.regex=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return d.scheme||d.allowRelative||d.relativeOnly||d.allowQuerySquareBrackets||d.domain?m.createRegex(d):m.uriRegex}},1447:(s,i)=>{const a={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};i.Parser=class{constructor(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!c[a.settings]&&c.constants)for(const m in c.constants){const d=c.constants[m];if(d!==null&&!["boolean","number","string"].includes(typeof d))throw new Error(`Formula constant ${m} contains invalid ${typeof d} value type`)}this.settings=c[a.settings]?c:Object.assign({[a.settings]:!0,constants:{},functions:{}},c),this.single=null,this._parts=null,this._parse(o)}_parse(o){let c=[],m="",d=0,l=!1;const f=h=>{if(d)throw new Error("Formula missing closing parenthesis");const u=c.length?c[c.length-1]:null;if(l||m||h){if(u&&u.type==="reference"&&h===")")return u.type="function",u.value=this._subFormula(m,u.value),void(m="");if(h===")"){const b=new i.Parser(m,this.settings);c.push({type:"segment",value:b})}else if(l){if(l==="]")return c.push({type:"reference",value:m}),void(m="");c.push({type:"literal",value:m})}else if(a.operatorCharacters.includes(m))u&&u.type==="operator"&&a.operators.includes(u.value+m)?u.value+=m:c.push({type:"operator",value:m});else if(m.match(a.numberRx))c.push({type:"constant",value:parseFloat(m)});else if(this.settings.constants[m]!==void 0)c.push({type:"constant",value:this.settings.constants[m]});else{if(!m.match(a.tokenRx))throw new Error(`Formula contains invalid token: ${m}`);c.push({type:"reference",value:m})}m=""}};for(const h of o)l?h===l?(f(),l=!1):m+=h:d?h==="("?(m+=h,++d):h===")"?(--d,d?m+=h:f(h)):m+=h:h in a.literals?l=a.literals[h]:h==="("?(f(),++d):a.operatorCharacters.includes(h)?(f(),m=h,f()):h!==" "?m+=h:f();f(),c=c.map((h,u)=>h.type!=="operator"||h.value!=="-"||u&&c[u-1].type!=="operator"?h:{type:"operator",value:"n"});let g=!1;for(const h of c){if(h.type==="operator"){if(a.operatorsPrefix.includes(h.value))continue;if(!g)throw new Error("Formula contains an operator in invalid position");if(!a.operators.includes(h.value))throw new Error(`Formula contains an unknown operator ${h.value}`)}else if(g)throw new Error("Formula missing expected operator");g=!g}if(!g)throw new Error("Formula contains invalid trailing operator");c.length===1&&["reference","literal","constant"].includes(c[0].type)&&(this.single={type:c[0].type==="reference"?"reference":"value",value:c[0].value}),this._parts=c.map(h=>{if(h.type==="operator")return a.operatorsPrefix.includes(h.value)?h:h.value;if(h.type!=="reference")return h.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(h.value))throw new Error(`Formula contains invalid reference ${h.value}`);return this.settings.reference?this.settings.reference(h.value):a.reference(h.value)})}_subFormula(o,c){const m=this.settings.functions[c];if(typeof m!="function")throw new Error(`Formula contains unknown function ${c}`);let d=[];if(o){let l="",f=0,g=!1;const h=()=>{if(!l)throw new Error(`Formula contains function ${c} with invalid arguments ${o}`);d.push(l),l=""};for(let u=0;u<o.length;++u){const b=o[u];g?(l+=b,b===g&&(g=!1)):b in a.literals&&!f?(l+=b,g=a.literals[b]):b!==","||f?(l+=b,b==="("?++f:b===")"&&--f):h()}h()}return d=d.map(l=>new i.Parser(l,this.settings)),function(l){const f=[];for(const g of d)f.push(g.evaluate(l));return m.call(l,...f)}}evaluate(o){const c=this._parts.slice();for(let m=c.length-2;m>=0;--m){const d=c[m];if(d&&d.type==="operator"){const l=c[m+1];c.splice(m+1,1);const f=a.evaluate(l,o);c[m]=a.single(d.value,f)}}return a.operatorsOrder.forEach(m=>{for(let d=1;d<c.length-1;)if(m.includes(c[d])){const l=c[d],f=a.evaluate(c[d-1],o),g=a.evaluate(c[d+1],o);c.splice(d,2);const h=a.calculate(l,f,g);c[d-1]=h===0?0:h}else d+=2}),a.evaluate(c[0],o)}},i.Parser.prototype[a.symbol]=!0,a.reference=function(o){return function(c){return c&&c[o]!==void 0?c[o]:null}},a.evaluate=function(o,c){return o===null?null:typeof o=="function"?o(c):o[a.symbol]?o.evaluate(c):o},a.single=function(o,c){if(o==="!")return!c;const m=-c;return m===0?0:m},a.calculate=function(o,c,m){if(o==="??")return a.exists(c)?c:m;if(typeof c=="string"||typeof m=="string"){if(o==="+")return(c=a.exists(c)?c:"")+(a.exists(m)?m:"")}else switch(o){case"^":return Math.pow(c,m);case"*":return c*m;case"/":return c/m;case"%":return c%m;case"+":return c+m;case"-":return c-m}switch(o){case"<":return c<m;case"<=":return c<=m;case">":return c>m;case">=":return c>=m;case"==":return c===m;case"!=":return c!==m;case"&&":return c&&m;case"||":return c||m}return null},a.exists=function(o){return o!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:s=>{s.exports={version:"17.9.1"}}},n={},function s(i){var a=n[i];if(a!==void 0)return a.exports;var o=n[i]={exports:{}};return r[i](o,o.exports,s),o.exports}(5107);var r,n})}(Uu)),Uu.exports}var ew=Y0();const B=nu(ew);class Af extends Error{constructor(e){super(e.message),this.message=e.message,this.code=e.code,this.data=e.data}}const Fe=(t,e)=>{let r;t.request?r=t.request.bind(t):t.sendAsync&&(r=tw(t));const n=async({method:s,params:i})=>{const a=s;if(e&&e[a]===null)throw new Af({code:4200,message:`The Provider does not support the requested method: ${s}`});if(e&&e[a])return e[a]({baseRequest:r,params:i});if(r)return r({method:s,params:i});throw new Af({code:4200,message:`The Provider does not support the requested method: ${s}`})};return t.request=n,t},tw=t=>({method:e,params:r})=>new Promise((n,s)=>{t.sendAsync({id:0,jsonrpc:"2.0",method:e,params:r},(i,{result:a})=>{i?s(JSON.parse(i)):n(a??null)})});function Rc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ph(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function rw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rc(t.outputLen),Rc(t.blockLen)}function Ea(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fm(t,e){ph(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ic=BigInt(2**32-1),Ef=BigInt(32);function hm(t,e=!1){return e?{h:Number(t&ic),l:Number(t>>Ef&ic)}:{h:Number(t>>Ef&ic)|0,l:Number(t&ic)|0}}function dm(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=hm(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const nw=(t,e)=>BigInt(t>>>0)<<Ef|BigInt(e>>>0),sw=(t,e,r)=>t>>>r,iw=(t,e,r)=>t<<32-r|e>>>r,ow=(t,e,r)=>t>>>r|e<<32-r,aw=(t,e,r)=>t<<32-r|e>>>r,lw=(t,e,r)=>t<<64-r|e>>>r-32,cw=(t,e,r)=>t>>>r-32|e<<64-r,uw=(t,e)=>e,fw=(t,e)=>t,pm=(t,e,r)=>t<<r|e>>>32-r,mm=(t,e,r)=>e<<r|t>>>32-r,gm=(t,e,r)=>e<<r-32|t>>>64-r,ym=(t,e,r)=>t<<r-32|e>>>64-r;function hw(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const dw=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),pw=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,mw=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),gw=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,yw=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),bw=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Ee={fromBig:hm,split:dm,toBig:nw,shrSH:sw,shrSL:iw,rotrSH:ow,rotrSL:aw,rotrBH:lw,rotrBL:cw,rotr32H:uw,rotr32L:fw,rotlSH:pm,rotlSL:mm,rotlBH:gm,rotlBL:ym,add:hw,add3L:dw,add3H:pw,add4L:mw,add4H:gw,add5H:bw,add5L:yw},Fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bm=t=>t instanceof Uint8Array,ww=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ju=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),cn=(t,e)=>t<<32-e|t>>>e,vw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vw)throw new Error("Non little-endian hardware is not supported");function Aw(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function au(t){if(typeof t=="string"&&(t=Aw(t)),!bm(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Ew(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!bm(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class mh{clone(){return this._cloneInto()}}function gh(t){const e=n=>t().update(au(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _w(t=32){if(Fu&&typeof Fu.getRandomValues=="function")return Fu.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[wm,vm,Am]=[[],[],[]],xw=BigInt(0),ll=BigInt(1),Sw=BigInt(2),Ow=BigInt(7),Iw=BigInt(256),Tw=BigInt(113);for(let t=0,e=ll,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],wm.push(2*(5*n+r)),vm.push((t+1)*(t+2)/2%64);let s=xw;for(let i=0;i<7;i++)e=(e<<ll^(e>>Ow)*Tw)%Iw,e&Sw&&(s^=ll<<(ll<<BigInt(i))-ll);Am.push(s)}const[Cw,Pw]=dm(Am,!0),od=(t,e,r)=>r>32?gm(t,e,r):pm(t,e,r),ad=(t,e,r)=>r>32?ym(t,e,r):mm(t,e,r);function Nw(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,m=r[c],d=r[c+1],l=od(m,d,1)^r[o],f=ad(m,d,1)^r[o+1];for(let g=0;g<50;g+=10)t[a+g]^=l,t[a+g+1]^=f}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=vm[a],c=od(s,i,o),m=ad(s,i,o),d=wm[a];s=t[d],i=t[d+1],t[d]=c,t[d+1]=m}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Cw[n],t[1]^=Pw[n]}r.fill(0)}class yh extends mh{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Rc(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ww(this.state)}keccak(){Nw(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ea(this);const{blockLen:r,state:n}=this;e=au(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ea(this,!1),ph(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fm(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new yh(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Rw=(t,e,r)=>gh(()=>new yh(e,t,r)),kw=Rw(1,136,256/8);function Bw(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,m=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+m,o,n)}class Em extends mh{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ju(this.buffer)}update(e){Ea(this);const{view:r,buffer:n,blockLen:s}=this;e=au(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=ju(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ea(this),fm(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let l=a;l<s;l++)r[l]=0;Bw(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=ju(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=c/4,d=this.get();if(m>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<m;l++)o.setUint32(4*l,d[l],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}}const Mw=(t,e,r)=>t&e^~t&r,Dw=(t,e,r)=>t&e^t&r^e&r,Lw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ws=new Uint32Array(64);class Uw extends Em{constructor(){super(64,32,8,!1),this.A=bs[0]|0,this.B=bs[1]|0,this.C=bs[2]|0,this.D=bs[3]|0,this.E=bs[4]|0,this.F=bs[5]|0,this.G=bs[6]|0,this.H=bs[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)ws[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const f=ws[l-15],g=ws[l-2],h=cn(f,7)^cn(f,18)^f>>>3,u=cn(g,17)^cn(g,19)^g>>>10;ws[l]=u+ws[l-7]+h+ws[l-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:m,H:d}=this;for(let l=0;l<64;l++){const f=cn(o,6)^cn(o,11)^cn(o,25),g=d+f+Mw(o,c,m)+Lw[l]+ws[l]|0,u=(cn(n,2)^cn(n,13)^cn(n,22))+Dw(n,s,i)|0;d=m,m=c,c=o,o=a+g|0,a=i,i=s,s=n,n=g+u|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,m=m+this.G|0,d=d+this.H|0,this.set(n,s,i,a,o,c,m,d)}roundClean(){ws.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _m=gh(()=>new Uw);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xm=BigInt(0),lu=BigInt(1),Fw=BigInt(2),cu=t=>t instanceof Uint8Array,jw=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _a(t){if(!cu(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=jw[t[r]];return e}function Sm(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function bh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function xa(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Fi(t){return bh(_a(t))}function wh(t){if(!cu(t))throw new Error("Uint8Array expected");return bh(_a(Uint8Array.from(t).reverse()))}function Sa(t,e){return xa(t.toString(16).padStart(e*2,"0"))}function vh(t,e){return Sa(t,e).reverse()}function Hw(t){return xa(Sm(t))}function Wr(t,e,r){let n;if(typeof e=="string")try{n=xa(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(cu(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function Il(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!cu(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Gw(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function $w(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ww(t){let e;for(e=0;t>xm;t>>=lu,e+=1);return e}function Vw(t,e){return t>>BigInt(e)&lu}const zw=(t,e,r)=>t|(r?lu:xm)<<BigInt(e),Ah=t=>(Fw<<BigInt(t-1))-lu,Hu=t=>new Uint8Array(t),ld=t=>Uint8Array.from(t);function Om(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Hu(t),s=Hu(t),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...l)=>r(s,n,...l),c=(l=Hu())=>{s=o(ld([0]),l),n=o(),l.length!==0&&(s=o(ld([1]),l),n=o())},m=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<e;){n=o();const g=n.slice();f.push(g),l+=n.length}return Il(...f)};return(l,f)=>{a(),c(l);let g;for(;!(g=f(m()));)c();return a(),g}}const qw={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Zl(t,e,r={}){const n=(s,i,a)=>{const o=qw[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(a&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const Qw=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Vw,bitLen:Ww,bitMask:Ah,bitSet:zw,bytesToHex:_a,bytesToNumberBE:Fi,bytesToNumberLE:wh,concatBytes:Il,createHmacDrbg:Om,ensureBytes:Wr,equalBytes:Gw,hexToBytes:xa,hexToNumber:bh,numberToBytesBE:Sa,numberToBytesLE:vh,numberToHexUnpadded:Sm,numberToVarBytesBE:Hw,utf8ToBytes:$w,validateObject:Zl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),dt=BigInt(1),fi=BigInt(2),Jw=BigInt(3),_f=BigInt(4),cd=BigInt(5),ud=BigInt(8);BigInt(9);BigInt(16);function cr(t,e){const r=t%e;return r>=Ct?r:e+r}function Kw(t,e,r){if(r<=Ct||e<Ct)throw new Error("Expected power/modulo > 0");if(r===dt)return Ct;let n=dt;for(;e>Ct;)e&dt&&(n=n*t%r),t=t*t%r,e>>=dt;return n}function Pr(t,e,r){let n=t;for(;e-- >Ct;)n*=n,n%=r;return n}function xf(t,e){if(t===Ct||e<=Ct)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=cr(t,e),n=e,s=Ct,i=dt;for(;r!==Ct;){const o=n/r,c=n%r,m=s-i*o;n=r,r=c,s=i,i=m}if(n!==dt)throw new Error("invert: does not exist");return cr(s,e)}function Zw(t){const e=(t-dt)/fi;let r,n,s;for(r=t-dt,n=0;r%fi===Ct;r/=fi,n++);for(s=fi;s<t&&Kw(s,e,t)!==t-dt;s++);if(n===1){const a=(t+dt)/_f;return function(c,m){const d=c.pow(m,a);if(!c.eql(c.sqr(d),m))throw new Error("Cannot find square root");return d}}const i=(r+dt)/fi;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let m=n,d=o.pow(o.mul(o.ONE,s),r),l=o.pow(c,i),f=o.pow(c,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let g=1;for(let u=o.sqr(f);g<m&&!o.eql(u,o.ONE);g++)u=o.sqr(u);const h=o.pow(d,dt<<BigInt(m-g-1));d=o.sqr(h),l=o.mul(l,h),f=o.mul(f,d),m=g}return l}}function Xw(t){if(t%_f===Jw){const e=(t+dt)/_f;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%ud===cd){const e=(t-cd)/ud;return function(n,s){const i=n.mul(s,fi),a=n.pow(i,e),o=n.mul(s,a),c=n.mul(n.mul(o,fi),a),m=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(m),s))throw new Error("Cannot find square root");return m}}return Zw(t)}const Yw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ev(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Yw.reduce((n,s)=>(n[s]="function",n),e);return Zl(t,r)}function tv(t,e,r){if(r<Ct)throw new Error("Expected power > 0");if(r===Ct)return t.ONE;if(r===dt)return e;let n=t.ONE,s=e;for(;r>Ct;)r&dt&&(n=t.mul(n,s)),s=t.sqr(s),r>>=dt;return n}function rv(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function Im(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function nv(t,e,r=!1,n={}){if(t<=Ct)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Im(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Xw(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Ah(s),ZERO:Ct,ONE:dt,create:c=>cr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ct<=c&&c<t},is0:c=>c===Ct,isOdd:c=>(c&dt)===dt,neg:c=>cr(-c,t),eql:(c,m)=>c===m,sqr:c=>cr(c*c,t),add:(c,m)=>cr(c+m,t),sub:(c,m)=>cr(c-m,t),mul:(c,m)=>cr(c*m,t),pow:(c,m)=>tv(o,c,m),div:(c,m)=>cr(c*xf(m,t),t),sqrN:c=>c*c,addN:(c,m)=>c+m,subN:(c,m)=>c-m,mulN:(c,m)=>c*m,inv:c=>xf(c,t),sqrt:n.sqrt||(c=>a(o,c)),invertBatch:c=>rv(o,c),cmov:(c,m,d)=>d?m:c,toBytes:c=>r?vh(c,i):Sa(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?wh(c):Fi(c)}});return Object.freeze(o)}function Tm(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Cm(t){const e=Tm(t);return e+Math.ceil(e/2)}function sv(t,e,r=!1){const n=t.length,s=Tm(e),i=Cm(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=r?Fi(t):wh(t),o=cr(a,e-dt)+dt;return r?vh(o,s):Sa(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iv=BigInt(0),Gu=BigInt(1);function ov(t,e){const r=(s,i)=>{const a=i.negate();return s?a:i},n=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>iv;)i&Gu&&(a=a.add(o)),o=o.double(),i>>=Gu;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=n(i),c=[];let m=s,d=m;for(let l=0;l<a;l++){d=m,c.push(d);for(let f=1;f<o;f++)d=d.add(m),c.push(d);m=d.double()}return c},wNAF(s,i,a){const{windows:o,windowSize:c}=n(s);let m=t.ZERO,d=t.BASE;const l=BigInt(2**s-1),f=2**s,g=BigInt(s);for(let h=0;h<o;h++){const u=h*c;let b=Number(a&l);a>>=g,b>c&&(b-=f,a+=Gu);const p=u,y=u+Math.abs(b)-1,v=h%2!==0,E=b<0;b===0?d=d.add(r(v,i[p])):m=m.add(r(E,i[y]))}return{p:m,f:d}},wNAFCached(s,i,a,o){const c=s._WINDOW_SIZE||1;let m=i.get(s);return m||(m=this.precomputeWindow(s,c),c!==1&&i.set(s,o(m))),this.wNAF(c,m,a)}}}function Pm(t){return ev(t.Fp),Zl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Im(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function av(t){const e=Pm(t);Zl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:lv,hexToBytes:cv}=Qw,mi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=mi;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:lv(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=mi,r=typeof t=="string"?cv(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=mi._parseInt(r.subarray(2)),{d:a,l:o}=mi._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{const d=m.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,a=s.length/2,o=r(i),c=r(a);return`30${r(a+i+4)}02${c}${s}02${o}${n}`}},Kn=BigInt(0),Lr=BigInt(1);BigInt(2);const fd=BigInt(3);BigInt(4);function uv(t){const e=av(t),{Fp:r}=e,n=e.toBytes||((h,u,b)=>{const p=u.toAffine();return Il(Uint8Array.from([4]),r.toBytes(p.x),r.toBytes(p.y))}),s=e.fromBytes||(h=>{const u=h.subarray(1),b=r.fromBytes(u.subarray(0,r.BYTES)),p=r.fromBytes(u.subarray(r.BYTES,2*r.BYTES));return{x:b,y:p}});function i(h){const{a:u,b}=e,p=r.sqr(h),y=r.mul(p,h);return r.add(r.add(y,r.mul(h,u)),b)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(h){return typeof h=="bigint"&&Kn<h&&h<e.n}function o(h){if(!a(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){const{allowedPrivateKeyLengths:u,nByteLength:b,wrapPrivateKey:p,n:y}=e;if(u&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=_a(h)),typeof h!="string"||!u.includes(h.length))throw new Error("Invalid key");h=h.padStart(b*2,"0")}let v;try{v=typeof h=="bigint"?h:Fi(Wr("private key",h,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof h}`)}return p&&(v=cr(v,y)),o(v),v}const m=new Map;function d(h){if(!(h instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(u,b,p){if(this.px=u,this.py=b,this.pz=p,u==null||!r.isValid(u))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(p==null||!r.isValid(p))throw new Error("z required")}static fromAffine(u){const{x:b,y:p}=u||{};if(!u||!r.isValid(b)||!r.isValid(p))throw new Error("invalid affine point");if(u instanceof l)throw new Error("projective point not allowed");const y=v=>r.eql(v,r.ZERO);return y(b)&&y(p)?l.ZERO:new l(b,p,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(u){const b=r.invertBatch(u.map(p=>p.pz));return u.map((p,y)=>p.toAffine(b[y])).map(l.fromAffine)}static fromHex(u){const b=l.fromAffine(s(Wr("pointHex",u)));return b.assertValidity(),b}static fromPrivateKey(u){return l.BASE.multiply(c(u))}_setWindowSize(u){this._WINDOW_SIZE=u,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:u,y:b}=this.toAffine();if(!r.isValid(u)||!r.isValid(b))throw new Error("bad point: x or y not FE");const p=r.sqr(b),y=i(u);if(!r.eql(p,y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:u}=this.toAffine();if(r.isOdd)return!r.isOdd(u);throw new Error("Field doesn't support isOdd")}equals(u){d(u);const{px:b,py:p,pz:y}=this,{px:v,py:E,pz:x}=u,C=r.eql(r.mul(b,x),r.mul(v,y)),T=r.eql(r.mul(p,x),r.mul(E,y));return C&&T}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:u,b}=e,p=r.mul(b,fd),{px:y,py:v,pz:E}=this;let x=r.ZERO,C=r.ZERO,T=r.ZERO,A=r.mul(y,y),S=r.mul(v,v),I=r.mul(E,E),R=r.mul(y,v);return R=r.add(R,R),T=r.mul(y,E),T=r.add(T,T),x=r.mul(u,T),C=r.mul(p,I),C=r.add(x,C),x=r.sub(S,C),C=r.add(S,C),C=r.mul(x,C),x=r.mul(R,x),T=r.mul(p,T),I=r.mul(u,I),R=r.sub(A,I),R=r.mul(u,R),R=r.add(R,T),T=r.add(A,A),A=r.add(T,A),A=r.add(A,I),A=r.mul(A,R),C=r.add(C,A),I=r.mul(v,E),I=r.add(I,I),A=r.mul(I,R),x=r.sub(x,A),T=r.mul(I,S),T=r.add(T,T),T=r.add(T,T),new l(x,C,T)}add(u){d(u);const{px:b,py:p,pz:y}=this,{px:v,py:E,pz:x}=u;let C=r.ZERO,T=r.ZERO,A=r.ZERO;const S=e.a,I=r.mul(e.b,fd);let R=r.mul(b,v),H=r.mul(p,E),W=r.mul(y,x),Z=r.add(b,p),j=r.add(v,E);Z=r.mul(Z,j),j=r.add(R,H),Z=r.sub(Z,j),j=r.add(b,y);let z=r.add(v,x);return j=r.mul(j,z),z=r.add(R,W),j=r.sub(j,z),z=r.add(p,y),C=r.add(E,x),z=r.mul(z,C),C=r.add(H,W),z=r.sub(z,C),A=r.mul(S,j),C=r.mul(I,W),A=r.add(C,A),C=r.sub(H,A),A=r.add(H,A),T=r.mul(C,A),H=r.add(R,R),H=r.add(H,R),W=r.mul(S,W),j=r.mul(I,j),H=r.add(H,W),W=r.sub(R,W),W=r.mul(S,W),j=r.add(j,W),R=r.mul(H,j),T=r.add(T,R),R=r.mul(z,j),C=r.mul(Z,C),C=r.sub(C,R),R=r.mul(Z,H),A=r.mul(z,A),A=r.add(A,R),new l(C,T,A)}subtract(u){return this.add(u.negate())}is0(){return this.equals(l.ZERO)}wNAF(u){return g.wNAFCached(this,m,u,b=>{const p=r.invertBatch(b.map(y=>y.pz));return b.map((y,v)=>y.toAffine(p[v])).map(l.fromAffine)})}multiplyUnsafe(u){const b=l.ZERO;if(u===Kn)return b;if(o(u),u===Lr)return this;const{endo:p}=e;if(!p)return g.unsafeLadder(this,u);let{k1neg:y,k1:v,k2neg:E,k2:x}=p.splitScalar(u),C=b,T=b,A=this;for(;v>Kn||x>Kn;)v&Lr&&(C=C.add(A)),x&Lr&&(T=T.add(A)),A=A.double(),v>>=Lr,x>>=Lr;return y&&(C=C.negate()),E&&(T=T.negate()),T=new l(r.mul(T.px,p.beta),T.py,T.pz),C.add(T)}multiply(u){o(u);let b=u,p,y;const{endo:v}=e;if(v){const{k1neg:E,k1:x,k2neg:C,k2:T}=v.splitScalar(b);let{p:A,f:S}=this.wNAF(x),{p:I,f:R}=this.wNAF(T);A=g.constTimeNegate(E,A),I=g.constTimeNegate(C,I),I=new l(r.mul(I.px,v.beta),I.py,I.pz),p=A.add(I),y=S.add(R)}else{const{p:E,f:x}=this.wNAF(b);p=E,y=x}return l.normalizeZ([p,y])[0]}multiplyAndAddUnsafe(u,b,p){const y=l.BASE,v=(x,C)=>C===Kn||C===Lr||!x.equals(y)?x.multiplyUnsafe(C):x.multiply(C),E=v(this,b).add(v(u,p));return E.is0()?void 0:E}toAffine(u){const{px:b,py:p,pz:y}=this,v=this.is0();u==null&&(u=v?r.ONE:r.inv(y));const E=r.mul(b,u),x=r.mul(p,u),C=r.mul(y,u);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:E,y:x}}isTorsionFree(){const{h:u,isTorsionFree:b}=e;if(u===Lr)return!0;if(b)return b(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:u,clearCofactor:b}=e;return u===Lr?this:b?b(l,this):this.multiplyUnsafe(e.h)}toRawBytes(u=!0){return this.assertValidity(),n(l,this,u)}toHex(u=!0){return _a(this.toRawBytes(u))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,g=ov(l,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function fv(t){const e=Pm(t);return Zl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function hv(t){const e=fv(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function a(j){return Kn<j&&j<r.ORDER}function o(j){return cr(j,n)}function c(j){return xf(j,n)}const{ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:f}=uv({...e,toBytes(j,z,Y){const de=z.toAffine(),fe=r.toBytes(de.x),_e=Il;return Y?_e(Uint8Array.from([z.hasEvenY()?2:3]),fe):_e(Uint8Array.from([4]),fe,r.toBytes(de.y))},fromBytes(j){const z=j.length,Y=j[0],de=j.subarray(1);if(z===s&&(Y===2||Y===3)){const fe=Fi(de);if(!a(fe))throw new Error("Point is not on curve");const _e=l(fe);let ue=r.sqrt(_e);const ye=(ue&Lr)===Lr;return(Y&1)===1!==ye&&(ue=r.neg(ue)),{x:fe,y:ue}}else if(z===i&&Y===4){const fe=r.fromBytes(de.subarray(0,r.BYTES)),_e=r.fromBytes(de.subarray(r.BYTES,2*r.BYTES));return{x:fe,y:_e}}else throw new Error(`Point of length ${z} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),g=j=>_a(Sa(j,e.nByteLength));function h(j){const z=n>>Lr;return j>z}function u(j){return h(j)?o(-j):j}const b=(j,z,Y)=>Fi(j.slice(z,Y));class p{constructor(z,Y,de){this.r=z,this.s=Y,this.recovery=de,this.assertValidity()}static fromCompact(z){const Y=e.nByteLength;return z=Wr("compactSignature",z,Y*2),new p(b(z,0,Y),b(z,Y,2*Y))}static fromDER(z){const{r:Y,s:de}=mi.toSig(Wr("DER",z));return new p(Y,de)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(z){return new p(this.r,this.s,z)}recoverPublicKey(z){const{r:Y,s:de,recovery:fe}=this,_e=T(Wr("msgHash",z));if(fe==null||![0,1,2,3].includes(fe))throw new Error("recovery id invalid");const ue=fe===2||fe===3?Y+e.n:Y;if(ue>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ye=fe&1?"03":"02",he=m.fromHex(ye+g(ue)),Re=c(ue),ct=o(-_e*Re),st=o(de*Re),Ye=m.BASE.multiplyAndAddUnsafe(he,ct,st);if(!Ye)throw new Error("point at infinify");return Ye.assertValidity(),Ye}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return xa(this.toDERHex())}toDERHex(){return mi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xa(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const y={isValidPrivateKey(j){try{return d(j),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const j=Cm(e.n);return sv(e.randomBytes(j),e.n)},precompute(j=8,z=m.BASE){return z._setWindowSize(j),z.multiply(BigInt(3)),z}};function v(j,z=!0){return m.fromPrivateKey(j).toRawBytes(z)}function E(j){const z=j instanceof Uint8Array,Y=typeof j=="string",de=(z||Y)&&j.length;return z?de===s||de===i:Y?de===2*s||de===2*i:j instanceof m}function x(j,z,Y=!0){if(E(j))throw new Error("first arg must be private key");if(!E(z))throw new Error("second arg must be public key");return m.fromHex(z).multiply(d(j)).toRawBytes(Y)}const C=e.bits2int||function(j){const z=Fi(j),Y=j.length*8-e.nBitLength;return Y>0?z>>BigInt(Y):z},T=e.bits2int_modN||function(j){return o(C(j))},A=Ah(e.nBitLength);function S(j){if(typeof j!="bigint")throw new Error("bigint expected");if(!(Kn<=j&&j<A))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Sa(j,e.nByteLength)}function I(j,z,Y=R){if(["recovered","canonical"].some(wt=>wt in Y))throw new Error("sign() legacy options not supported");const{hash:de,randomBytes:fe}=e;let{lowS:_e,prehash:ue,extraEntropy:ye}=Y;_e==null&&(_e=!0),j=Wr("msgHash",j),ue&&(j=Wr("prehashed msgHash",de(j)));const he=T(j),Re=d(z),ct=[S(Re),S(he)];if(ye!=null){const wt=ye===!0?fe(r.BYTES):ye;ct.push(Wr("extraEntropy",wt))}const st=Il(...ct),Ye=he;function ae(wt){const Nt=C(wt);if(!f(Nt))return;const qe=c(Nt),vt=m.BASE.multiply(Nt).toAffine(),it=o(vt.x);if(it===Kn)return;const Ut=o(qe*o(Ye+it*Re));if(Ut===Kn)return;let or=(vt.x===it?0:2)|Number(vt.y&Lr),Ir=Ut;return _e&&h(Ut)&&(Ir=u(Ut),or^=1),new p(it,Ir,or)}return{seed:st,k2sig:ae}}const R={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function W(j,z,Y=R){const{seed:de,k2sig:fe}=I(j,z,Y),_e=e;return Om(_e.hash.outputLen,_e.nByteLength,_e.hmac)(de,fe)}m.BASE._setWindowSize(8);function Z(j,z,Y,de=H){var vt;const fe=j;if(z=Wr("msgHash",z),Y=Wr("publicKey",Y),"strict"in de)throw new Error("options.strict was renamed to lowS");const{lowS:_e,prehash:ue}=de;let ye,he;try{if(typeof fe=="string"||fe instanceof Uint8Array)try{ye=p.fromDER(fe)}catch(it){if(!(it instanceof mi.Err))throw it;ye=p.fromCompact(fe)}else if(typeof fe=="object"&&typeof fe.r=="bigint"&&typeof fe.s=="bigint"){const{r:it,s:Ut}=fe;ye=new p(it,Ut)}else throw new Error("PARSE");he=m.fromHex(Y)}catch(it){if(it.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_e&&ye.hasHighS())return!1;ue&&(z=e.hash(z));const{r:Re,s:ct}=ye,st=T(z),Ye=c(ct),ae=o(st*Ye),wt=o(Re*Ye),Nt=(vt=m.BASE.multiplyAndAddUnsafe(he,ae,wt))==null?void 0:vt.toAffine();return Nt?o(Nt.x)===Re:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:x,sign:W,verify:Z,ProjectivePoint:m,Signature:p,utils:y}}class Nm extends mh{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,rw(e);const n=au(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ea(this),this.iHash.update(e),this}digestInto(e){Ea(this),ph(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Rm=(t,e,r)=>new Nm(t,e).update(r).digest();Rm.create=(t,e)=>new Nm(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dv(t){return{hash:t,hmac:(e,...r)=>Rm(t,e,Ew(...r)),randomBytes:_w}}function pv(t,e){const r=n=>hv({...t,...dv(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const km=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mv=BigInt(1),Sf=BigInt(2),dd=(t,e)=>(t+e/Sf)/e;function gv(t){const e=km,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),m=t*t*t%e,d=m*m*t%e,l=Pr(d,r,e)*d%e,f=Pr(l,r,e)*d%e,g=Pr(f,Sf,e)*m%e,h=Pr(g,s,e)*g%e,u=Pr(h,i,e)*h%e,b=Pr(u,o,e)*u%e,p=Pr(b,c,e)*b%e,y=Pr(p,o,e)*u%e,v=Pr(y,r,e)*d%e,E=Pr(v,a,e)*h%e,x=Pr(E,n,e)*m%e,C=Pr(x,Sf,e);if(!Of.eql(Of.sqr(C),t))throw new Error("Cannot find square root");return C}const Of=nv(km,void 0,void 0,{sqrt:gv}),_s=pv({a:BigInt(0),b:BigInt(7),Fp:Of,n:hd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hd,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=dd(i*t,e),c=dd(-n*t,e);let m=cr(t-o*r-c*s,e),d=cr(-o*n-c*i,e);const l=m>a,f=d>a;if(l&&(m=e-m),f&&(d=e-d),m>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:m,k2neg:f,k2:d}}}},_m);BigInt(0);_s.ProjectivePoint;const Bm=(t,e)=>`Please <a href="${e}" target="_blank">install</a> or enable to ${t} to continue`;exports.ProviderRpcErrorCode=void 0;(function(t){t[t.ACCOUNT_ACCESS_REJECTED=4001]="ACCOUNT_ACCESS_REJECTED",t[t.ACCOUNT_ACCESS_ALREADY_REQUESTED=-32002]="ACCOUNT_ACCESS_ALREADY_REQUESTED",t[t.UNAUTHORIZED=4100]="UNAUTHORIZED",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",t[t.DISCONNECTED=4900]="DISCONNECTED",t[t.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED",t[t.CHAIN_NOT_ADDED=4902]="CHAIN_NOT_ADDED",t[t.DOES_NOT_EXIST=-32601]="DOES_NOT_EXIST",t[t.UNRECOGNIZED_CHAIN_ID=-32603]="UNRECOGNIZED_CHAIN_ID"})(exports.ProviderRpcErrorCode||(exports.ProviderRpcErrorCode={}));function Mm(t,e){const r=t.validate(e);return r.error?r:null}const uu=B.alternatives().try(B.string().pattern(/^0x[0-9a-fA-F]+$/),B.number().positive()),fu=B.string().valid("evm"),yv=B.object({address:B.string().required(),icon:B.string().optional()}),Dm=B.object({namespace:fu,id:uu.required(),rpcUrl:B.string(),label:B.string(),token:B.string(),secondaryTokens:B.array().max(5).items(yv).optional(),icon:B.string(),color:B.string(),publicRpcUrl:B.string(),protectedRpcUrl:B.string(),blockExplorerUrl:B.string()});var dl={exports:{}};dl.exports;var pd;function bv(){return pd||(pd=1,function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",i=1,a=2,o=1/0,c=9007199254740991,m="[object Arguments]",d="[object Array]",l="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Function]",u="[object GeneratorFunction]",b="[object Map]",p="[object Number]",y="[object Object]",v="[object Promise]",E="[object RegExp]",x="[object Set]",C="[object String]",T="[object Symbol]",A="[object WeakMap]",S="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",H="[object Float64Array]",W="[object Int8Array]",Z="[object Int16Array]",j="[object Int32Array]",z="[object Uint8Array]",Y="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/,ye=/^\./,he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,ct=/\\(\\)?/g,st=/^\[object .+?Constructor\]$/,Ye=/^(?:0|[1-9]\d*)$/,ae={};ae[R]=ae[H]=ae[W]=ae[Z]=ae[j]=ae[z]=ae[Y]=ae[de]=ae[fe]=!0,ae[m]=ae[d]=ae[S]=ae[l]=ae[I]=ae[f]=ae[g]=ae[h]=ae[b]=ae[p]=ae[y]=ae[E]=ae[x]=ae[C]=ae[A]=!1;var wt=typeof Or=="object"&&Or&&Or.Object===Object&&Or,Nt=typeof self=="object"&&self&&self.Object===Object&&self,qe=wt||Nt||Function("return this")(),vt=e&&!e.nodeType&&e,it=vt&&!0&&t&&!t.nodeType&&t,Ut=it&&it.exports===vt,or=Ut&&wt.process,Ir=function(){try{return or&&or.binding("util")}catch{}}(),tn=Ir&&Ir.isTypedArray;function ss(w,_,N,U){for(var J=-1,V=w?w.length:0;++J<V;){var X=w[J];_(U,X,N(X),w)}return U}function is(w,_){for(var N=-1,U=w?w.length:0;++N<U;)if(_(w[N],N,w))return!0;return!1}function Ur(w){return function(_){return _==null?void 0:_[w]}}function M(w,_){for(var N=-1,U=Array(w);++N<w;)U[N]=_(N);return U}function ne(w){return function(_){return w(_)}}function te(w,_){return w==null?void 0:w[_]}function ve(w){var _=!1;if(w!=null&&typeof w.toString!="function")try{_=!!(w+"")}catch{}return _}function rt(w){var _=-1,N=Array(w.size);return w.forEach(function(U,J){N[++_]=[J,U]}),N}function He(w,_){return function(N){return w(_(N))}}function ge(w){var _=-1,N=Array(w.size);return w.forEach(function(U){N[++_]=U}),N}var gt=Array.prototype,hr=Function.prototype,Je=Object.prototype,Et=qe["__core-js_shared__"],dr=function(){var w=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),$t=hr.toString,ut=Je.hasOwnProperty,$e=Je.toString,En=RegExp("^"+$t.call(ut).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Js=qe.Symbol,Wt=qe.Uint8Array,rn=Je.propertyIsEnumerable,Xi=gt.splice,nn=He(Object.keys,Object),os=xt(qe,"DataView"),Vt=xt(qe,"Map"),Ks=xt(qe,"Promise"),Zs=xt(qe,"Set"),_n=xt(qe,"WeakMap"),pr=xt(Object,"create"),Xs=D(os),_t=D(Vt),Ys=D(Ks),xn=D(Zs),Ba=D(_n),as=Js?Js.prototype:void 0,ei=as?as.valueOf:void 0,Fr=as?as.toString:void 0;function jr(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function ls(){this.__data__=pr?pr(null):{}}function ti(w){return this.has(w)&&delete this.__data__[w]}function Yi(w){var _=this.__data__;if(pr){var N=_[w];return N===s?void 0:N}return ut.call(_,w)?_[w]:void 0}function Hr(w){var _=this.__data__;return pr?_[w]!==void 0:ut.call(_,w)}function sn(w,_){var N=this.__data__;return N[w]=pr&&_===void 0?s:_,this}jr.prototype.clear=ls,jr.prototype.delete=ti,jr.prototype.get=Yi,jr.prototype.has=Hr,jr.prototype.set=sn;function mr(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function Ma(){this.__data__=[]}function Da(w){var _=this.__data__,N=fs(_,w);if(N<0)return!1;var U=_.length-1;return N==U?_.pop():Xi.call(_,N,1),!0}function La(w){var _=this.__data__,N=fs(_,w);return N<0?void 0:_[N][1]}function gr(w){return fs(this.__data__,w)>-1}function Ua(w,_){var N=this.__data__,U=fs(N,w);return U<0?N.push([w,_]):N[U][1]=_,this}mr.prototype.clear=Ma,mr.prototype.delete=Da,mr.prototype.get=La,mr.prototype.has=gr,mr.prototype.set=Ua;function zt(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function Fa(){this.__data__={hash:new jr,map:new(Vt||mr),string:new jr}}function cs(w){return In(this,w).delete(w)}function ri(w){return In(this,w).get(w)}function yr(w){return In(this,w).has(w)}function us(w,_){return In(this,w).set(w,_),this}zt.prototype.clear=Fa,zt.prototype.delete=cs,zt.prototype.get=ri,zt.prototype.has=yr,zt.prototype.set=us;function Sn(w){var _=-1,N=w?w.length:0;for(this.__data__=new zt;++_<N;)this.add(w[_])}function ja(w){return this.__data__.set(w,s),this}function Ha(w){return this.__data__.has(w)}Sn.prototype.add=Sn.prototype.push=ja,Sn.prototype.has=Ha;function br(w){this.__data__=new mr(w)}function on(){this.__data__=new mr}function Ga(w){return this.__data__.delete(w)}function $a(w){return this.__data__.get(w)}function wr(w){return this.__data__.has(w)}function Wa(w,_){var N=this.__data__;if(N instanceof mr){var U=N.__data__;if(!Vt||U.length<r-1)return U.push([w,_]),this;N=this.__data__=new zt(U)}return N.set(w,_),this}br.prototype.clear=on,br.prototype.delete=Ga,br.prototype.get=$a,br.prototype.has=wr,br.prototype.set=Wa;function Va(w,_){var N=Te(w)||xe(w)?M(w.length,String):[],U=N.length,J=!!U;for(var V in w)ut.call(w,V)&&!(J&&(V=="length"||Tn(V,U)))&&N.push(V);return N}function fs(w,_){for(var N=w.length;N--;)if(Ae(w[N][0],_))return N;return-1}function za(w,_,N,U){return qa(w,function(J,V,X){_(U,J,N(J),X)}),U}var qa=ds(hs),Qa=ps();function hs(w,_){return w&&Qa(w,_,ao)}function an(w,_){_=Cn(_,w)?[_]:ro(_);for(var N=0,U=_.length;w!=null&&N<U;)w=w[P(_[N++])];return N&&N==U?w:void 0}function ni(w){return $e.call(w)}function Ja(w,_){return w!=null&&_ in Object(w)}function On(w,_,N,U,J){return w===_?!0:w==null||_==null||!qt(w)&&!Cr(_)?w!==w&&_!==_:eo(w,_,On,N,U,J)}function eo(w,_,N,U,J,V){var X=Te(w),be=Te(_),pe=d,Ce=d;X||(pe=St(w),pe=pe==m?y:pe),be||(Ce=St(_),Ce=Ce==m?y:Ce);var Ie=pe==y&&!ve(w),Pe=Ce==y&&!ve(_),ke=pe==Ce;if(ke&&!Ie)return V||(V=new br),X||oo(w)?ms(w,_,N,U,J,V):ii(w,_,pe,N,U,J,V);if(!(J&a)){var Ke=Ie&&ut.call(w,"__wrapped__"),Ze=Pe&&ut.call(_,"__wrapped__");if(Ke||Ze){var Rt=Ke?w.value():w,At=Ze?_.value():_;return V||(V=new br),N(Rt,At,U,J,V)}}return ke?(V||(V=new br),gs(w,_,N,U,J,V)):!1}function Ka(w,_,N,U){var J=N.length,V=J;if(w==null)return!V;for(w=Object(w);J--;){var X=N[J];if(X[2]?X[1]!==w[X[0]]:!(X[0]in w))return!1}for(;++J<V;){X=N[J];var be=X[0],pe=w[be],Ce=X[1];if(X[2]){if(pe===void 0&&!(be in w))return!1}else{var Ie=new br,Pe;if(!(Pe===void 0?On(Ce,pe,U,i|a,Ie):Pe))return!1}}return!0}function Za(w){if(!qt(w)||so(w))return!1;var _=Ot(w)||ve(w)?En:st;return _.test(D(w))}function Xa(w){return Cr(w)&&ot(w.length)&&!!ae[$e.call(w)]}function to(w){return typeof w=="function"?w:w==null?Iu:typeof w=="object"?Te(w)?tl(w[0],w[1]):el(w):Tu(w)}function Ya(w){if(!io(w))return nn(w);var _=[];for(var N in Object(w))ut.call(w,N)&&N!="constructor"&&_.push(N);return _}function el(w){var _=Tr(w);return _.length==1&&_[0][2]?ai(_[0][0],_[0][1]):function(N){return N===w||Ka(N,w,_)}}function tl(w,_){return Cn(w)&&oi(_)?ai(P(w),_):function(N){var U=Ou(N,w);return U===void 0&&U===_?sl(N,w):On(_,U,void 0,i|a)}}function si(w){return function(_){return an(_,w)}}function rl(w){if(typeof w=="string")return w;if(Pn(w))return Fr?Fr.call(w):"";var _=w+"";return _=="0"&&1/w==-o?"-0":_}function ro(w){return Te(w)?w:ys(w)}function no(w,_){return function(N,U){var J=Te(N)?ss:za,V=_();return J(N,w,to(U),V)}}function ds(w,_){return function(N,U){if(N==null)return N;if(!Oe(N))return w(N,U);for(var J=N.length,V=-1,X=Object(N);++V<J&&U(X[V],V,X)!==!1;);return N}}function ps(w){return function(_,N,U){for(var J=-1,V=Object(_),X=U(_),be=X.length;be--;){var pe=X[++J];if(N(V[pe],pe,V)===!1)break}return _}}function ms(w,_,N,U,J,V){var X=J&a,be=w.length,pe=_.length;if(be!=pe&&!(X&&pe>be))return!1;var Ce=V.get(w);if(Ce&&V.get(_))return Ce==_;var Ie=-1,Pe=!0,ke=J&i?new Sn:void 0;for(V.set(w,_),V.set(_,w);++Ie<be;){var Ke=w[Ie],Ze=_[Ie];if(U)var Rt=X?U(Ze,Ke,Ie,_,w,V):U(Ke,Ze,Ie,w,_,V);if(Rt!==void 0){if(Rt)continue;Pe=!1;break}if(ke){if(!is(_,function(At,Qt){if(!ke.has(Qt)&&(Ke===At||N(Ke,At,U,J,V)))return ke.add(Qt)})){Pe=!1;break}}else if(!(Ke===Ze||N(Ke,Ze,U,J,V))){Pe=!1;break}}return V.delete(w),V.delete(_),Pe}function ii(w,_,N,U,J,V,X){switch(N){case I:if(w.byteLength!=_.byteLength||w.byteOffset!=_.byteOffset)return!1;w=w.buffer,_=_.buffer;case S:return!(w.byteLength!=_.byteLength||!U(new Wt(w),new Wt(_)));case l:case f:case p:return Ae(+w,+_);case g:return w.name==_.name&&w.message==_.message;case E:case C:return w==_+"";case b:var be=rt;case x:var pe=V&a;if(be||(be=ge),w.size!=_.size&&!pe)return!1;var Ce=X.get(w);if(Ce)return Ce==_;V|=i,X.set(w,_);var Ie=ms(be(w),be(_),U,J,V,X);return X.delete(w),Ie;case T:if(ei)return ei.call(w)==ei.call(_)}return!1}function gs(w,_,N,U,J,V){var X=J&a,be=ao(w),pe=be.length,Ce=ao(_),Ie=Ce.length;if(pe!=Ie&&!X)return!1;for(var Pe=pe;Pe--;){var ke=be[Pe];if(!(X?ke in _:ut.call(_,ke)))return!1}var Ke=V.get(w);if(Ke&&V.get(_))return Ke==_;var Ze=!0;V.set(w,_),V.set(_,w);for(var Rt=X;++Pe<pe;){ke=be[Pe];var At=w[ke],Qt=_[ke];if(U)var il=X?U(Qt,At,ke,_,w,V):U(At,Qt,ke,w,_,V);if(!(il===void 0?At===Qt||N(At,Qt,U,J,V):il)){Ze=!1;break}Rt||(Rt=ke=="constructor")}if(Ze&&!Rt){var Nn=w.constructor,Rn=_.constructor;Nn!=Rn&&"constructor"in w&&"constructor"in _&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof Rn=="function"&&Rn instanceof Rn)&&(Ze=!1)}return V.delete(w),V.delete(_),Ze}function In(w,_){var N=w.__data__;return nl(_)?N[typeof _=="string"?"string":"hash"]:N.map}function Tr(w){for(var _=ao(w),N=_.length;N--;){var U=_[N],J=w[U];_[N]=[U,J,oi(J)]}return _}function xt(w,_){var N=te(w,_);return Za(N)?N:void 0}var St=ni;(os&&St(new os(new ArrayBuffer(1)))!=I||Vt&&St(new Vt)!=b||Ks&&St(Ks.resolve())!=v||Zs&&St(new Zs)!=x||_n&&St(new _n)!=A)&&(St=function(w){var _=$e.call(w),N=_==y?w.constructor:void 0,U=N?D(N):void 0;if(U)switch(U){case Xs:return I;case _t:return b;case Ys:return v;case xn:return x;case Ba:return A}return _});function ln(w,_,N){_=Cn(_,w)?[_]:ro(_);for(var U,J=-1,X=_.length;++J<X;){var V=P(_[J]);if(!(U=w!=null&&N(w,V)))break;w=w[V]}if(U)return U;var X=w?w.length:0;return!!X&&ot(X)&&Tn(V,X)&&(Te(w)||xe(w))}function Tn(w,_){return _=_??c,!!_&&(typeof w=="number"||Ye.test(w))&&w>-1&&w%1==0&&w<_}function Cn(w,_){if(Te(w))return!1;var N=typeof w;return N=="number"||N=="symbol"||N=="boolean"||w==null||Pn(w)?!0:ue.test(w)||!_e.test(w)||_!=null&&w in Object(_)}function nl(w){var _=typeof w;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?w!=="__proto__":w===null}function so(w){return!!dr&&dr in w}function io(w){var _=w&&w.constructor,N=typeof _=="function"&&_.prototype||Je;return w===N}function oi(w){return w===w&&!qt(w)}function ai(w,_){return function(N){return N==null?!1:N[w]===_&&(_!==void 0||w in Object(N))}}var ys=se(function(w){w=Su(w);var _=[];return ye.test(w)&&_.push(""),w.replace(he,function(N,U,J,V){_.push(J?V.replace(ct,"$1"):U||N)}),_});function P(w){if(typeof w=="string"||Pn(w))return w;var _=w+"";return _=="0"&&1/w==-o?"-0":_}function D(w){if(w!=null){try{return $t.call(w)}catch{}try{return w+""}catch{}}return""}var G=no(function(w,_,N){w[N?0:1].push(_)},function(){return[[],[]]});function se(w,_){if(typeof w!="function"||_&&typeof _!="function")throw new TypeError(n);var N=function(){var U=arguments,J=_?_.apply(this,U):U[0],V=N.cache;if(V.has(J))return V.get(J);var X=w.apply(this,U);return N.cache=V.set(J,X),X};return N.cache=new(se.Cache||zt),N}se.Cache=zt;function Ae(w,_){return w===_||w!==w&&_!==_}function xe(w){return Ge(w)&&ut.call(w,"callee")&&(!rn.call(w,"callee")||$e.call(w)==m)}var Te=Array.isArray;function Oe(w){return w!=null&&ot(w.length)&&!Ot(w)}function Ge(w){return Cr(w)&&Oe(w)}function Ot(w){var _=qt(w)?$e.call(w):"";return _==h||_==u}function ot(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=c}function qt(w){var _=typeof w;return!!w&&(_=="object"||_=="function")}function Cr(w){return!!w&&typeof w=="object"}function Pn(w){return typeof w=="symbol"||Cr(w)&&$e.call(w)==T}var oo=tn?ne(tn):Xa;function Su(w){return w==null?"":rl(w)}function Ou(w,_,N){var U=w==null?void 0:an(w,_);return U===void 0?N:U}function sl(w,_){return w!=null&&ln(w,_,Ja)}function ao(w){return Oe(w)?Va(w):Ya(w)}function Iu(w){return w}function Tu(w){return Cn(w)?Ur(P(w)):si(w)}t.exports=G}(dl,dl.exports)),dl.exports}bv();var pl={exports:{}};pl.exports;var md;function wv(){return md||(md=1,function(t,e){var r=200,n="__lodash_hash_undefined__",s=800,i=16,a=9007199254740991,o="[object Arguments]",c="[object Array]",m="[object AsyncFunction]",d="[object Boolean]",l="[object Date]",f="[object Error]",g="[object Function]",h="[object GeneratorFunction]",u="[object Map]",b="[object Number]",p="[object Null]",y="[object Object]",v="[object Proxy]",E="[object RegExp]",x="[object Set]",C="[object String]",T="[object Undefined]",A="[object WeakMap]",S="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",H="[object Float64Array]",W="[object Int8Array]",Z="[object Int16Array]",j="[object Int32Array]",z="[object Uint8Array]",Y="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",_e=/[\\^$.*+?()[\]{}|]/g,ue=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,he={};he[R]=he[H]=he[W]=he[Z]=he[j]=he[z]=he[Y]=he[de]=he[fe]=!0,he[o]=he[c]=he[S]=he[d]=he[I]=he[l]=he[f]=he[g]=he[u]=he[b]=he[y]=he[E]=he[x]=he[C]=he[A]=!1;var Re=typeof Or=="object"&&Or&&Or.Object===Object&&Or,ct=typeof self=="object"&&self&&self.Object===Object&&self,st=Re||ct||Function("return this")(),Ye=e&&!e.nodeType&&e,ae=Ye&&!0&&t&&!t.nodeType&&t,wt=ae&&ae.exports===Ye,Nt=wt&&Re.process,qe=function(){try{var P=ae&&ae.require&&ae.require("util").types;return P||Nt&&Nt.binding&&Nt.binding("util")}catch{}}(),vt=qe&&qe.isTypedArray;function it(P,D,G){switch(G.length){case 0:return P.call(D);case 1:return P.call(D,G[0]);case 2:return P.call(D,G[0],G[1]);case 3:return P.call(D,G[0],G[1],G[2])}return P.apply(D,G)}function Ut(P,D){for(var G=-1,se=Array(P);++G<P;)se[G]=D(G);return se}function or(P){return function(D){return P(D)}}function Ir(P,D){return P==null?void 0:P[D]}function tn(P,D){return function(G){return P(D(G))}}var ss=Array.prototype,is=Function.prototype,Ur=Object.prototype,M=st["__core-js_shared__"],ne=is.toString,te=Ur.hasOwnProperty,ve=function(){var P=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),rt=Ur.toString,He=ne.call(Object),ge=RegExp("^"+ne.call(te).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=wt?st.Buffer:void 0,hr=st.Symbol,Je=st.Uint8Array;gt&&gt.allocUnsafe;var Et=tn(Object.getPrototypeOf,Object),dr=Object.create,$t=Ur.propertyIsEnumerable,ut=ss.splice,$e=hr?hr.toStringTag:void 0,En=function(){try{var P=ni(Object,"defineProperty");return P({},"",{}),P}catch{}}(),Js=gt?gt.isBuffer:void 0,Wt=Math.max,rn=Date.now,Xi=ni(st,"Map"),nn=ni(Object,"create"),os=function(){function P(){}return function(D){if(!St(D))return{};if(dr)return dr(D);P.prototype=D;var G=new P;return P.prototype=void 0,G}}();function Vt(P){var D=-1,G=P==null?0:P.length;for(this.clear();++D<G;){var se=P[D];this.set(se[0],se[1])}}function Ks(){this.__data__=nn?nn(null):{},this.size=0}function Zs(P){var D=this.has(P)&&delete this.__data__[P];return this.size-=D?1:0,D}function _n(P){var D=this.__data__;if(nn){var G=D[P];return G===n?void 0:G}return te.call(D,P)?D[P]:void 0}function pr(P){var D=this.__data__;return nn?D[P]!==void 0:te.call(D,P)}function Xs(P,D){var G=this.__data__;return this.size+=this.has(P)?0:1,G[P]=nn&&D===void 0?n:D,this}Vt.prototype.clear=Ks,Vt.prototype.delete=Zs,Vt.prototype.get=_n,Vt.prototype.has=pr,Vt.prototype.set=Xs;function _t(P){var D=-1,G=P==null?0:P.length;for(this.clear();++D<G;){var se=P[D];this.set(se[0],se[1])}}function Ys(){this.__data__=[],this.size=0}function xn(P){var D=this.__data__,G=cs(D,P);if(G<0)return!1;var se=D.length-1;return G==se?D.pop():ut.call(D,G,1),--this.size,!0}function Ba(P){var D=this.__data__,G=cs(D,P);return G<0?void 0:D[G][1]}function as(P){return cs(this.__data__,P)>-1}function ei(P,D){var G=this.__data__,se=cs(G,P);return se<0?(++this.size,G.push([P,D])):G[se][1]=D,this}_t.prototype.clear=Ys,_t.prototype.delete=xn,_t.prototype.get=Ba,_t.prototype.has=as,_t.prototype.set=ei;function Fr(P){var D=-1,G=P==null?0:P.length;for(this.clear();++D<G;){var se=P[D];this.set(se[0],se[1])}}function jr(){this.size=0,this.__data__={hash:new Vt,map:new(Xi||_t),string:new Vt}}function ls(P){var D=an(this,P).delete(P);return this.size-=D?1:0,D}function ti(P){return an(this,P).get(P)}function Yi(P){return an(this,P).has(P)}function Hr(P,D){var G=an(this,P),se=G.size;return G.set(P,D),this.size+=G.size==se?0:1,this}Fr.prototype.clear=jr,Fr.prototype.delete=ls,Fr.prototype.get=ti,Fr.prototype.has=Yi,Fr.prototype.set=Hr;function sn(P){var D=this.__data__=new _t(P);this.size=D.size}function mr(){this.__data__=new _t,this.size=0}function Ma(P){var D=this.__data__,G=D.delete(P);return this.size=D.size,G}function Da(P){return this.__data__.get(P)}function La(P){return this.__data__.has(P)}function gr(P,D){var G=this.__data__;if(G instanceof _t){var se=G.__data__;if(!Xi||se.length<r-1)return se.push([P,D]),this.size=++G.size,this;G=this.__data__=new Fr(se)}return G.set(P,D),this.size=G.size,this}sn.prototype.clear=mr,sn.prototype.delete=Ma,sn.prototype.get=Da,sn.prototype.has=La,sn.prototype.set=gr;function Ua(P,D){var G=ms(P),se=!G&&ps(P),Ae=!G&&!se&&In(P),xe=!G&&!se&&!Ae&&Cn(P),Te=G||se||Ae||xe,Oe=Te?Ut(P.length,String):[],Ge=Oe.length;for(var Ot in P)Te&&(Ot=="length"||Ae&&(Ot=="offset"||Ot=="parent")||xe&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||eo(Ot,Ge))||Oe.push(Ot);return Oe}function zt(P,D,G){(G!==void 0&&!ds(P[D],G)||G===void 0&&!(D in P))&&ri(P,D,G)}function Fa(P,D,G){var se=P[D];(!(te.call(P,D)&&ds(se,G))||G===void 0&&!(D in P))&&ri(P,D,G)}function cs(P,D){for(var G=P.length;G--;)if(ds(P[G][0],D))return G;return-1}function ri(P,D,G){D=="__proto__"&&En?En(P,D,{configurable:!0,enumerable:!0,value:G,writable:!0}):P[D]=G}var yr=hs();function us(P){return P==null?P===void 0?T:p:$e&&$e in Object(P)?Ja(P):el(P)}function Sn(P){return ln(P)&&us(P)==o}function ja(P){if(!St(P)||Xa(P))return!1;var D=Tr(P)?ge:ue;return D.test(no(P))}function Ha(P){return ln(P)&&xt(P.length)&&!!he[us(P)]}function br(P){if(!St(P))return Ya(P);var D=to(P),G=[];for(var se in P)se=="constructor"&&(D||!te.call(P,se))||G.push(se);return G}function on(P,D,G,se,Ae){P!==D&&yr(D,function(xe,Te){if(Ae||(Ae=new sn),St(xe))Ga(P,D,Te,G,on,se,Ae);else{var Oe=se?se(si(P,Te),xe,Te+"",P,D,Ae):void 0;Oe===void 0&&(Oe=xe),zt(P,Te,Oe)}},so)}function Ga(P,D,G,se,Ae,xe,Te){var Oe=si(P,G),Ge=si(D,G),Ot=Te.get(Ge);if(Ot){zt(P,G,Ot);return}var ot=xe?xe(Oe,Ge,G+"",P,D,Te):void 0,qt=ot===void 0;if(qt){var Cr=ms(Ge),Pn=!Cr&&In(Ge),oo=!Cr&&!Pn&&Cn(Ge);ot=Ge,Cr||Pn||oo?ms(Oe)?ot=Oe:gs(Oe)?ot=za(Oe):Pn?(qt=!1,ot=Wa(Ge)):oo?(qt=!1,ot=fs(Ge)):ot=[]:Tn(Ge)||ps(Ge)?(ot=Oe,ps(Oe)?ot=nl(Oe):(!St(Oe)||Tr(Oe))&&(ot=On(Ge))):qt=!1}qt&&(Te.set(Ge,ot),Ae(ot,Ge,se,xe,Te),Te.delete(Ge)),zt(P,G,ot)}function $a(P,D){return rl(tl(P,D,ai),P+"")}var wr=En?function(P,D){return En(P,"toString",{configurable:!0,enumerable:!1,value:oi(D),writable:!0})}:ai;function Wa(P,D){return P.slice()}function Va(P){var D=new P.constructor(P.byteLength);return new Je(D).set(new Je(P)),D}function fs(P,D){var G=Va(P.buffer);return new P.constructor(G,P.byteOffset,P.length)}function za(P,D){var G=-1,se=P.length;for(D||(D=Array(se));++G<se;)D[G]=P[G];return D}function qa(P,D,G,se){var Ae=!G;G||(G={});for(var xe=-1,Te=D.length;++xe<Te;){var Oe=D[xe],Ge=void 0;Ge===void 0&&(Ge=P[Oe]),Ae?ri(G,Oe,Ge):Fa(G,Oe,Ge)}return G}function Qa(P){return $a(function(D,G){var se=-1,Ae=G.length,xe=Ae>1?G[Ae-1]:void 0,Te=Ae>2?G[2]:void 0;for(xe=P.length>3&&typeof xe=="function"?(Ae--,xe):void 0,Te&&Ka(G[0],G[1],Te)&&(xe=Ae<3?void 0:xe,Ae=1),D=Object(D);++se<Ae;){var Oe=G[se];Oe&&P(D,Oe,se,xe)}return D})}function hs(P){return function(D,G,se){for(var Ae=-1,xe=Object(D),Te=se(D),Oe=Te.length;Oe--;){var Ge=Te[++Ae];if(G(xe[Ge],Ge,xe)===!1)break}return D}}function an(P,D){var G=P.__data__;return Za(D)?G[typeof D=="string"?"string":"hash"]:G.map}function ni(P,D){var G=Ir(P,D);return ja(G)?G:void 0}function Ja(P){var D=te.call(P,$e),G=P[$e];try{P[$e]=void 0;var se=!0}catch{}var Ae=rt.call(P);return se&&(D?P[$e]=G:delete P[$e]),Ae}function On(P){return typeof P.constructor=="function"&&!to(P)?os(Et(P)):{}}function eo(P,D){var G=typeof P;return D=D??a,!!D&&(G=="number"||G!="symbol"&&ye.test(P))&&P>-1&&P%1==0&&P<D}function Ka(P,D,G){if(!St(G))return!1;var se=typeof D;return(se=="number"?ii(G)&&eo(D,G.length):se=="string"&&D in G)?ds(G[D],P):!1}function Za(P){var D=typeof P;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?P!=="__proto__":P===null}function Xa(P){return!!ve&&ve in P}function to(P){var D=P&&P.constructor,G=typeof D=="function"&&D.prototype||Ur;return P===G}function Ya(P){var D=[];if(P!=null)for(var G in Object(P))D.push(G);return D}function el(P){return rt.call(P)}function tl(P,D,G){return D=Wt(D===void 0?P.length-1:D,0),function(){for(var se=arguments,Ae=-1,xe=Wt(se.length-D,0),Te=Array(xe);++Ae<xe;)Te[Ae]=se[D+Ae];Ae=-1;for(var Oe=Array(D+1);++Ae<D;)Oe[Ae]=se[Ae];return Oe[D]=G(Te),it(P,this,Oe)}}function si(P,D){if(!(D==="constructor"&&typeof P[D]=="function")&&D!="__proto__")return P[D]}var rl=ro(wr);function ro(P){var D=0,G=0;return function(){var se=rn(),Ae=i-(se-G);if(G=se,Ae>0){if(++D>=s)return arguments[0]}else D=0;return P.apply(void 0,arguments)}}function no(P){if(P!=null){try{return ne.call(P)}catch{}try{return P+""}catch{}}return""}function ds(P,D){return P===D||P!==P&&D!==D}var ps=Sn(function(){return arguments}())?Sn:function(P){return ln(P)&&te.call(P,"callee")&&!$t.call(P,"callee")},ms=Array.isArray;function ii(P){return P!=null&&xt(P.length)&&!Tr(P)}function gs(P){return ln(P)&&ii(P)}var In=Js||ys;function Tr(P){if(!St(P))return!1;var D=us(P);return D==g||D==h||D==m||D==v}function xt(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=a}function St(P){var D=typeof P;return P!=null&&(D=="object"||D=="function")}function ln(P){return P!=null&&typeof P=="object"}function Tn(P){if(!ln(P)||us(P)!=y)return!1;var D=Et(P);if(D===null)return!0;var G=te.call(D,"constructor")&&D.constructor;return typeof G=="function"&&G instanceof G&&ne.call(G)==He}var Cn=vt?or(vt):Ha;function nl(P){return qa(P,so(P))}function so(P){return ii(P)?Ua(P):br(P)}var io=Qa(function(P,D,G){on(P,D,G)});function oi(P){return function(){return P}}function ai(P){return P}function ys(){return!1}t.exports=io}(pl,pl.exports)),pl.exports}wv();var $u={exports:{}},gd;function vv(){return gd||(gd=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,m,d){this.fn=c,this.context=m,this.once=d||!1}function i(c,m,d,l,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,l||c,f),h=r?r+m:m;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],g]:c._events[h].push(g):(c._events[h]=g,c._eventsCount++),c}function a(c,m){--c._eventsCount===0?c._events=new n:delete c._events[m]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var m=[],d,l;if(this._eventsCount===0)return m;for(l in d=this._events)e.call(d,l)&&m.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(d)):m},o.prototype.listeners=function(m){var d=r?r+m:m,l=this._events[d];if(!l)return[];if(l.fn)return[l.fn];for(var f=0,g=l.length,h=new Array(g);f<g;f++)h[f]=l[f].fn;return h},o.prototype.listenerCount=function(m){var d=r?r+m:m,l=this._events[d];return l?l.fn?1:l.length:0},o.prototype.emit=function(m,d,l,f,g,h){var u=r?r+m:m;if(!this._events[u])return!1;var b=this._events[u],p=arguments.length,y,v;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),p){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,l),!0;case 4:return b.fn.call(b.context,d,l,f),!0;case 5:return b.fn.call(b.context,d,l,f,g),!0;case 6:return b.fn.call(b.context,d,l,f,g,h),!0}for(v=1,y=new Array(p-1);v<p;v++)y[v-1]=arguments[v];b.fn.apply(b.context,y)}else{var E=b.length,x;for(v=0;v<E;v++)switch(b[v].once&&this.removeListener(m,b[v].fn,void 0,!0),p){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,d);break;case 3:b[v].fn.call(b[v].context,d,l);break;case 4:b[v].fn.call(b[v].context,d,l,f);break;default:if(!y)for(x=1,y=new Array(p-1);x<p;x++)y[x-1]=arguments[x];b[v].fn.apply(b[v].context,y)}}return!0},o.prototype.on=function(m,d,l){return i(this,m,d,l,!1)},o.prototype.once=function(m,d,l){return i(this,m,d,l,!0)},o.prototype.removeListener=function(m,d,l,f){var g=r?r+m:m;if(!this._events[g])return this;if(!d)return a(this,g),this;var h=this._events[g];if(h.fn)h.fn===d&&(!f||h.once)&&(!l||h.context===l)&&a(this,g);else{for(var u=0,b=[],p=h.length;u<p;u++)(h[u].fn!==d||f&&!h[u].once||l&&h[u].context!==l)&&b.push(h[u]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(m){var d;return m?(d=r?r+m:m,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}($u)),$u.exports}vv();function yd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Av(){if(typeof window<"u"){const t=bb.getParser(window.navigator.userAgent),e=t.getOS(),r=t.getBrowser(),{type:n}=t.getPlatform();return{type:n,os:e,browser:r}}else return{type:null,os:null,browser:null}}const Ev=t=>t!=null;Av();const Lm={wallets:[],walletModules:[],chains:[],accountCenter:{enabled:!0,position:"bottomRight",expanded:!1,minimal:!0},notify:{enabled:!0,position:"topRight",replacement:{gasPriceProbability:{speedup:80,cancel:95}}},notifications:[],locale:"",connect:{showSidebar:!0,disableClose:!1},appMetadata:null,wagmiConfig:null},_v="add_chains",xv="update_chains",Um="reset_store",Sv="add_wallet",Ov="update_wallet",Iv="remove_wallet",Tv="update_account",Cv="update_account_center",Pv="update_connect_modal",Nv="set_wallet_modules",Rv="set_locale",kv="update_notify",Bv="add_notification",Mv="remove_notification",Dv="update_balance",Lv="update_app_metadata",Uv="update_wagmi_config";function Fv(t,e){const{type:r,payload:n}=e;switch(r){case _v:return Object.assign(Object.assign({},t),{chains:[...t.chains,...n]});case xv:{const s=n,i=t.chains,a=i.findIndex(o=>o.id===s.id);return i[a]=s,Object.assign(Object.assign({},t),{chains:i})}case Sv:{const s=n,i=t.wallets.find(({label:a})=>a===s.label);return Object.assign(Object.assign({},t),{wallets:[i||n,...t.wallets.filter(({label:a})=>a!==s.label)]})}case Ov:{const s=n,{id:i}=s,a=yd(s,["id"]),o=t.wallets.map(c=>c.label===i?Object.assign(Object.assign({},c),a):c);return Object.assign(Object.assign({},t),{wallets:o})}case Iv:{const s=n;return Object.assign(Object.assign({},t),{wallets:t.wallets.filter(({label:i})=>i!==s.id)})}case Tv:{const s=n,{id:i,address:a}=s,o=yd(s,["id","address"]),c=t.wallets.map(m=>(m.label===i&&(m.accounts=m.accounts.map(d=>d.address===a?Object.assign(Object.assign({},d),o):d)),m));return Object.assign(Object.assign({},t),{wallets:c})}case Dv:{const s=n;return Object.assign(Object.assign({},t),{wallets:s})}case Pv:{const s=n;return Object.assign(Object.assign({},t),{connect:Object.assign(Object.assign({},t.connect),s)})}case Cv:{const s=n;return Object.assign(Object.assign({},t),{accountCenter:Object.assign(Object.assign({},t.accountCenter),s)})}case kv:{const s=n;return Object.assign(Object.assign({},t),{notify:Object.assign(Object.assign({},t.notify),s)})}case Bv:{const s=n,i=[...t.notifications],a=i.findIndex(({id:o})=>o===s.id);return a!==-1?i[a]=s:i.unshift(s),Object.assign(Object.assign({},t),{notifications:i})}case Mv:{const s=n;return Object.assign(Object.assign({},t),{notifications:t.notifications.filter(i=>i.id!==s)})}case Nv:return Object.assign(Object.assign({},t),{walletModules:n});case Rv:return Na.set(n),Object.assign(Object.assign({},t),{locale:n});case Lv:{const s=n;return Object.assign(Object.assign({},t),{appMetadata:Object.assign(Object.assign(Object.assign({},t.appMetadata),s),{name:s.name||""})})}case Uv:{const s=n;return Object.assign(Object.assign({},t),{wagmiConfig:s})}case Um:return Lm;default:throw new Error(`Unknown type: ${r} in appStore reducer`)}}const hu=new tu(Lm),kc=new Ji;kc.subscribe(hu);function jv(t){const e=hu.getValue();kc.next(Fv(e,t))}function Hv(t){if(!t)return kc.asObservable();if(!Object.keys(hu.getValue()).includes(String(t)))throw new Error(`key: ${t} does not exist on this store`);return kc.asObservable().pipe(cb(t),Hp(t),ob(Ev))}function Gv(){return hu.getValue()}const $v={select:Hv,get:Gv},Wv=new Ji,Vv=new Ji;new tu({inProgress:!1,actionRequired:""});new tu(null);const zv=$v.select("wallets").pipe(fb(1));Wv.pipe(hb(zv),Hp("1")).subscribe(t=>{t.forEach(({label:e})=>{Vv.next(e)}),fA()});new tu([]);const Wu=B.object().unknown(),qv=B.object({namespace:fu.required(),id:uu.required()}),Qv=B.any().allow(B.object({name:B.string().required(),avatar:B.string(),contentHash:B.any().allow(B.string(),null),getText:B.function().arity(1).required()}),null),Jv=B.any().allow(B.object({name:B.string().required()}),null),Kv=B.any().allow(B.object({eth:B.number()}).unknown(),null),Zv=B.any().allow(B.object({balance:B.string().required(),icon:B.string()}),null),Xv=B.object({address:B.string().required(),ens:Qv,uns:Jv,balance:Kv,secondaryTokens:Zv}),Yv=B.array().items(Dm).unique((t,e)=>t.id===e.id).error(t=>t[0].code==="array.unique"?new Error(`There is a duplicate Chain ID in your Onboard Chains array: ${t}`):new Error(`${t}`)),eA=B.array().items(Xv),tA=B.object({label:B.string(),icon:B.string(),provider:Wu,instance:Wu,accounts:eA,chains:B.array().items(qv),wagmiConnector:Wu}).required().error(new Error("wallet must be defined"));B.array().items(tA);const Fm=B.object({name:B.string().required(),url:B.string().uri().required()}),jm=B.object({version:B.string().required(),termsUrl:B.string().uri(),privacyUrl:B.string().uri()}),rA=B.object({name:B.string().required(),description:B.string().required(),icon:B.string(),logo:B.string(),gettingStartedGuide:B.string(),email:B.string(),appUrl:B.string(),explore:B.string(),recommendedInjectedWallets:B.array().items(Fm),agreement:jm});B.object({name:B.string(),description:B.string(),icon:B.string(),logo:B.string(),gettingStartedGuide:B.string(),email:B.string(),appUrl:B.string(),explore:B.string(),recommendedInjectedWallets:B.array().items(Fm),agreement:jm});B.object({label:B.string().required(),getInfo:B.function().arity(1).required(),getInterface:B.function().arity(1).required()});const nA=B.array().items(B.function()).required();B.string();const Eh=B.string().valid("topRight","bottomRight","bottomLeft","topLeft"),bd=[70,80,90,95,99],If=B.object({transactionHandler:B.function().optional(),enabled:B.boolean(),position:Eh,replacement:B.object({gasPriceProbability:B.object({speedup:B.number().valid(...bd),cancel:B.number().valid(...bd)})})}),sA=B.object({desktop:If,mobile:If}),wd=B.object({enabled:B.boolean(),position:Eh,minimal:B.boolean(),containerElement:B.string(),hideTransactionProtectionBtn:B.boolean(),transactionProtectionInfoLink:B.string()});B.object({enabled:B.boolean(),position:Eh,expanded:B.boolean(),minimal:B.boolean(),hideTransactionProtectionBtn:B.boolean(),transactionProtectionInfoLink:B.string(),containerElement:B.string()});const iA=B.object({showSidebar:B.boolean(),disableClose:B.boolean(),autoConnectLastWallet:B.boolean(),autoConnectAllPreviousWallet:B.boolean(),iDontHaveAWalletLink:B.string(),wheresMyWalletLink:B.string(),removeWhereIsMyWalletWarning:B.boolean(),removeIDontHaveAWalletInfoLink:B.boolean(),disableUDResolution:B.boolean()}),oA=B.object({accountCenter:B.string(),connectModal:B.string()}),aA=B.object({"--w3o-background-color":B.string(),"--w3o-font-family":B.string(),"--w3o-foreground-color":B.string(),"--w3o-text-color":B.string(),"--w3o-border-color":B.string(),"--w3o-action-color":B.string(),"--w3o-border-radius":B.string()}),lA=B.string().valid("default","dark","light","system"),cA=B.alternatives().try(aA,lA);B.object({wallets:nA,chains:Yv.required(),appMetadata:rA,i18n:B.object().unknown(),apiKey:B.string(),accountCenter:B.object({desktop:wd,mobile:wd,hideTransactionProtectionBtn:B.boolean(),transactionProtectionInfoLink:B.string()}),notify:[sA,If],gas:B.object({get:B.function().required(),stream:B.function().required()}),wagmi:B.function(),connect:iA,containerElements:oA,transactionPreview:B.any(),theme:cA,disableFontDownload:B.boolean(),unstoppableResolution:B.function()});B.object({autoSelect:B.alternatives().try(B.object({label:B.string().required(),disableModals:B.boolean()}),B.string())});B.object({label:B.string().required()}).required();const uA=B.object({address:B.string().required(),icon:B.string().optional()});B.object({chainId:uu.required(),chainNamespace:fu,wallet:B.string(),rpcUrl:B.string(),label:B.string(),token:B.string(),protectedRpcUrl:B.string(),secondaryTokens:B.array().max(5).items(uA).optional()});B.object({key:B.string().required(),type:B.string().allow("pending","error","success","hint"),eventCode:B.string(),message:B.string().required(),id:B.string().required(),autoDismiss:B.number(),onClick:B.function(),link:B.string()});B.object({sendTransaction:B.function(),estimateGas:B.function(),gasPrice:B.function(),balance:B.alternatives(B.string(),B.number()),txDetails:B.object({value:B.alternatives(B.string(),B.number()),to:B.string(),from:B.string()}),txApproveReminderTimeout:B.number()});B.object({key:B.string(),type:B.string().allow("pending","error","success","hint"),eventCode:B.string(),message:B.string(),id:B.string(),autoDismiss:B.number(),onClick:B.function(),link:B.string()});B.object({id:B.string().required(),key:B.string().required(),type:B.string().allow("pending","error","success","hint").required(),eventCode:B.string().required(),message:B.string().required(),autoDismiss:B.number().required(),network:B.string().required(),startTime:B.number(),onClick:B.function(),link:B.string()});function fA(){jv({type:Um})}const hA="Must call the provided initialization method`init` method before using hooks.";let Hm,Gm=!1;const $m=oh.createContext(void 0);function dA({children:t,web3Onboard:e}){return Gm=!0,Hm=void 0,oh.createElement($m.Provider,{value:e},t)}function Wm(){const t=Gm?oh.useContext($m):Hm;if(!t)throw new Error(hA);return t}var oc={exports:{}},Vu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function pA(){if(vd)return Vu;vd=1;var t=tt;function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(l,f){var g=f(),h=n({inst:{value:g,getSnapshot:f}}),u=h[0].inst,b=h[1];return i(function(){u.value=g,u.getSnapshot=f,c(u)&&b({inst:u})},[l,g,f]),s(function(){return c(u)&&b({inst:u}),l(function(){c(u)&&b({inst:u})})},[l]),a(g),g}function c(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!r(l,g)}catch{return!0}}function m(l,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:o;return Vu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Vu}var zu={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function mA(){return Ad||(Ad=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=tt,e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(v){{for(var E=arguments.length,x=new Array(E>1?E-1:0),C=1;C<E;C++)x[C-1]=arguments[C];n("error",v,x)}}function n(v,E,x){{var C=e.ReactDebugCurrentFrame,T=C.getStackAddendum();T!==""&&(E+="%s",x=x.concat([T]));var A=x.map(function(S){return String(S)});A.unshift("Warning: "+E),Function.prototype.apply.call(console[v],console,A)}}function s(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var i=typeof Object.is=="function"?Object.is:s,a=t.useState,o=t.useEffect,c=t.useLayoutEffect,m=t.useDebugValue,d=!1,l=!1;function f(v,E,x){d||t.startTransition!==void 0&&(d=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var C=E();if(!l){var T=E();i(C,T)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),l=!0)}var A=a({inst:{value:C,getSnapshot:E}}),S=A[0].inst,I=A[1];return c(function(){S.value=C,S.getSnapshot=E,g(S)&&I({inst:S})},[v,C,E]),o(function(){g(S)&&I({inst:S});var R=function(){g(S)&&I({inst:S})};return v(R)},[v]),m(C),C}function g(v){var E=v.getSnapshot,x=v.value;try{var C=E();return!i(x,C)}catch{return!0}}function h(v,E,x){return E()}var u=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b=!u,p=b?h:f,y=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p;zu.useSyncExternalStore=y,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),zu}var Ed;function gA(){return Ed||(Ed=1,process.env.NODE_ENV==="production"?oc.exports=pA():oc.exports=mA()),oc.exports}var yA=gA();const bA=(t=void 0)=>{const e=Wm(),{select:r,get:n}=e.state,s=tt.useCallback(o=>{const{unsubscribe:c}=t?r(t).subscribe(o):r().subscribe(o);return()=>c},[t]),i=tt.useCallback(()=>{const o=n();return t?o[t]:o},[t]),a=()=>i();return yA.useSyncExternalStore(s,i,a)},_h=()=>{const t=Wm(),{connectWallet:e,disconnectWallet:r}=t,s=bA("wallets")[0]||null,[i,a]=tt.useState(!1),o=tt.useCallback(async f=>{a(!0);const g=await e(f);return a(!1),g},[]),c=tt.useCallback(async({label:f})=>{a(!0);const g=await r({label:f});return a(!1),g},[]),m=t.state.actions.updateBalances,d=t.state.actions.setWalletModules,l=t.state.actions.setPrimaryWallet;return[{wallet:s,connecting:i},o,c,m,d,l]},wA="6.13.4";function vA(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Yt(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function me(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&vA(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function bo(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(bo).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return bo(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${bo(r)}: ${bo(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Mt(t,e){return t&&t.code===e}function xh(t){return Mt(t,"CALL_EXCEPTION")}function at(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${bo(r)}`);for(const a in r){if(a==="shortMessage")continue;const o=r[a];i.push(a+"="+bo(o))}}i.push(`code=${e}`),i.push(`version=${wA}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return me(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&me(s,{shortMessage:n}),s}function q(t,e,r,n){if(!t)throw at(e,r,n)}function L(t,e,r,n){q(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Vm(t,e,r){r==null&&(r=""),r&&(r=": "+r),q(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),q(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Xl(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),q(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function zm(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}L(!1,"invalid BytesLike value",e||"value",t)}function De(t,e){return zm(t,e,!1)}function er(t,e){return zm(t,e,!0)}function Qe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Sh(t){return Qe(t,!0)||t instanceof Uint8Array}const _d="0123456789abcdef";function oe(t){const e=De(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=_d[(s&240)>>4]+_d[s&15]}return r}function mt(t){return"0x"+t.map(e=>oe(e).substring(2)).join("")}function Io(t){return Qe(t,!0)?(t.length-2)/2:De(t).length}function lt(t,e,r){const n=De(t);return r!=null&&r>n.length&&q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),oe(n.slice(e??0,r??n.length))}function qm(t,e,r){const n=De(t);q(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),oe(s)}function Hi(t,e){return qm(t,e,!0)}function AA(t,e){return qm(t,e,!1)}const du=BigInt(0),Kr=BigInt(1),wo=9007199254740991;function Bc(t,e){const r=pu(t,"value"),n=BigInt(we(e,"width"));if(q(r>>n===du,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Kr){const s=(Kr<<n)-Kr;return-((~r&s)+Kr)}return r}function Qm(t,e){let r=le(t,"value");const n=BigInt(we(e,"width")),s=Kr<<n-Kr;if(r<du){r=-r,q(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Kr<<n)-Kr;return(~r&i)+Kr}else q(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function gi(t,e){const r=pu(t,"value"),n=BigInt(we(e,"bits"));return r&(Kr<<n)-Kr}function le(t,e){switch(typeof t){case"bigint":return t;case"number":return L(Number.isInteger(t),"underflow",e||"value",t),L(t>=-wo&&t<=wo,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){L(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}L(!1,"invalid BigNumberish value",e||"value",t)}function pu(t,e){const r=le(t,e);return q(r>=du,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const xd="0123456789abcdef";function mu(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=xd[r>>4],e+=xd[r&15];return BigInt(e)}return le(t)}function we(t,e){switch(typeof t){case"bigint":return L(t>=-wo&&t<=wo,"overflow",e||"value",t),Number(t);case"number":return L(Number.isInteger(t),"underflow",e||"value",t),L(t>=-wo&&t<=wo,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return we(BigInt(t),e)}catch(r){L(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}L(!1,"invalid numeric value",e||"value",t)}function EA(t){return we(mu(t))}function zs(t,e){let n=pu(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=we(e,"width");for(q(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function tr(t){const e=pu(t,"value");if(e===du)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(r.substring(i,i+2),16)}return n}function vo(t){let e=oe(Sh(t)?t:tr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Sd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Od=BigInt(58);function _A(t){const e=De(t);let r=mu(e),n="";for(;r;)n=Sd[Number(r%Od)]+n,r/=Od;for(let s=0;s<e.length&&!e[s];s++)n=Sd[0]+n;return n}function xA(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return De(e)}function SA(t){const e=De(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var No;class Jm{constructor(e,r,n){F(this,"filter");F(this,"emitter");$(this,No);k(this,No,r),me(this,{emitter:e,filter:n})}async removeListener(){O(this,No)!=null&&await this.emitter.off(this.filter,O(this,No))}}No=new WeakMap;function OA(t,e,r,n,s){L(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Km(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function IA(t,e,r,n,s){return t==="OVERLONG"?(L(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Km(t,e,r))}const TA=Object.freeze({error:OA,ignore:Km,replace:IA});function CA(t,e){e==null&&(e=TA.error);const r=De(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(!(i>>7)){n.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+a>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-a-1)-1;for(let m=0;m<a;m++){let d=r[s];if((d&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|d&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-a,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-a,r,n,c);continue}if(c<=o){s+=e("OVERLONG",s-1-a,r,n,c);continue}n.push(c)}}return n}function Yn(t,e){L(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);L(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function PA(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mc(t,e){return PA(CA(t,e))}function Zm(t){async function e(r,n){q(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();q(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),q(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,o=setTimeout(()=>{i=at("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{i=at("request cancelled","CANCELLED"),a.abort()});const c={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal};let m;try{m=await fetch(r.url,c)}catch(g){throw clearTimeout(o),i||g}clearTimeout(o);const d={};m.headers.forEach((g,h)=>{d[h.toLowerCase()]=g});const l=await m.arrayBuffer(),f=l==null?null:new Uint8Array(l);return{statusCode:m.status,statusMessage:m.statusText,headers:d,body:f}}return e}const NA=12,RA=250;let Id=Zm();const kA=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),BA=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let qu=!1;async function Xm(t,e){try{const r=t.match(kA);if(!r)throw new Error("invalid data");return new $s(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?xA(r[3]):DA(r[3]))}catch{return new $s(599,"BAD REQUEST (invalid data: URI)",{},null,new ts(t))}}function Ym(t){async function e(r,n){try{const s=r.match(BA);if(!s)throw new Error("invalid link");return new ts(`${t}${s[2]}`)}catch{return new $s(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ts(r))}}return e}const ac={data:Xm,ipfs:Ym("https://gateway.ipfs.io/ipfs/")},eg=new WeakMap;var wi,Ss;class MA{constructor(e){$(this,wi);$(this,Ss);k(this,wi,[]),k(this,Ss,!1),eg.set(e,()=>{if(!O(this,Ss)){k(this,Ss,!0);for(const r of O(this,wi))setTimeout(()=>{r()},0);k(this,wi,[])}})}addListener(e){q(!O(this,Ss),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),O(this,wi).push(e)}get cancelled(){return O(this,Ss)}checkSignal(){q(!this.cancelled,"cancelled","CANCELLED",{})}}wi=new WeakMap,Ss=new WeakMap;function lc(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Ro,ko,Vr,Un,Bo,Mo,It,Er,Fn,vi,Ai,Ei,un,zr,Os,_i,ml;const qc=class qc{constructor(e){$(this,_i);$(this,Ro);$(this,ko);$(this,Vr);$(this,Un);$(this,Bo);$(this,Mo);$(this,It);$(this,Er);$(this,Fn);$(this,vi);$(this,Ai);$(this,Ei);$(this,un);$(this,zr);$(this,Os);k(this,Mo,String(e)),k(this,Ro,!1),k(this,ko,!0),k(this,Vr,{}),k(this,Un,""),k(this,Bo,3e5),k(this,zr,{slotInterval:RA,maxAttempts:NA}),k(this,Os,null)}get url(){return O(this,Mo)}set url(e){k(this,Mo,String(e))}get body(){return O(this,It)==null?null:new Uint8Array(O(this,It))}set body(e){if(e==null)k(this,It,void 0),k(this,Er,void 0);else if(typeof e=="string")k(this,It,Yn(e)),k(this,Er,"text/plain");else if(e instanceof Uint8Array)k(this,It,e),k(this,Er,"application/octet-stream");else if(typeof e=="object")k(this,It,Yn(JSON.stringify(e))),k(this,Er,"application/json");else throw new Error("invalid body")}hasBody(){return O(this,It)!=null}get method(){return O(this,Un)?O(this,Un):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),k(this,Un,String(e).toUpperCase())}get headers(){const e=Object.assign({},O(this,Vr));return O(this,Fn)&&(e.authorization=`Basic ${SA(Yn(O(this,Fn)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&O(this,Er)&&(e["content-type"]=O(this,Er)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){O(this,Vr)[String(e).toLowerCase()]=String(r)}clearHeaders(){k(this,Vr,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return O(this,Fn)||null}setCredentials(e,r){L(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),k(this,Fn,`${e}:${r}`)}get allowGzip(){return O(this,ko)}set allowGzip(e){k(this,ko,!!e)}get allowInsecureAuthentication(){return!!O(this,Ro)}set allowInsecureAuthentication(e){k(this,Ro,!!e)}get timeout(){return O(this,Bo)}set timeout(e){L(e>=0,"timeout must be non-zero","timeout",e),k(this,Bo,e)}get preflightFunc(){return O(this,vi)||null}set preflightFunc(e){k(this,vi,e)}get processFunc(){return O(this,Ai)||null}set processFunc(e){k(this,Ai,e)}get retryFunc(){return O(this,Ei)||null}set retryFunc(e){k(this,Ei,e)}get getUrlFunc(){return O(this,Os)||Id}set getUrlFunc(e){k(this,Os,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${O(this,It)?oe(O(this,It)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(O(this,zr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(O(this,zr).maxAttempts=e.maxAttempts)}send(){return q(O(this,un)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),k(this,un,new MA(this)),K(this,_i,ml).call(this,0,Td()+this.timeout,0,this,new $s(0,"",{},null,this))}cancel(){q(O(this,un)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=eg.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();q(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new qc(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,k(s,Vr,Object.assign({},O(this,Vr))),O(this,It)&&k(s,It,new Uint8Array(O(this,It))),k(s,Er,O(this,Er)),s}clone(){const e=new qc(this.url);return k(e,Un,O(this,Un)),O(this,It)&&k(e,It,O(this,It)),k(e,Er,O(this,Er)),k(e,Vr,Object.assign({},O(this,Vr))),k(e,Fn,O(this,Fn)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),k(e,vi,O(this,vi)),k(e,Ai,O(this,Ai)),k(e,Ei,O(this,Ei)),k(e,zr,Object.assign({},O(this,zr))),k(e,Os,O(this,Os)),e}static lockConfig(){qu=!0}static getGateway(e){return ac[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(qu)throw new Error("gateways locked");ac[e]=r}static registerGetUrl(e){if(qu)throw new Error("gateways locked");Id=e}static createGetUrlFunc(e){return Zm()}static createDataGateway(){return Xm}static createIpfsGatewayFunc(e){return Ym(e)}};Ro=new WeakMap,ko=new WeakMap,Vr=new WeakMap,Un=new WeakMap,Bo=new WeakMap,Mo=new WeakMap,It=new WeakMap,Er=new WeakMap,Fn=new WeakMap,vi=new WeakMap,Ai=new WeakMap,Ei=new WeakMap,un=new WeakMap,zr=new WeakMap,Os=new WeakMap,_i=new WeakSet,ml=async function(e,r,n,s,i){var d,l,f;if(e>=O(this,zr).maxAttempts)return i.makeServerError("exceeded maximum retry limit");q(Td()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await LA(n);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in ac){const g=await ac[o](a.url,lc(O(s,un)));if(g instanceof $s){let h=g;if(this.processFunc){lc(O(s,un));try{h=await this.processFunc(a,h)}catch(u){(u.throttle==null||typeof u.stall!="number")&&h.makeServerError("error in post-processing function",u).assertOk()}}return h}a=g}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,lc(O(s,un)));let m=new $s(c.statusCode,c.statusMessage,c.headers,c.body,s);if(m.statusCode===301||m.statusCode===302){try{const g=m.headers.location||"";return K(d=a.redirect(g),_i,ml).call(d,e+1,r,0,s,m)}catch{}return m}else if(m.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,m,e))){const g=m.headers["retry-after"];let h=O(this,zr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(h=parseInt(g)),K(l=a.clone(),_i,ml).call(l,e+1,r,h,s,m)}if(this.processFunc){lc(O(s,un));try{m=await this.processFunc(a,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk();let h=O(this,zr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(h=g.stall),K(f=a.clone(),_i,ml).call(f,e+1,r,h,s,m)}}return m};let ts=qc;var Ll,Ul,Fl,_r,Do,xi;const Uh=class Uh{constructor(e,r,n,s,i){$(this,Ll);$(this,Ul);$(this,Fl);$(this,_r);$(this,Do);$(this,xi);k(this,Ll,e),k(this,Ul,r),k(this,Fl,Object.keys(n).reduce((a,o)=>(a[o.toLowerCase()]=String(n[o]),a),{})),k(this,_r,s==null?null:new Uint8Array(s)),k(this,Do,i||null),k(this,xi,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${O(this,_r)?oe(O(this,_r)):"null"}>`}get statusCode(){return O(this,Ll)}get statusMessage(){return O(this,Ul)}get headers(){return Object.assign({},O(this,Fl))}get body(){return O(this,_r)==null?null:new Uint8Array(O(this,_r))}get bodyText(){try{return O(this,_r)==null?"":Mc(O(this,_r))}catch{q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Uh(599,n,this.headers,this.body,O(this,Do)||void 0);return k(s,xi,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:L(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw me(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return O(this,_r)!=null}get request(){return O(this,Do)}ok(){return O(this,xi).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=O(this,xi);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{O(this,_r)&&(s=Mc(O(this,_r)))}catch{}q(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Ll=new WeakMap,Ul=new WeakMap,Fl=new WeakMap,_r=new WeakMap,Do=new WeakMap,xi=new WeakMap;let $s=Uh;function Td(){return new Date().getTime()}function DA(t){return Yn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function LA(t){return new Promise(e=>setTimeout(e,t))}const UA=BigInt(-1),Gr=BigInt(0),Ao=BigInt(1),FA=BigInt(5),co={};let To="0000";for(;To.length<80;)To+=To;function li(t){let e=To;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function cl(t,e,r){const n=BigInt(e.width);if(e.signed){const s=Ao<<n-Ao;q(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Gr?t=Bc(gi(t,n),n):t=-Bc(gi(-t,n),n)}else{const s=Ao<<n;q(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-Ao}return t}function Qu(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);L(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,a=(o,c,m)=>i[o]==null?m:(L(typeof i[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,i[o]),i[o]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}L(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),L(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function jA(t,e){let r="";t<Gr&&(r="-",t*=UA);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=To+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var qr,We,Kt,je,ci,kn,Tf,Cf,Pf,Nf;const xs=class xs{constructor(e,r,n){$(this,je);F(this,"format");$(this,qr);$(this,We);$(this,Kt);F(this,"_value");Xl(e,co,"FixedNumber"),k(this,We,r),k(this,qr,n);const s=jA(r,n.decimals);me(this,{format:n.name,_value:s}),k(this,Kt,li(n.decimals))}get signed(){return O(this,qr).signed}get width(){return O(this,qr).width}get decimals(){return O(this,qr).decimals}get value(){return O(this,We)}addUnsafe(e){return K(this,je,Tf).call(this,e)}add(e){return K(this,je,Tf).call(this,e,"add")}subUnsafe(e){return K(this,je,Cf).call(this,e)}sub(e){return K(this,je,Cf).call(this,e,"sub")}mulUnsafe(e){return K(this,je,Pf).call(this,e)}mul(e){return K(this,je,Pf).call(this,e,"mul")}mulSignal(e){K(this,je,ci).call(this,e);const r=O(this,We)*O(e,We);return q(r%O(this,Kt)===Gr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),K(this,je,kn).call(this,r/O(this,Kt),"mulSignal")}divUnsafe(e){return K(this,je,Nf).call(this,e)}div(e){return K(this,je,Nf).call(this,e,"div")}divSignal(e){q(O(e,We)!==Gr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),K(this,je,ci).call(this,e);const r=O(this,We)*O(this,Kt);return q(r%O(e,We)===Gr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),K(this,je,kn).call(this,r/O(e,We),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=li(s):s<0&&(r*=li(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=O(this,We);return O(this,We)<Gr&&(e-=O(this,Kt)-Ao),e=O(this,We)/O(this,Kt)*O(this,Kt),K(this,je,kn).call(this,e,"floor")}ceiling(){let e=O(this,We);return O(this,We)>Gr&&(e+=O(this,Kt)-Ao),e=O(this,We)/O(this,Kt)*O(this,Kt),K(this,je,kn).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=FA*li(r-1);let s=this.value+n;const i=li(r);return s=s/i*i,cl(s,O(this,qr),"round"),new xs(co,s,O(this,qr))}isZero(){return O(this,We)===Gr}isNegative(){return O(this,We)<Gr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return xs.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:we(r),i=Qu(n);let a=le(e,"value");const o=s-i.decimals;if(o>0){const c=li(o);q(a%c===Gr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=c}else o<0&&(a*=li(-o));return cl(a,i,"fromValue"),new xs(co,a,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);L(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=Qu(r);let i=n[2]||"0",a=n[3]||"";for(;a.length<s.decimals;)a+=To;q(a.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,s.decimals);const o=BigInt(n[1]+i+a);return cl(o,s,"fromString"),new xs(co,o,s)}static fromBytes(e,r){let n=mu(De(e,"value"));const s=Qu(r);return s.signed&&(n=Bc(n,s.width)),cl(n,s,"fromBytes"),new xs(co,n,s)}};qr=new WeakMap,We=new WeakMap,Kt=new WeakMap,je=new WeakSet,ci=function(e){L(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},kn=function(e,r){return e=cl(e,O(this,qr),r),new xs(co,e,O(this,qr))},Tf=function(e,r){return K(this,je,ci).call(this,e),K(this,je,kn).call(this,O(this,We)+O(e,We),r)},Cf=function(e,r){return K(this,je,ci).call(this,e),K(this,je,kn).call(this,O(this,We)-O(e,We),r)},Pf=function(e,r){return K(this,je,ci).call(this,e),K(this,je,kn).call(this,O(this,We)*O(e,We)/O(this,Kt),r)},Nf=function(e,r){return q(O(e,We)!==Gr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),K(this,je,ci).call(this,e),K(this,je,kn).call(this,O(this,We)*O(this,Kt)/O(e,We),r)};let Dc=xs;function HA(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Cd(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function Pd(t,e,r,n){const s=[];for(;r<e+1+n;){const i=tg(t,r);s.push(i.result),r+=i.consumed,q(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function tg(t,e){q(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{q(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=Cd(t,e+1,n);return r(e+1+n+s),Pd(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),Pd(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=Cd(t,e+1,n);r(e+1+n+s);const i=oe(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=oe(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:HA(t[e])}}function gu(t){const e=De(t,"data"),r=tg(e,0);return L(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Nd(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function rg(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(rg(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=Nd(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(De(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Nd(e.length);return r.unshift(183+r.length),r.concat(e)}const Rd="0123456789abcdef";function Gi(t){let e="0x";for(const r of rg(t))e+=Rd[r>>4],e+=Rd[r&15];return e}const ng=["wei","kwei","mwei","gwei","szabo","finney","ether"];function GA(t,e){let r=18;if(typeof e=="string"){const n=ng.indexOf(e);L(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=we(e,"unit"));return Dc.fromValue(t,r,{decimals:r,width:512}).toString()}function $A(t,e){L(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=ng.indexOf(e);L(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=we(e,"unit"));return Dc.fromString(t,{decimals:r,width:512}).value}const rr=32,Rf=new Uint8Array(rr),WA=["then"],cc={},sg=new WeakMap;function hi(t){return sg.get(t)}function kd(t,e){sg.set(t,e)}function ul(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function kf(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof Oa?kf(hi(n),n,r):n):t.reduce((n,s,i)=>{let a=e.getValue(s);return s in n||(r&&a instanceof Oa&&(a=kf(hi(a),a,r)),n[s]=a),n},{})}var Lo;const Eo=class Eo extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),a=!0;n!==cc&&(s=r,i=[],a=!1);super(s.length);$(this,Lo);s.forEach((m,d)=>{this[d]=m});const o=i.reduce((m,d)=>(typeof d=="string"&&m.set(d,(m.get(d)||0)+1),m),new Map);if(kd(this,Object.freeze(s.map((m,d)=>{const l=i[d];return l!=null&&o.get(l)===1?l:null}))),k(this,Lo,[]),O(this,Lo)==null&&O(this,Lo),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(m,d,l)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const g=we(d,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const h=m[g];return h instanceof Error&&ul(`index ${g}`,h),h}if(WA.indexOf(d)>=0)return Reflect.get(m,d,l);const f=m[d];if(f instanceof Function)return function(...g){return f.apply(this===l?m:this,g)};if(!(d in m))return m.getValue.apply(this===l?m:this,[d])}return Reflect.get(m,d,l)}});return kd(c,hi(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&ul(`index ${i}`,s),r&&s instanceof Eo&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=hi(this);return n.reduce((s,i,a)=>(q(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),kf(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=hi(this),i=[],a=[];for(let o=r;o<n;o++)i.push(this[o]),a.push(s[o]);return new Eo(cc,i,a)}filter(r,n){const s=hi(this),i=[],a=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&ul(`index ${o}`,c),r.call(n,c,o,this)&&(i.push(c),a.push(s[o]))}return new Eo(cc,i,a)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&ul(`index ${i}`,a),s.push(r.call(n,a,i,this))}return s}getValue(r){const n=hi(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&ul(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new Eo(cc,r,n)}};Lo=new WeakMap;let Oa=Eo;function Bd(t){let e=tr(t);return q(e.length<=rr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:rr,offset:e.length}),e.length!==rr&&(e=er(mt([Rf.slice(e.length%rr),e]))),e}class ns{constructor(e,r,n,s){F(this,"name");F(this,"type");F(this,"localName");F(this,"dynamic");me(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){L(!1,e,this.localName,r)}}var jn,Si,Uo,wc;class Bf{constructor(){$(this,Uo);$(this,jn);$(this,Si);k(this,jn,[]),k(this,Si,0)}get data(){return mt(O(this,jn))}get length(){return O(this,Si)}appendWriter(e){return K(this,Uo,wc).call(this,er(e.data))}writeBytes(e){let r=er(e);const n=r.length%rr;return n&&(r=er(mt([r,Rf.slice(n)]))),K(this,Uo,wc).call(this,r)}writeValue(e){return K(this,Uo,wc).call(this,Bd(e))}writeUpdatableValue(){const e=O(this,jn).length;return O(this,jn).push(Rf),k(this,Si,O(this,Si)+rr),r=>{O(this,jn)[e]=Bd(r)}}}jn=new WeakMap,Si=new WeakMap,Uo=new WeakSet,wc=function(e){return O(this,jn).push(e),k(this,Si,O(this,Si)+e.length),e.length};var ar,xr,Oi,Ii,Is,Qi,Df,ig;const Fh=class Fh{constructor(e,r,n){$(this,Qi);F(this,"allowLoose");$(this,ar);$(this,xr);$(this,Oi);$(this,Ii);$(this,Is);me(this,{allowLoose:!!r}),k(this,ar,er(e)),k(this,Oi,0),k(this,Ii,null),k(this,Is,n??1024),k(this,xr,0)}get data(){return oe(O(this,ar))}get dataLength(){return O(this,ar).length}get consumed(){return O(this,xr)}get bytes(){return new Uint8Array(O(this,ar))}subReader(e){const r=new Fh(O(this,ar).slice(O(this,xr)+e),this.allowLoose,O(this,Is));return k(r,Ii,this),r}readBytes(e,r){let n=K(this,Qi,ig).call(this,0,e,!!r);return K(this,Qi,Df).call(this,e),k(this,xr,O(this,xr)+n.length),n.slice(0,e)}readValue(){return mu(this.readBytes(rr))}readIndex(){return EA(this.readBytes(rr))}};ar=new WeakMap,xr=new WeakMap,Oi=new WeakMap,Ii=new WeakMap,Is=new WeakMap,Qi=new WeakSet,Df=function(e){var r;if(O(this,Ii))return K(r=O(this,Ii),Qi,Df).call(r,e);k(this,Oi,O(this,Oi)+e),q(O(this,Is)<1||O(this,Oi)<=O(this,Is)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${O(this,Is)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:er(O(this,ar)),offset:O(this,xr),length:e,info:{bytesRead:O(this,Oi),dataLength:this.dataLength}})},ig=function(e,r,n){let s=Math.ceil(r/rr)*rr;return O(this,xr)+s>O(this,ar).length&&(this.allowLoose&&n&&O(this,xr)+r<=O(this,ar).length?s=r:q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:er(O(this,ar)),length:O(this,ar).length,offset:O(this,xr)+s})),O(this,ar).slice(O(this,xr),O(this,xr)+s)};let Mf=Fh;const[VA,zA]=Ee.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),vs=new Uint32Array(80),As=new Uint32Array(80);class qA extends Em{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:m,El:d,Fh:l,Fl:f,Gh:g,Gl:h,Hh:u,Hl:b}=this;return[e,r,n,s,i,a,o,c,m,d,l,f,g,h,u,b]}set(e,r,n,s,i,a,o,c,m,d,l,f,g,h,u,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=m|0,this.El=d|0,this.Fh=l|0,this.Fl=f|0,this.Gh=g|0,this.Gl=h|0,this.Hh=u|0,this.Hl=b|0}process(e,r){for(let v=0;v<16;v++,r+=4)vs[v]=e.getUint32(r),As[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const E=vs[v-15]|0,x=As[v-15]|0,C=Ee.rotrSH(E,x,1)^Ee.rotrSH(E,x,8)^Ee.shrSH(E,x,7),T=Ee.rotrSL(E,x,1)^Ee.rotrSL(E,x,8)^Ee.shrSL(E,x,7),A=vs[v-2]|0,S=As[v-2]|0,I=Ee.rotrSH(A,S,19)^Ee.rotrBH(A,S,61)^Ee.shrSH(A,S,6),R=Ee.rotrSL(A,S,19)^Ee.rotrBL(A,S,61)^Ee.shrSL(A,S,6),H=Ee.add4L(T,R,As[v-7],As[v-16]),W=Ee.add4H(H,C,I,vs[v-7],vs[v-16]);vs[v]=W|0,As[v]=H|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:m,Dl:d,Eh:l,El:f,Fh:g,Fl:h,Gh:u,Gl:b,Hh:p,Hl:y}=this;for(let v=0;v<80;v++){const E=Ee.rotrSH(l,f,14)^Ee.rotrSH(l,f,18)^Ee.rotrBH(l,f,41),x=Ee.rotrSL(l,f,14)^Ee.rotrSL(l,f,18)^Ee.rotrBL(l,f,41),C=l&g^~l&u,T=f&h^~f&b,A=Ee.add5L(y,x,T,zA[v],As[v]),S=Ee.add5H(A,p,E,C,VA[v],vs[v]),I=A|0,R=Ee.rotrSH(n,s,28)^Ee.rotrBH(n,s,34)^Ee.rotrBH(n,s,39),H=Ee.rotrSL(n,s,28)^Ee.rotrBL(n,s,34)^Ee.rotrBL(n,s,39),W=n&i^n&o^i&o,Z=s&a^s&c^a&c;p=u|0,y=b|0,u=g|0,b=h|0,g=l|0,h=f|0,{h:l,l:f}=Ee.add(m|0,d|0,S|0,I|0),m=o|0,d=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const j=Ee.add3L(I,H,Z);n=Ee.add3H(j,S,R,W),s=j|0}({h:n,l:s}=Ee.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Ee.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ee.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:m,l:d}=Ee.add(this.Dh|0,this.Dl|0,m|0,d|0),{h:l,l:f}=Ee.add(this.Eh|0,this.El|0,l|0,f|0),{h:g,l:h}=Ee.add(this.Fh|0,this.Fl|0,g|0,h|0),{h:u,l:b}=Ee.add(this.Gh|0,this.Gl|0,u|0,b|0),{h:p,l:y}=Ee.add(this.Hh|0,this.Hl|0,p|0,y|0),this.set(n,s,i,a,o,c,m,d,l,f,g,h,u,b,p,y)}roundClean(){vs.fill(0),As.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const QA=gh(()=>new qA);function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Md=JA();Md.crypto||Md.msCrypto;function KA(t){switch(t){case"sha256":return _m.create();case"sha512":return QA.create()}L(!1,"invalid hashing algorithm name","algorithm",t)}let og=!1;const ag=function(t){return kw(t)};let lg=ag;function yt(t){const e=De(t,"data");return oe(lg(e))}yt._=ag;yt.lock=function(){og=!0};yt.register=function(t){if(og)throw new TypeError("keccak256 is locked");lg=t};Object.freeze(yt);const cg=function(t){return KA("sha256").update(t).digest()};let ug=cg,fg=!1;function ka(t){const e=De(t,"data");return oe(ug(e))}ka._=cg;ka.lock=function(){fg=!0};ka.register=function(t){if(fg)throw new Error("sha256 is locked");ug=t};Object.freeze(ka);Object.freeze(ka);const Tl="0x0000000000000000000000000000000000000000",Dd="0x0000000000000000000000000000000000000000000000000000000000000000",Ld=BigInt(0),Ud=BigInt(1),Fd=BigInt(2),jd=BigInt(27),Hd=BigInt(28),uc=BigInt(35),uo={};function Gd(t){return Hi(tr(t),32)}var Fo,jo,Ho,Ti;const $r=class $r{constructor(e,r,n,s){$(this,Fo);$(this,jo);$(this,Ho);$(this,Ti);Xl(e,uo,"Signature"),k(this,Fo,r),k(this,jo,n),k(this,Ho,s),k(this,Ti,null)}get r(){return O(this,Fo)}set r(e){L(Io(e)===32,"invalid r","value",e),k(this,Fo,oe(e))}get s(){return O(this,jo)}set s(e){L(Io(e)===32,"invalid s","value",e);const r=oe(e);L(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),k(this,jo,r)}get v(){return O(this,Ho)}set v(e){const r=we(e,"value");L(r===27||r===28,"invalid v","v",e),k(this,Ho,r)}get networkV(){return O(this,Ti)}get legacyChainId(){const e=this.networkV;return e==null?null:$r.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=De(this.s);return this.yParity&&(e[0]|=128),oe(e)}get compactSerialized(){return mt([this.r,this.yParityAndS])}get serialized(){return mt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new $r(uo,this.r,this.s,this.v);return this.networkV&&k(e,Ti,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=le(e,"v");return r==jd||r==Hd?Ld:(L(r>=uc,"invalid EIP-155 v","v",e),(r-uc)/Fd)}static getChainIdV(e,r){return le(e)*Fd+BigInt(35+r-27)}static getNormalizedV(e){const r=le(e);return r===Ld||r===jd?27:r===Ud||r===Hd?28:(L(r>=uc,"invalid v","v",e),r&Ud?27:28)}static from(e){function r(m,d){L(m,d,"signature",e)}if(e==null)return new $r(uo,Dd,Dd,27);if(typeof e=="string"){const m=De(e,"signature");if(m.length===64){const d=oe(m.slice(0,32)),l=m.slice(32,64),f=l[0]&128?28:27;return l[0]&=127,new $r(uo,d,oe(l),f)}if(m.length===65){const d=oe(m.slice(0,32)),l=m.slice(32,64);r((l[0]&128)===0,"non-canonical s");const f=$r.getNormalizedV(m[64]);return new $r(uo,d,oe(l),f)}r(!1,"invalid raw signature length")}if(e instanceof $r)return e.clone();const n=e.r;r(n!=null,"missing r");const s=Gd(n),i=function(m,d){if(m!=null)return Gd(m);if(d!=null){r(Qe(d,32),"invalid yParityAndS");const l=De(d);return l[0]&=127,oe(l)}r(!1,"missing s")}(e.s,e.yParityAndS);r((De(i)[0]&128)==0,"non-canonical s");const{networkV:a,v:o}=function(m,d,l){if(m!=null){const f=le(m);return{networkV:f>=uc?f:void 0,v:$r.getNormalizedV(f)}}if(d!=null)return r(Qe(d,32),"invalid yParityAndS"),{v:De(d)[0]&128?28:27};if(l!=null){switch(we(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new $r(uo,s,i,o);return a&&k(c,Ti,a),r(e.yParity==null||we(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Fo=new WeakMap,jo=new WeakMap,Ho=new WeakMap,Ti=new WeakMap;let Zr=$r;var Hn;const di=class di{constructor(e){$(this,Hn);L(Io(e)===32,"invalid private key","privateKey","[REDACTED]"),k(this,Hn,oe(e))}get privateKey(){return O(this,Hn)}get publicKey(){return di.computePublicKey(O(this,Hn))}get compressedPublicKey(){return di.computePublicKey(O(this,Hn),!0)}sign(e){L(Io(e)===32,"invalid digest length","digest",e);const r=_s.sign(er(e),er(O(this,Hn)),{lowS:!0});return Zr.from({r:zs(r.r,32),s:zs(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=di.computePublicKey(e);return oe(_s.getSharedSecret(er(O(this,Hn)),De(r),!1))}static computePublicKey(e,r){let n=De(e,"key");if(n.length===32){const i=_s.getPublicKey(n,!!r);return oe(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=_s.ProjectivePoint.fromHex(n);return oe(s.toRawBytes(r))}static recoverPublicKey(e,r){L(Io(e)===32,"invalid digest length","digest",e);const n=Zr.from(r);let s=_s.Signature.fromCompact(er(mt([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(er(e));return L(i!=null,"invalid signautre for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=_s.ProjectivePoint.fromHex(di.computePublicKey(e).substring(2)),i=_s.ProjectivePoint.fromHex(di.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};Hn=new WeakMap;let Cl=di;const ZA=BigInt(0),XA=BigInt(36);function $d(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=De(yt(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Oh={};for(let t=0;t<10;t++)Oh[String(t)]=String(t);for(let t=0;t<26;t++)Oh[String.fromCharCode(65+t)]=String(10+t);const Wd=15;function YA(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Oh[n]).join("");for(;e.length>=Wd;){let n=e.substring(0,Wd);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const eE=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function tE(t){t=t.toLowerCase();let e=ZA;for(let r=0;r<t.length;r++)e=e*XA+eE[t[r]];return e}function Ve(t){if(L(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=$d(t);return L(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){L(t.substring(2,4)===YA(t),"bad icap checksum","address",t);let e=tE(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return $d("0x"+e)}L(!1,"invalid address","address",t)}function rE(t){const e=Ve(t.from);let n=le(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Ve(lt(yt(Gi([e,n])),12))}function hg(t){return t&&typeof t.getAddress=="function"}async function Ju(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(q(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),L(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ve(r)}function nr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ve(t):(q(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Ju(t,e.resolveName(t)));if(hg(t))return Ju(t,t.getAddress());if(t&&typeof t.then=="function")return Ju(t,t);L(!1,"unsupported addressable value","target",t)}const Bn={};function ie(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Gt(Bn,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Le(t,e){return new Gt(Bn,`bytes${e||""}`,t,{size:e})}const Vd=Symbol.for("_ethers_typed");var Ci;const Mn=class Mn{constructor(e,r,n,s){F(this,"type");F(this,"value");$(this,Ci);F(this,"_typedSymbol");s==null&&(s=null),Xl(Bn,e,"Typed"),me(this,{_typedSymbol:Vd,type:r,value:n}),k(this,Ci,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return O(this,Ci)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return O(this,Ci)===!0?-1:O(this,Ci)===!1?this.value.length:null}static from(e,r){return new Mn(Bn,e,r)}static uint8(e){return ie(e,8)}static uint16(e){return ie(e,16)}static uint24(e){return ie(e,24)}static uint32(e){return ie(e,32)}static uint40(e){return ie(e,40)}static uint48(e){return ie(e,48)}static uint56(e){return ie(e,56)}static uint64(e){return ie(e,64)}static uint72(e){return ie(e,72)}static uint80(e){return ie(e,80)}static uint88(e){return ie(e,88)}static uint96(e){return ie(e,96)}static uint104(e){return ie(e,104)}static uint112(e){return ie(e,112)}static uint120(e){return ie(e,120)}static uint128(e){return ie(e,128)}static uint136(e){return ie(e,136)}static uint144(e){return ie(e,144)}static uint152(e){return ie(e,152)}static uint160(e){return ie(e,160)}static uint168(e){return ie(e,168)}static uint176(e){return ie(e,176)}static uint184(e){return ie(e,184)}static uint192(e){return ie(e,192)}static uint200(e){return ie(e,200)}static uint208(e){return ie(e,208)}static uint216(e){return ie(e,216)}static uint224(e){return ie(e,224)}static uint232(e){return ie(e,232)}static uint240(e){return ie(e,240)}static uint248(e){return ie(e,248)}static uint256(e){return ie(e,256)}static uint(e){return ie(e,256)}static int8(e){return ie(e,-8)}static int16(e){return ie(e,-16)}static int24(e){return ie(e,-24)}static int32(e){return ie(e,-32)}static int40(e){return ie(e,-40)}static int48(e){return ie(e,-48)}static int56(e){return ie(e,-56)}static int64(e){return ie(e,-64)}static int72(e){return ie(e,-72)}static int80(e){return ie(e,-80)}static int88(e){return ie(e,-88)}static int96(e){return ie(e,-96)}static int104(e){return ie(e,-104)}static int112(e){return ie(e,-112)}static int120(e){return ie(e,-120)}static int128(e){return ie(e,-128)}static int136(e){return ie(e,-136)}static int144(e){return ie(e,-144)}static int152(e){return ie(e,-152)}static int160(e){return ie(e,-160)}static int168(e){return ie(e,-168)}static int176(e){return ie(e,-176)}static int184(e){return ie(e,-184)}static int192(e){return ie(e,-192)}static int200(e){return ie(e,-200)}static int208(e){return ie(e,-208)}static int216(e){return ie(e,-216)}static int224(e){return ie(e,-224)}static int232(e){return ie(e,-232)}static int240(e){return ie(e,-240)}static int248(e){return ie(e,-248)}static int256(e){return ie(e,-256)}static int(e){return ie(e,-256)}static bytes1(e){return Le(e,1)}static bytes2(e){return Le(e,2)}static bytes3(e){return Le(e,3)}static bytes4(e){return Le(e,4)}static bytes5(e){return Le(e,5)}static bytes6(e){return Le(e,6)}static bytes7(e){return Le(e,7)}static bytes8(e){return Le(e,8)}static bytes9(e){return Le(e,9)}static bytes10(e){return Le(e,10)}static bytes11(e){return Le(e,11)}static bytes12(e){return Le(e,12)}static bytes13(e){return Le(e,13)}static bytes14(e){return Le(e,14)}static bytes15(e){return Le(e,15)}static bytes16(e){return Le(e,16)}static bytes17(e){return Le(e,17)}static bytes18(e){return Le(e,18)}static bytes19(e){return Le(e,19)}static bytes20(e){return Le(e,20)}static bytes21(e){return Le(e,21)}static bytes22(e){return Le(e,22)}static bytes23(e){return Le(e,23)}static bytes24(e){return Le(e,24)}static bytes25(e){return Le(e,25)}static bytes26(e){return Le(e,26)}static bytes27(e){return Le(e,27)}static bytes28(e){return Le(e,28)}static bytes29(e){return Le(e,29)}static bytes30(e){return Le(e,30)}static bytes31(e){return Le(e,31)}static bytes32(e){return Le(e,32)}static address(e){return new Mn(Bn,"address",e)}static bool(e){return new Mn(Bn,"bool",!!e)}static bytes(e){return new Mn(Bn,"bytes",e)}static string(e){return new Mn(Bn,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Mn(Bn,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Vd}static dereference(e,r){if(Mn.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Ci=new WeakMap;let Gt=Mn;class nE extends ns{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Gt.dereference(r,"string");try{n=Ve(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return Ve(zs(e.readValue(),20))}}class sE extends ns{constructor(r){super(r.name,r.type,"_",r.dynamic);F(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function dg(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(m=>{const d=m.localName;return q(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:r}),q(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:r}),c[d]=!0,r[d]})}else L(!1,"invalid tuple value","tuple",r);L(e.length===n.length,"types/value length mismatch","tuple",r);let s=new Bf,i=new Bf,a=[];e.forEach((c,m)=>{let d=n[m];if(c.dynamic){let l=i.length;c.encode(i,d);let f=s.writeUpdatableValue();a.push(g=>{f(g+l)})}else c.encode(s,d)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function pg(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),c=s.subReader(o);try{a=i.decode(c)}catch(m){if(Mt(m,"BUFFER_OVERRUN"))throw m;a=m,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(Mt(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");r.push(a),n.push(i.localName||null)}),Oa.fromItems(r,n)}class iE extends ns{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",i,s,a);F(this,"coder");F(this,"length");me(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=Gt.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),Vm(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<s.length;o++)a.push(this.coder);return dg(r,a,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),q(n*rr<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*rr,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new sE(this.coder));return pg(r,s)}}class oE extends ns{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Gt.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class mg extends ns{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=er(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class aE extends mg{constructor(e){super("bytes",e)}decode(e){return oe(super.decode(e))}}class lE extends ns{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);F(this,"size");me(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=er(Gt.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return oe(r.readBytes(this.size))}}const cE=new Uint8Array([]);class uE extends ns{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(cE)}decode(e){return e.readBytes(0),null}}const fE=BigInt(0),hE=BigInt(1),dE=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class pE extends ns{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);F(this,"size");F(this,"signed");me(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=le(Gt.dereference(n,this.type)),i=gi(dE,rr*8);if(this.signed){let a=gi(i,this.size*8-1);(s>a||s<-(a+hE))&&this._throwError("value out-of-bounds",n),s=Qm(s,8*rr)}else(s<fE||s>gi(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=gi(r.readValue(),this.size*8);return this.signed&&(n=Bc(n,this.size*8)),n}}class mE extends mg{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Yn(Gt.dereference(r,"string")))}decode(e){return Mc(super.decode(e))}}class fc extends ns{constructor(r,n){let s=!1;const i=[];r.forEach(o=>{o.dynamic&&(s=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,n,s);F(this,"coders");me(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[i]))}),Object.freeze(r)}encode(r,n){const s=Gt.dereference(n,"tuple");return dg(r,this.coders,s)}decode(r){return pg(r,this.coders)}}function $i(t){return yt(Yn(t))}var gE="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";const zd=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),qd=4;function yE(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let x=1;x<n;x++)i.push(s+=r());let a=r(),o=e;e+=a;let c=0,m=0;function d(){return c==0&&(m=m<<8|t[e++],c=8),m>>--c&1}const l=31,f=2**l,g=f>>>1,h=g>>1,u=f-1;let b=0;for(let x=0;x<l;x++)b=b<<1|d();let p=[],y=0,v=f;for(;;){let x=Math.floor(((b-y+1)*s-1)/v),C=0,T=n;for(;T-C>1;){let I=C+T>>>1;x<i[I]?T=I:C=I}if(C==0)break;p.push(C);let A=y+Math.floor(v*i[C]/s),S=y+Math.floor(v*i[C+1]/s)-1;for(;!((A^S)&g);)b=b<<1&u|d(),A=A<<1&u,S=S<<1&u|1;for(;A&~S&h;)b=b&g|b<<1&u>>>1|d(),A=A<<1^g,S=(S^g)<<1|g|1;y=A,v=1+S-A}let E=n-4;return p.map(x=>{switch(x-E){case 3:return E+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return E+256+(t[o++]<<8|t[o++]);case 1:return E+t[o++];default:return x-1}})}function bE(t){let e=0;return()=>t[e++]}function gg(t){return bE(yE(wE(t)))}function wE(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}function vE(t){return t&1?~t>>1:t>>1}function AE(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=vE(e());return r}function Pl(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function yg(t){return Nl(()=>{let e=Pl(t);if(e.length)return e})}function bg(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(EE(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(_E(r,t))}return e.flat()}function Nl(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function wg(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)AE(t,r).forEach((i,a)=>n[a].push(i));return n}function EE(t,e){let r=1+e(),n=e(),s=Nl(e);return wg(s.length,1+t,e).flatMap((a,o)=>{let[c,...m]=a;return Array(s[o]).fill().map((d,l)=>{let f=l*n;return[c+l*r,m.map(g=>g+f)]})})}function _E(t,e){let r=1+e();return wg(r,1+t,e).map(s=>[s[0],s.slice(1)])}function xE(t){let e=[],r=Pl(t);return s(n([]),[]),e;function n(i){let a=t(),o=Nl(()=>{let c=Pl(t).map(m=>r[m]);if(c.length)return n(c)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,c){if(!(i&4&&c===o[o.length-1])){i&2&&(c=o[o.length-1]),i&1&&e.push(o);for(let m of a)for(let d of m.Q)s(m,[...o,d],c)}}}function SE(t){return t.toString(16).toUpperCase().padStart(2,"0")}function vg(t){return`{${SE(t)}}`}function OE(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Ia(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function IE(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var TE="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";const Rl=44032,Lc=4352,Uc=4449,Fc=4519,Ag=19,Eg=21,Ta=28,jc=Eg*Ta,CE=Ag*jc,PE=Rl+CE,NE=Lc+Ag,RE=Uc+Eg,kE=Fc+Ta;function gl(t){return t>>24&255}function _g(t){return t&16777215}let Lf,Qd,Uf,vc;function BE(){let t=gg(TE);Lf=new Map(yg(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),Qd=new Set(Pl(t)),Uf=new Map,vc=new Map;for(let[e,r]of bg(t)){if(!Qd.has(e)&&r.length==2){let[n,s]=r,i=vc.get(n);i||(i=new Map,vc.set(n,i)),i.set(s,e)}Uf.set(e,r.reverse())}}function xg(t){return t>=Rl&&t<PE}function ME(t,e){if(t>=Lc&&t<NE&&e>=Uc&&e<RE)return Rl+(t-Lc)*jc+(e-Uc)*Ta;if(xg(t)&&e>Fc&&e<kE&&(t-Rl)%Ta==0)return t+(e-Fc);{let r=vc.get(t);return r&&(r=r.get(e),r)?r:-1}}function Sg(t){Lf||BE();let e=[],r=[],n=!1;function s(i){let a=Lf.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(xg(i)){let a=i-Rl,o=a/jc|0,c=a%jc/Ta|0,m=a%Ta;s(Lc+o),s(Uc+c),m>0&&s(Fc+m)}else{let a=Uf.get(i);a?r.push(...a):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=gl(e[0]);for(let a=1;a<e.length;a++){let o=gl(e[a]);if(o==0||i<=o){i=o;continue}let c=a-1;for(;;){let m=e[c+1];if(e[c+1]=e[c],e[c]=m,!c||(i=gl(e[--c]),i<=o))break}i=gl(e[a])}}return e}function DE(t){let e=[],r=[],n=-1,s=0;for(let i of t){let a=gl(i),o=_g(i);if(n==-1)a==0?n=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(n,...r),r.length=0,n=o):r.push(o),s=a;else{let c=ME(n,o);c>=0?n=c:s==0&&a==0?(e.push(n),n=o):(r.push(o),s=a)}}return n>=0&&e.push(n,...r),e}function Og(t){return Sg(t).map(_g)}function LE(t){return DE(Sg(t))}const Jd=45,Ig=".",Tg=65039,Cg=1,Hc=t=>Array.from(t);function kl(t,e){return t.P.has(e)||t.Q.has(e)}class UE extends Array{get is_emoji(){return!0}}let Ff,Pg,yi,jf,Ng,Co,Ku,mo,ui,Kd,Hf;function Ih(){if(Ff)return;let t=gg(gE);const e=()=>Pl(t),r=()=>new Set(e()),n=(d,l)=>l.forEach(f=>d.add(f));Ff=new Map(bg(t)),Pg=r(),yi=e(),jf=new Set(e().map(d=>yi[d])),yi=new Set(yi),Ng=r(),r();let s=yg(t),i=t();const a=()=>{let d=new Set;return e().forEach(l=>n(d,s[l])),n(d,e()),d};Co=Nl(d=>{let l=Nl(t).map(f=>f+96);if(l.length){let f=d>=i;l[0]-=32,l=Ia(l),f&&(l=`Restricted[${l}]`);let g=a(),h=a(),u=!t();return{N:l,P:g,Q:h,M:u,R:f}}}),Ku=r(),mo=new Map;let o=e().concat(Hc(Ku)).sort((d,l)=>d-l);o.forEach((d,l)=>{let f=t(),g=o[l]=f?o[l-f]:{V:[],M:new Map};g.V.push(d),Ku.has(d)||mo.set(d,g)});for(let{V:d,M:l}of new Set(mo.values())){let f=[];for(let h of d){let u=Co.filter(p=>kl(p,h)),b=f.find(({G:p})=>u.some(y=>p.has(y)));b||(b={G:new Set,V:[]},f.push(b)),b.V.push(h),n(b.G,u)}let g=f.flatMap(h=>Hc(h.G));for(let{G:h,V:u}of f){let b=new Set(g.filter(p=>!h.has(p)));for(let p of u)l.set(p,b)}}ui=new Set;let c=new Set;const m=d=>ui.has(d)?c.add(d):ui.add(d);for(let d of Co){for(let l of d.P)m(l);for(let l of d.Q)m(l)}for(let d of ui)!mo.has(d)&&!c.has(d)&&mo.set(d,Cg);n(ui,Og(ui)),Kd=xE(t).map(d=>UE.from(d)).sort(IE),Hf=new Map;for(let d of Kd){let l=[Hf];for(let f of d){let g=l.map(h=>{let u=h.get(f);return u||(u=new Map,h.set(f,u)),u});f===Tg?l.push(...g):l=g}for(let f of l)f.V=d}}function Th(t){return(Rg(t)?"":`${Ch(yu([t]))} `)+vg(t)}function Ch(t){return`"${t}"‎`}function FE(t){if(t.length>=4&&t[2]==Jd&&t[3]==Jd)throw new Error(`invalid label extension: "${Ia(t.slice(0,4))}"`)}function jE(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function HE(t){let e=t[0],r=zd.get(e);if(r)throw Al(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let a=zd.get(e);if(a){if(s==i)throw Al(`${r} + ${a}`);s=i+1,r=a}}if(s==n)throw Al(`trailing ${r}`)}function yu(t,e=1/0,r=vg){let n=[];GE(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];Rg(o)&&(n.push(Ia(t.slice(s,a))),n.push(r(o)),s=a+1)}return n.push(Ia(t.slice(s,i))),n.join("")}function GE(t){return Ih(),yi.has(t)}function Rg(t){return Ih(),Ng.has(t)}function $E(t){return qE(WE(t,LE,KE))}function WE(t,e,r){if(!t)return[];Ih();let n=0;return t.split(Ig).map(s=>{let i=OE(s),a={input:i,offset:n};n+=i.length+1;try{let o=a.tokens=JE(i,e,r),c=o.length,m;if(!c)throw new Error("empty label");let d=a.output=o.flat();if(jE(d),!(a.emoji=c>1||o[0].is_emoji)&&d.every(f=>f<128))FE(d),m="ASCII";else{let f=o.flatMap(g=>g.is_emoji?[]:g);if(!f.length)m="Emoji";else{if(yi.has(d[0]))throw Al("leading combining mark");for(let u=1;u<c;u++){let b=o[u];if(!b.is_emoji&&yi.has(b[0]))throw Al(`emoji + combining mark: "${Ia(o[u-1])} + ${yu([b[0]])}"`)}HE(d);let g=Hc(new Set(f)),[h]=zE(g);QE(h,f),VE(h,g),m=h.N}}a.type=m}catch(o){a.error=o}return a})}function VE(t,e){let r,n=[];for(let s of e){let i=mo.get(s);if(i===Cg)return;if(i){let a=i.M.get(s);if(r=r?r.filter(o=>a.has(o)):Hc(a),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>kl(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function zE(t){let e=Co;for(let r of t){let n=e.filter(s=>kl(s,r));if(!n.length)throw Co.some(s=>kl(s,r))?Bg(e[0],r):kg(r);if(e=n,n.length==1)break}return e}function qE(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${Ch(yu(e,63))}: ${s}`)}return Ia(n)}).join(Ig)}function kg(t){return new Error(`disallowed character: ${Th(t)}`)}function Bg(t,e){let r=Th(e),n=Co.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Al(t){return new Error(`illegal placement: ${t}`)}function QE(t,e){for(let r of e)if(!kl(t,r))throw Bg(t,r);if(t.M){let r=Og(e);for(let n=1,s=r.length;n<s;n++)if(jf.has(r[n])){let i=n+1;for(let a;i<s&&jf.has(a=r[i]);i++)for(let o=n;o<i;o++)if(r[o]==a)throw new Error(`duplicate non-spacing marks: ${Th(a)}`);if(i-n>qd)throw new Error(`excessive non-spacing marks: ${Ch(yu(r.slice(n-1,i)))} (${i-n}/${qd})`);n=i}}}function JE(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=ZE(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let a=t.pop();if(ui.has(a))s.push(a);else{let o=Ff.get(a);if(o)s.push(...o);else if(!Pg.has(a))throw kg(a)}}}return s.length&&n.push(e(s)),n}function KE(t){return t.filter(e=>e!=Tg)}function ZE(t,e){let r=Hf,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Mg=new Uint8Array(32);Mg.fill(0);function Zd(t){return L(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Dg(t){const e=Yn(XE(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(Zd(e.slice(n,s))),n=s+1);return L(n<e.length,"invalid ENS name; empty component","name",t),r.push(Zd(e.slice(n))),r}function XE(t){try{if(t.length===0)throw new Error("empty label");return $E(t)}catch(e){L(!1,`invalid ENS name (${e.message})`,"name",t)}}function Gf(t){L(typeof t=="string","invalid ENS name; not a string","name",t),L(t.length,"invalid ENS name (empty label)","name",t);let e=Mg;const r=Dg(t);for(;r.length;)e=yt(mt([e,yt(r.pop())]));return oe(e)}function YE(t,e){const r=e;return L(r<=255,"DNS encoded label cannot exceed 255","length",r),oe(mt(Dg(t).map(n=>{L(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function Zu(t,e){return{address:Ve(t),storageKeys:e.map((r,n)=>(L(Qe(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Zi(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(L(r.length===2,"invalid slot set",`value[${n}]`,r),Zu(r[0],r[1])):(L(r!=null&&typeof r=="object","invalid address-slot set","value",t),Zu(r.address,r.storageKeys)));L(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return Zu(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function e_(t){let e;return typeof t=="string"?e=Cl.computePublicKey(t,!1):e=t.publicKey,Ve(yt("0x"+e.substring(4)).substring(26))}function t_(t,e){return e_(Cl.recoverPublicKey(t,e))}const Tt=BigInt(0),r_=BigInt(2),n_=BigInt(27),s_=BigInt(28),i_=BigInt(35),o_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Xu=4096*32;function Xd(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=ka(e).substring(4),"0x"+r}function bu(t){return t==="0x"?null:Ve(t)}function Ph(t,e){try{return Zi(t)}catch(r){L(!1,r.message,e,t)}}function Yl(t,e){return t==="0x"?0:we(t,e)}function pt(t,e){if(t==="0x")return Tt;const r=le(t,e);return L(r<=o_,"value exceeds uint size",e,r),r}function Xe(t,e){const r=le(t,"value"),n=tr(r);return L(n.length<=32,"value too large",`tx.${e}`,r),n}function Nh(t){return Zi(t).map(e=>[e.address,e.storageKeys])}function a_(t,e){L(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)L(Qe(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function l_(t){const e=gu(t);L(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:Yl(e[0],"nonce"),gasPrice:pt(e[1],"gasPrice"),gasLimit:pt(e[2],"gasLimit"),to:bu(e[3]),value:pt(e[4],"value"),data:oe(e[5]),chainId:Tt};if(e.length===6)return r;const n=pt(e[6],"v"),s=pt(e[7],"r"),i=pt(e[8],"s");if(s===Tt&&i===Tt)r.chainId=n;else{let a=(n-i_)/r_;a<Tt&&(a=Tt),r.chainId=a,L(a!==Tt||n===n_||n===s_,"non-canonical legacy v","v",e[6]),r.signature=Zr.from({r:Hi(e[7],32),s:Hi(e[8],32),v:n})}return r}function c_(t,e){const r=[Xe(t.nonce,"nonce"),Xe(t.gasPrice||0,"gasPrice"),Xe(t.gasLimit,"gasLimit"),t.to||"0x",Xe(t.value,"value"),t.data];let n=Tt;if(t.chainId!=Tt)n=le(t.chainId,"tx.chainId"),L(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Tt&&(r.push(tr(n)),r.push("0x"),r.push("0x")),Gi(r);let s=BigInt(27+e.yParity);return n!==Tt?s=Zr.getChainIdV(n,e.v):BigInt(e.v)!==s&&L(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(tr(s)),r.push(tr(e.r)),r.push(tr(e.s)),Gi(r)}function Rh(t,e){let r;try{if(r=Yl(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{L(!1,"invalid yParity","yParity",e[0])}const n=Hi(e[1],32),s=Hi(e[2],32),i=Zr.from({r:n,s,yParity:r});t.signature=i}function u_(t){const e=gu(De(t).slice(1));L(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",oe(t));const r={type:2,chainId:pt(e[0],"chainId"),nonce:Yl(e[1],"nonce"),maxPriorityFeePerGas:pt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:pt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:pt(e[4],"gasLimit"),to:bu(e[5]),value:pt(e[6],"value"),data:oe(e[7]),accessList:Ph(e[8],"accessList")};return e.length===9||Rh(r,e.slice(9)),r}function f_(t,e){const r=[Xe(t.chainId,"chainId"),Xe(t.nonce,"nonce"),Xe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xe(t.maxFeePerGas||0,"maxFeePerGas"),Xe(t.gasLimit,"gasLimit"),t.to||"0x",Xe(t.value,"value"),t.data,Nh(t.accessList||[])];return e&&(r.push(Xe(e.yParity,"yParity")),r.push(tr(e.r)),r.push(tr(e.s))),mt(["0x02",Gi(r)])}function h_(t){const e=gu(De(t).slice(1));L(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",oe(t));const r={type:1,chainId:pt(e[0],"chainId"),nonce:Yl(e[1],"nonce"),gasPrice:pt(e[2],"gasPrice"),gasLimit:pt(e[3],"gasLimit"),to:bu(e[4]),value:pt(e[5],"value"),data:oe(e[6]),accessList:Ph(e[7],"accessList")};return e.length===8||Rh(r,e.slice(8)),r}function d_(t,e){const r=[Xe(t.chainId,"chainId"),Xe(t.nonce,"nonce"),Xe(t.gasPrice||0,"gasPrice"),Xe(t.gasLimit,"gasLimit"),t.to||"0x",Xe(t.value,"value"),t.data,Nh(t.accessList||[])];return e&&(r.push(Xe(e.yParity,"recoveryParam")),r.push(tr(e.r)),r.push(tr(e.s))),mt(["0x01",Gi(r)])}function p_(t){let e=gu(De(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],a=e[2],o=e[3];L(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),L(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),L(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),L(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),L(i.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:a[c],proof:o[c]});e=e[0]}L(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",oe(t));const s={type:3,chainId:pt(e[0],"chainId"),nonce:Yl(e[1],"nonce"),maxPriorityFeePerGas:pt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:pt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:pt(e[4],"gasLimit"),to:bu(e[5]),value:pt(e[6],"value"),data:oe(e[7]),accessList:Ph(e[8],"accessList"),maxFeePerBlobGas:pt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),L(s.to!=null,`invalid address for transaction type: ${r}`,"data",t),L(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)L(Qe(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Rh(s,e.slice(11)),s}function m_(t,e,r){const n=[Xe(t.chainId,"chainId"),Xe(t.nonce,"nonce"),Xe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xe(t.maxFeePerGas||0,"maxFeePerGas"),Xe(t.gasLimit,"gasLimit"),t.to||Tl,Xe(t.value,"value"),t.data,Nh(t.accessList||[]),Xe(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),a_(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Xe(e.yParity,"yParity")),n.push(tr(e.r)),n.push(tr(e.s)),r)?mt(["0x03",Gi([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])]):mt(["0x03",Gi(n)])}var fn,Go,$o,Wo,Vo,zo,qo,Qo,Jo,Ko,Zo,Xo,Pi,Ts,Gn,Cs,Yo,Ac;const Dn=class Dn{constructor(){$(this,Yo);$(this,fn);$(this,Go);$(this,$o);$(this,Wo);$(this,Vo);$(this,zo);$(this,qo);$(this,Qo);$(this,Jo);$(this,Ko);$(this,Zo);$(this,Xo);$(this,Pi);$(this,Ts);$(this,Gn);$(this,Cs);k(this,fn,null),k(this,Go,null),k(this,Wo,0),k(this,Vo,Tt),k(this,zo,null),k(this,qo,null),k(this,Qo,null),k(this,$o,"0x"),k(this,Jo,Tt),k(this,Ko,Tt),k(this,Zo,null),k(this,Xo,null),k(this,Pi,null),k(this,Ts,null),k(this,Cs,null),k(this,Gn,null)}get type(){return O(this,fn)}set type(e){switch(e){case null:k(this,fn,null);break;case 0:case"legacy":k(this,fn,0);break;case 1:case"berlin":case"eip-2930":k(this,fn,1);break;case 2:case"london":case"eip-1559":k(this,fn,2);break;case 3:case"cancun":case"eip-4844":k(this,fn,3);break;default:L(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=O(this,Go);return e==null&&this.type===3?Tl:e}set to(e){k(this,Go,e==null?null:Ve(e))}get nonce(){return O(this,Wo)}set nonce(e){k(this,Wo,we(e,"value"))}get gasLimit(){return O(this,Vo)}set gasLimit(e){k(this,Vo,le(e))}get gasPrice(){const e=O(this,zo);return e==null&&(this.type===0||this.type===1)?Tt:e}set gasPrice(e){k(this,zo,e==null?null:le(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=O(this,qo);return e??(this.type===2||this.type===3?Tt:null)}set maxPriorityFeePerGas(e){k(this,qo,e==null?null:le(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=O(this,Qo);return e??(this.type===2||this.type===3?Tt:null)}set maxFeePerGas(e){k(this,Qo,e==null?null:le(e,"maxFeePerGas"))}get data(){return O(this,$o)}set data(e){k(this,$o,oe(e))}get value(){return O(this,Jo)}set value(e){k(this,Jo,le(e,"value"))}get chainId(){return O(this,Ko)}set chainId(e){k(this,Ko,le(e))}get signature(){return O(this,Zo)||null}set signature(e){k(this,Zo,e==null?null:Zr.from(e))}get accessList(){const e=O(this,Xo)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){k(this,Xo,e==null?null:Zi(e))}get maxFeePerBlobGas(){const e=O(this,Pi);return e==null&&this.type===3?Tt:e}set maxFeePerBlobGas(e){k(this,Pi,e==null?null:le(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=O(this,Ts);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){L(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)L(Qe(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}k(this,Ts,e)}get blobs(){return O(this,Cs)==null?null:O(this,Cs).map(e=>Object.assign({},e))}set blobs(e){if(e==null){k(this,Cs,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(Sh(i)){q(O(this,Gn),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=De(i);if(L(a.length<=Xu,"blob is too large",`blobs[${s}]`,i),a.length!==Xu){const m=new Uint8Array(Xu);m.set(a),a=m}const o=O(this,Gn).blobToKzgCommitment(a),c=oe(O(this,Gn).computeBlobKzgProof(a,o));r.push({data:oe(a),commitment:oe(o),proof:c}),n.push(Xd(1,o))}else{const a=oe(i.commitment);r.push({data:oe(i.data),commitment:a,proof:oe(i.proof)}),n.push(Xd(1,a))}}k(this,Cs,r),k(this,Ts,n)}get kzg(){return O(this,Gn)}set kzg(e){k(this,Gn,e)}get hash(){return this.signature==null?null:yt(K(this,Yo,Ac).call(this,!0,!1))}get unsignedHash(){return yt(this.unsignedSerialized)}get from(){return this.signature==null?null:t_(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Cl.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return K(this,Yo,Ac).call(this,!0,!0)}get unsignedSerialized(){return K(this,Yo,Ac).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=O(this,Pi)!=null||O(this,Ts);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),q(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),q(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Dn.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Dn;if(typeof e=="string"){const n=De(e);if(n[0]>=127)return Dn.from(l_(n));switch(n[0]){case 1:return Dn.from(h_(n));case 2:return Dn.from(u_(n));case 3:return Dn.from(p_(n))}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Dn;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Zr.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(L(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),L(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(L(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),L(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};fn=new WeakMap,Go=new WeakMap,$o=new WeakMap,Wo=new WeakMap,Vo=new WeakMap,zo=new WeakMap,qo=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Ko=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,Pi=new WeakMap,Ts=new WeakMap,Gn=new WeakMap,Cs=new WeakMap,Yo=new WeakSet,Ac=function(e,r){q(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return c_(this,n);case 1:return d_(this,n);case 2:return f_(this,n);case 3:return m_(this,n,r?this.blobs:null)}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Gc=Dn;const Lg=new Uint8Array(32);Lg.fill(0);const g_=BigInt(-1),Ug=BigInt(0),Fg=BigInt(1),y_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function b_(t){const e=De(t),r=e.length%32;return r?mt([e,Lg.slice(r)]):oe(e)}const w_=zs(Fg,32),v_=zs(Ug,32),Yd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Yu=["name","version","chainId","verifyingContract","salt"];function ep(t){return function(e){return L(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const A_={name:ep("name"),version:ep("version"),chainId:function(t){const e=le(t,"domain.chainId");return L(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):vo(e)},verifyingContract:function(t){try{return Ve(t).toLowerCase()}catch{}L(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=De(t,"domain.salt");return L(e.length===32,'invalid domain value "salt"',"domain.salt",t),oe(e)}};function ef(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);L(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=gi(y_,r?n-1:n),i=r?(s+Fg)*g_:Ug;return function(a){const o=le(a,"value");return L(o>=i&&o<=s,`value out-of-bounds for ${t}`,"value",o),zs(r?Qm(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return L(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=De(n);return L(s.length===r,`invalid length for ${t}`,"value",n),b_(n)}}}switch(t){case"address":return function(e){return Hi(Ve(e),32)};case"bool":return function(e){return e?w_:v_};case"bytes":return function(e){return yt(e)};case"string":return function(e){return $i(e)}}return null}function tp(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function hc(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var jl,$n,ea,Qc,jg;const Nr=class Nr{constructor(e){$(this,Qc);F(this,"primaryType");$(this,jl);$(this,$n);$(this,ea);k(this,$n,new Map),k(this,ea,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:m,type:d})=>{let{base:l,index:f}=hc(d);return l==="int"&&!e.int&&(l="int256"),l==="uint"&&!e.uint&&(l="uint256"),{name:m,type:l+(f||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),k(this,jl,JSON.stringify(i));for(const c in i){const m=new Set;for(const d of i[c]){L(!m.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),m.add(d.name);const l=hc(d.type).base;L(l!==c,`circular type reference to ${JSON.stringify(l)}`,"types",e),!ef(l)&&(L(n.has(l),`unknown type ${JSON.stringify(l)}`,"types",e),n.get(l).push(c),r.get(c).add(l))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);L(a.length!==0,"missing primary type","types",e),L(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),me(this,{primaryType:a[0]});function o(c,m){L(!m.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),m.add(c);for(const d of r.get(c))if(n.has(d)){o(d,m);for(const l of m)s.get(l).add(d)}m.delete(c)}o(this.primaryType,new Set);for(const[c,m]of s){const d=Array.from(m);d.sort(),O(this,$n).set(c,tp(c,i[c])+d.map(l=>tp(l,i[l])).join(""))}}get types(){return JSON.parse(O(this,jl))}getEncoder(e){let r=O(this,ea).get(e);return r||(r=K(this,Qc,jg).call(this,e),O(this,ea).set(e,r)),r}encodeType(e){const r=O(this,$n).get(e);return L(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return yt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(ef(e))return n(e,r);const s=hc(e).array;if(s)return L(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,n));const i=this.types[e];if(i)return i.reduce((a,{name:o,type:c})=>(a[o]=this._visit(c,r[o],n),a),{});L(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Nr(e)}static getPrimaryType(e){return Nr.from(e).primaryType}static hashStruct(e,r,n){return Nr.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=Yd[n];L(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>Yu.indexOf(n.name)-Yu.indexOf(s.name)),Nr.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return mt(["0x1901",Nr.hashDomain(e),Nr.from(r).hash(n)])}static hash(e,r,n){return yt(Nr.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const i={};e.verifyingContract&&!Qe(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Nr.from(r);a.visit(n,(o,c)=>(o==="address"&&!Qe(c,20)&&(i[c]="0x"),c));for(const o in i)i[o]=await s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(o,c)=>o==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Nr.hashDomain(e);const s={},i=[];Yu.forEach(c=>{const m=e[c];m!=null&&(s[c]=A_[c](m),i.push({name:c,type:Yd[c]}))});const a=Nr.from(r);r=a.types;const o=Object.assign({},r);return L(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),o.EIP712Domain=i,a.encode(n),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(n,(c,m)=>{if(c.match(/^bytes(\d*)/))return oe(De(m));if(c.match(/^u?int/))return le(m).toString();switch(c){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return L(typeof m=="string","invalid string","value",m),m}L(!1,"unsupported type","type",c)})}}};jl=new WeakMap,$n=new WeakMap,ea=new WeakMap,Qc=new WeakSet,jg=function(e){{const s=ef(e);if(s)return s}const r=hc(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return a=>{L(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let o=a.map(i);return O(this,$n).has(s)&&(o=o.map(yt)),yt(mt(o))}}const n=this.types[e];if(n){const s=$i(O(this,$n).get(e));return i=>{const a=n.map(({name:o,type:c})=>{const m=this.getEncoder(c)(i[o]);return O(this,$n).has(c)?yt(m):m});return a.unshift(s),mt(a)}}L(!1,`unknown type: ${e}`,"type",e)};let $c=Nr;function sr(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const E_="external public payable override",__=sr(E_.split(" ")),Hg="constant external internal payable private public pure view override",x_=sr(Hg.split(" ")),Gg="constructor error event fallback function receive struct",$g=sr(Gg.split(" ")),Wg="calldata memory storage payable indexed",S_=sr(Wg.split(" ")),O_="tuple returns",I_=[Gg,Wg,O_,Hg].join(" "),T_=sr(I_.split(" ")),C_={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},P_=new RegExp("^(\\s*)"),N_=new RegExp("^([0-9]+)"),R_=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Vg=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),zg=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var kt,Qr,Hl,$f;const Jc=class Jc{constructor(e){$(this,Hl);$(this,kt);$(this,Qr);k(this,kt,0),k(this,Qr,e.slice())}get offset(){return O(this,kt)}get length(){return O(this,Qr).length-O(this,kt)}clone(){return new Jc(O(this,Qr))}reset(){k(this,kt,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=K(this,Hl,$f).call(this,O(this,kt)+1,e.match+1);return k(this,kt,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;O(this,kt)<e.match-1;){const n=this.peek().linkNext;r.push(K(this,Hl,$f).call(this,O(this,kt)+1,n)),k(this,kt,n)}return k(this,kt,e.match+1),r}peek(){if(O(this,kt)>=O(this,Qr).length)throw new Error("out-of-bounds");return O(this,Qr)[O(this,kt)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return ol(this,kt)._++,e}toString(){const e=[];for(let r=O(this,kt);r<O(this,Qr).length;r++){const n=O(this,Qr)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};kt=new WeakMap,Qr=new WeakMap,Hl=new WeakSet,$f=function(e=0,r=0){return new Jc(O(this,Qr).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Xr=Jc;function Qs(t){const e=[],r=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(P_);o&&(i+=o[1].length,a=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let m=C_[a[0]]||"";if(m){if(c.type=m,c.text=a[0],i++,m==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(m=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(m==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(m==="OPEN_BRACKET")c.type="BRACKET";else if(m==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const l=e.pop().text;d=l+d,e[e.length-1].value=we(l)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(o=a.match(R_),o){if(c.text=o[1],i+=c.text.length,T_.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(zg)){c.type="TYPE";continue}c.type="ID";continue}if(o=a.match(N_),o){c.text=o[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Xr(e.map(a=>Object.freeze(a)))}function rp(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function wu(t,e){if(e.peekKeyword($g)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function rs(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function qg(t){let e=rs(t,x_);return rp(e,sr("constant payable nonpayable".split(" "))),rp(e,sr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function es(t,e){return t.popParams().map(r=>Lt.from(r,e))}function Qg(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return le(t.pop().text);throw new Error("invalid gas")}return null}function Wi(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const k_=new RegExp(/^(.*)\[([0-9]*)\]$/);function np(t){const e=t.match(zg);if(L(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);L(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);L(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const nt={},fr=Symbol.for("_ethers_internal"),sp="_ParamTypeInternal",ip="_ErrorInternal",op="_EventInternal",ap="_ConstructorInternal",lp="_FallbackInternal",cp="_FunctionInternal",up="_StructInternal";var ta,Ec;const Rr=class Rr{constructor(e,r,n,s,i,a,o,c){$(this,ta);F(this,"name");F(this,"type");F(this,"baseType");F(this,"indexed");F(this,"components");F(this,"arrayLength");F(this,"arrayChildren");if(Xl(e,nt,"ParamType"),Object.defineProperty(this,fr,{value:sp}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");me(this,{name:r,type:n,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return K(this,ta,Ec).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(Rr.isParamType(e))return e;if(typeof e=="string")try{return Rr.from(Qs(e),r)}catch{L(!1,"invalid param type","obj",e)}else if(e instanceof Xr){let o="",c="",m=null;rs(e,sr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",m=e.popParams().map(u=>Rr.from(u)),o=`tuple(${m.map(u=>u.format()).join(",")})`):(o=np(e.popType("TYPE")),c=o);let d=null,l=null;for(;e.length&&e.peekType("BRACKET");){const u=e.pop();d=new Rr(nt,"",o,c,null,m,l,d),l=u.value,o+=u.text,c="array",m=null}let f=null;if(rs(e,S_).has("indexed")){if(!r)throw new Error("");f=!0}const h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Rr(nt,h,o,c,f,m,l,d)}const n=e.name;L(!n||typeof n=="string"&&n.match(Vg),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(L(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(k_);if(a){const o=parseInt(a[2]||"-1"),c=Rr.from({type:a[1],components:e.components});return new Rr(nt,n||"",i,"array",s,null,o,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(m=>Rr.from(m)):null;return new Rr(nt,n||"",i,"tuple",s,o,null,null)}return i=np(e.type),new Rr(nt,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[fr]===sp}};ta=new WeakSet,Ec=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=r.slice();o.forEach((c,m)=>{var d;K(d=a,ta,Ec).call(d,e,c,n,l=>{o[m]=l})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(r))o=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");o=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,m)=>{var d;K(d=a[m],ta,Ec).call(d,e,c,n,l=>{o[m]=l})}),s(o);return}const i=n(this.type,r);i.then?e.push(async function(){s(await i)}()):s(i)};let Lt=Rr;class Vi{constructor(e,r,n){F(this,"type");F(this,"inputs");Xl(e,nt,"Fragment"),n=Object.freeze(n.slice()),me(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Vi.from(JSON.parse(e))}catch{}return Vi.from(Qs(e))}if(e instanceof Xr)switch(e.peekKeyword($g)){case"constructor":return Zn.from(e);case"error":return ur.from(e);case"event":return bn.from(e);case"fallback":case"receive":return Ln.from(e);case"function":return wn.from(e);case"struct":return ji.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Zn.from(e);case"error":return ur.from(e);case"event":return bn.from(e);case"fallback":case"receive":return Ln.from(e);case"function":return wn.from(e);case"struct":return ji.from(e)}q(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}L(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Zn.isFragment(e)}static isError(e){return ur.isFragment(e)}static isEvent(e){return bn.isFragment(e)}static isFunction(e){return wn.isFragment(e)}static isStruct(e){return ji.isFragment(e)}}class vu extends Vi{constructor(r,n,s,i){super(r,n,i);F(this,"name");L(typeof s=="string"&&s.match(Vg),"invalid identifier","name",s),i=Object.freeze(i.slice()),me(this,{name:s})}}function Bl(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class ur extends vu{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,fr,{value:ip})}get selector(){return $i(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Bl(e,this.inputs)),r.join(" ")}static from(e){if(ur.isFragment(e))return e;if(typeof e=="string")return ur.from(Qs(e));if(e instanceof Xr){const r=wu("error",e),n=es(e);return Wi(e),new ur(nt,r,n)}return new ur(nt,e.name,e.inputs?e.inputs.map(Lt.from):[])}static isFragment(e){return e&&e[fr]===ip}}class bn extends vu{constructor(r,n,s,i){super(r,"event",n,s);F(this,"anonymous");Object.defineProperty(this,fr,{value:op}),me(this,{anonymous:i})}get topicHash(){return $i(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Bl(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Lt.from(i)),new bn(nt,r,n,!1).topicHash}static from(r){if(bn.isFragment(r))return r;if(typeof r=="string")try{return bn.from(Qs(r))}catch{L(!1,"invalid event fragment","obj",r)}else if(r instanceof Xr){const n=wu("event",r),s=es(r,!0),i=!!rs(r,sr(["anonymous"])).has("anonymous");return Wi(r),new bn(nt,n,s,i)}return new bn(nt,r.name,r.inputs?r.inputs.map(n=>Lt.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[fr]===op}}class Zn extends Vi{constructor(r,n,s,i,a){super(r,n,s);F(this,"payable");F(this,"gas");Object.defineProperty(this,fr,{value:ap}),me(this,{payable:i,gas:a})}format(r){if(q(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${Bl(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Zn.isFragment(r))return r;if(typeof r=="string")try{return Zn.from(Qs(r))}catch{L(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Xr){rs(r,sr(["constructor"]));const n=es(r),s=!!rs(r,__).has("payable"),i=Qg(r);return Wi(r),new Zn(nt,"constructor",n,s,i)}return new Zn(nt,"constructor",r.inputs?r.inputs.map(Lt.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[fr]===ap}}class Ln extends Vi{constructor(r,n,s){super(r,"fallback",n);F(this,"payable");Object.defineProperty(this,fr,{value:lp}),me(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(Ln.isFragment(r))return r;if(typeof r=="string")try{return Ln.from(Qs(r))}catch{L(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Xr){const n=r.toString(),s=r.peekKeyword(sr(["fallback","receive"]));if(L(s,"type must be fallback or receive","obj",n),r.popKeyword(sr(["fallback","receive"]))==="receive"){const c=es(r);return L(c.length===0,"receive cannot have arguments","obj.inputs",c),rs(r,sr(["payable"])),Wi(r),new Ln(nt,[],!0)}let a=es(r);a.length?L(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[Lt.from("bytes")];const o=qg(r);if(L(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),rs(r,sr(["returns"])).has("returns")){const c=es(r);L(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(m=>m.format("minimal")).join(", "))}return Wi(r),new Ln(nt,a,o==="payable")}if(r.type==="receive")return new Ln(nt,[],!0);if(r.type==="fallback"){const n=[Lt.from("bytes")],s=r.stateMutability==="payable";return new Ln(nt,n,s)}L(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[fr]===lp}}class wn extends vu{constructor(r,n,s,i,a,o){super(r,"function",n,i);F(this,"constant");F(this,"outputs");F(this,"stateMutability");F(this,"payable");F(this,"gas");Object.defineProperty(this,fr,{value:cp}),a=Object.freeze(a.slice()),me(this,{constant:s==="view"||s==="pure",gas:o,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return $i(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Bl(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Bl(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Lt.from(i)),new wn(nt,r,"view",n,[],null).selector}static from(r){if(wn.isFragment(r))return r;if(typeof r=="string")try{return wn.from(Qs(r))}catch{L(!1,"invalid function fragment","obj",r)}else if(r instanceof Xr){const s=wu("function",r),i=es(r),a=qg(r);let o=[];rs(r,sr(["returns"])).has("returns")&&(o=es(r));const c=Qg(r);return Wi(r),new wn(nt,s,a,i,o,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new wn(nt,r.name,n,r.inputs?r.inputs.map(Lt.from):[],r.outputs?r.outputs.map(Lt.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[fr]===cp}}class ji extends vu{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,fr,{value:up})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return ji.from(Qs(e))}catch{L(!1,"invalid struct fragment","obj",e)}else if(e instanceof Xr){const r=wu("struct",e),n=es(e);return Wi(e),new ji(nt,r,n)}return new ji(nt,e.name,e.inputs?e.inputs.map(Lt.from):[])}static isFragment(e){return e&&e[fr]===up}}const en=new Map;en.set(0,"GENERIC_PANIC");en.set(1,"ASSERT_FALSE");en.set(17,"OVERFLOW");en.set(18,"DIVIDE_BY_ZERO");en.set(33,"ENUM_RANGE_ERROR");en.set(34,"BAD_STORAGE_DATA");en.set(49,"STACK_UNDERFLOW");en.set(50,"ARRAY_RANGE_ERROR");en.set(65,"OUT_OF_MEMORY");en.set(81,"UNINITIALIZED_FUNCTION_CALL");const B_=new RegExp(/^bytes([0-9]*)$/),M_=new RegExp(/^(u?int)([0-9]*)$/);let tf=null,fp=1024;function D_(t,e,r,n){let s="missing revert data",i=null;const a=null;let o=null;if(r){s="execution reverted";const m=De(r);if(r=oe(r),m.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(m.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(oe(m.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],m.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(oe(m.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],m.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[d]},i=`Panic due to ${en.get(d)||"UNKNOWN"}(${d})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?Ve(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Ve(e.from)),at(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:a,revert:o})}var Ps,go;const Kc=class Kc{constructor(){$(this,Ps)}getDefaultValue(e){const r=e.map(s=>K(this,Ps,go).call(this,Lt.from(s)));return new fc(r,"_").defaultValue()}encode(e,r){Vm(r.length,e.length,"types/values length mismatch");const n=e.map(a=>K(this,Ps,go).call(this,Lt.from(a))),s=new fc(n,"_"),i=new Bf;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>K(this,Ps,go).call(this,Lt.from(a)));return new fc(s,"_").decode(new Mf(r,n,fp))}static _setDefaultMaxInflation(e){L(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),fp=e}static defaultAbiCoder(){return tf==null&&(tf=new Kc),tf}static getBuiltinCallException(e,r,n){return D_(e,r,n,Kc.defaultAbiCoder())}};Ps=new WeakSet,go=function(e){if(e.isArray())return new iE(K(this,Ps,go).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new fc(e.components.map(n=>K(this,Ps,go).call(this,n)),e.name);switch(e.baseType){case"address":return new nE(e.name);case"bool":return new oE(e.name);case"string":return new mE(e.name);case"bytes":return new aE(e.name);case"":return new uE(e.name)}let r=e.type.match(M_);if(r){let n=parseInt(r[2]||"256");return L(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new pE(n/8,r[1]==="int",e.name)}if(r=e.type.match(B_),r){let n=parseInt(r[1]);return L(n!==0&&n<=32,"invalid bytes length","param",e),new lE(n,e.name)}L(!1,"invalid type","type",e.type)};let Ml=Kc;class L_{constructor(e,r,n){F(this,"fragment");F(this,"name");F(this,"signature");F(this,"topic");F(this,"args");const s=e.name,i=e.format();me(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class U_{constructor(e,r,n,s){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");F(this,"value");const i=e.name,a=e.format();me(this,{fragment:e,name:i,args:n,signature:a,selector:r,value:s})}}class F_{constructor(e,r,n){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");const s=e.name,i=e.format();me(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class hp{constructor(e){F(this,"hash");F(this,"_isIndexed");me(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const dp={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},pp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&dp[t.toString()]&&(e=dp[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var hn,dn,pn,Ft,An,_c,xc;const pi=class pi{constructor(e){$(this,An);F(this,"fragments");F(this,"deploy");F(this,"fallback");F(this,"receive");$(this,hn);$(this,dn);$(this,pn);$(this,Ft);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,k(this,pn,new Map),k(this,hn,new Map),k(this,dn,new Map);const n=[];for(const a of r)try{n.push(Vi.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}me(this,{fragments:Object.freeze(n)});let s=null,i=!1;k(this,Ft,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}me(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(L(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":c=O(this,pn);break;case"event":c=O(this,dn);break;case"error":c=O(this,hn);break;default:return}const m=a.format();c.has(m)||c.set(m,a)}),this.deploy||me(this,{deploy:Zn.from("constructor()")}),me(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Ml.defaultAbiCoder()}getFunctionName(e){const r=K(this,An,_c).call(this,e,null,!1);return L(r,"no matching function","key",e),r.name}hasFunction(e){return!!K(this,An,_c).call(this,e,null,!1)}getFunction(e,r){return K(this,An,_c).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(O(this,pn).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(O(this,pn).get(s),n)}}getEventName(e){const r=K(this,An,xc).call(this,e,null,!1);return L(r,"no matching event","key",e),r.name}hasEvent(e){return!!K(this,An,xc).call(this,e,null,!1)}getEvent(e,r){return K(this,An,xc).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(O(this,dn).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(O(this,dn).get(s),n)}}getError(e,r){if(Qe(e)){const s=e.toLowerCase();if(pp[s])return ur.from(pp[s].signature);for(const i of O(this,hn).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of O(this,hn))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?ur.from("error Error(string)"):e==="Panic"?ur.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");L(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=ur.from(e).format(),e==="Error(string)")return ur.from("error Error(string)");if(e==="Panic(uint256)")return ur.from("error Panic(uint256)");const n=O(this,hn).get(e);return n||null}forEachError(e){const r=Array.from(O(this,hn).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(O(this,hn).get(s),n)}}_decodeParams(e,r){return O(this,Ft).decode(e,r)}_encodeParams(e,r){return O(this,Ft).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);L(n,"unknown error","fragment",e),e=n}return L(lt(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,lt(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);L(n,"unknown error","fragment",e),e=n}return mt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);L(n,"unknown function","fragment",e),e=n}return L(lt(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,lt(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);L(n,"unknown function","fragment",e),e=n}return mt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);L(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=er(r);if(s.length%32===0)try{return O(this,Ft).decode(e.outputs,s)}catch{n="could not decode result data"}q(!1,n,"BAD_DATA",{value:oe(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=De(e,"data"),s=Ml.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=oe(n.slice(0,4)),c=this.getError(o);if(c)try{const m=O(this,Ft).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:m},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);L(n,"unknown function","fragment",e),e=n}return oe(O(this,Ft).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);L(i,"unknown event","eventFragment",e),e=i}q(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?$i(a):i.type==="bytes"?yt(oe(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=zs(a):i.type.match(/^bytes/)?a=AA(a,32):i.type==="address"&&O(this,Ft).encode(["address"],[a]),Hi(oe(a),32));for(r.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){L(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?L(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(c=>s(o,c))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);L(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),L(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const c=r[o];if(a.indexed)if(a.type==="string")n.push($i(c));else if(a.type==="bytes")n.push(yt(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(O(this,Ft).encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:O(this,Ft).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const g=this.getEvent(e);L(g,"unknown event","eventFragment",e),e=g}if(n!=null&&!e.anonymous){const g=e.topicHash;L(Qe(n[0],32)&&n[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((g,h)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push(Lt.from({type:"bytes32",name:g.name})),a.push(!0)):(s.push(g),a.push(!1)):(i.push(g),a.push(!1))});const o=n!=null?O(this,Ft).decode(s,mt(n)):null,c=O(this,Ft).decode(i,r,!0),m=[],d=[];let l=0,f=0;return e.inputs.forEach((g,h)=>{let u=null;if(g.indexed)if(o==null)u=new hp(null);else if(a[h])u=new hp(o[f++]);else try{u=o[f++]}catch(b){u=b}else try{u=c[l++]}catch(b){u=b}m.push(u),d.push(g.name||null)}),Oa.fromItems(m,d)}parseTransaction(e){const r=De(e.data,"tx.data"),n=le(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(oe(r.slice(0,4)));if(!s)return null;const i=O(this,Ft).decode(s.inputs,r.slice(4));return new U_(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new L_(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=oe(e),n=this.getError(lt(r,0,4));if(!n)return null;const s=O(this,Ft).decode(n.inputs,lt(r,4));return new F_(n,n.selector,s)}static from(e){return e instanceof pi?e:typeof e=="string"?new pi(JSON.parse(e)):typeof e.formatJson=="function"?new pi(e.formatJson()):typeof e.format=="function"?new pi(e.format("json")):new pi(e)}};hn=new WeakMap,dn=new WeakMap,pn=new WeakMap,Ft=new WeakMap,An=new WeakSet,_c=function(e,r,n){if(Qe(e)){const i=e.toLowerCase();for(const a of O(this,pn).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of O(this,pn))a.split("(")[0]===e&&i.push(o);if(r){const a=r.length>0?r[r.length-1]:null;let o=r.length,c=!0;Gt.isTyped(a)&&a.type==="overrides"&&(c=!1,o--);for(let m=i.length-1;m>=0;m--){const d=i[m].inputs.length;d!==o&&(!c||d!==o-1)&&i.splice(m,1)}for(let m=i.length-1;m>=0;m--){const d=i[m].inputs;for(let l=0;l<r.length;l++)if(Gt.isTyped(r[l])){if(l>=d.length){if(r[l].type==="overrides")continue;i.splice(m,1);break}if(r[l].type!==d[l].baseType){i.splice(m,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");L(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=O(this,pn).get(wn.from(e).format());return s||null},xc=function(e,r,n){if(Qe(e)){const i=e.toLowerCase();for(const a of O(this,dn).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of O(this,dn))a.split("(")[0]===e&&i.push(o);if(r){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<r.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let c=0;c<r.length;c++)if(Gt.isTyped(r[c])&&r[c].type!==o[c].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");L(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=O(this,dn).get(bn.from(e).format());return s||null};let Wf=pi;const Jg=BigInt(0);function Po(t){return t??null}function ht(t){return t==null?null:t.toString()}class mp{constructor(e,r,n){F(this,"gasPrice");F(this,"maxFeePerGas");F(this,"maxPriorityFeePerGas");me(this,{gasPrice:Po(e),maxFeePerGas:Po(r),maxPriorityFeePerGas:Po(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:ht(e),maxFeePerGas:ht(r),maxPriorityFeePerGas:ht(n)}}}function Wc(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=oe(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=le(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=we(t[s],`request.${s}`));return t.accessList&&(e.accessList=Zi(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>Sh(s)?oe(s):Object.assign({},s))),e}var Wn;class j_{constructor(e,r){F(this,"provider");F(this,"number");F(this,"hash");F(this,"timestamp");F(this,"parentHash");F(this,"parentBeaconBlockRoot");F(this,"nonce");F(this,"difficulty");F(this,"gasLimit");F(this,"gasUsed");F(this,"stateRoot");F(this,"receiptsRoot");F(this,"blobGasUsed");F(this,"excessBlobGas");F(this,"miner");F(this,"prevRandao");F(this,"extraData");F(this,"baseFeePerGas");$(this,Wn);k(this,Wn,e.transactions.map(n=>typeof n!="string"?new Dl(n,r):n)),me(this,{provider:r,hash:Po(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Po(e.prevRandao),extraData:e.extraData,baseFeePerGas:Po(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return O(this,Wn).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=O(this,Wn).slice();return e.length===0?[]:(q(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:o,prevRandao:c,nonce:m,number:d,parentHash:l,parentBeaconBlockRoot:f,stateRoot:g,receiptsRoot:h,timestamp:u,transactions:b}=this;return{_type:"Block",baseFeePerGas:ht(e),difficulty:ht(r),extraData:n,gasLimit:ht(s),gasUsed:ht(i),blobGasUsed:ht(this.blobGasUsed),excessBlobGas:ht(this.excessBlobGas),hash:a,miner:o,prevRandao:c,nonce:m,number:d,parentHash:l,timestamp:u,parentBeaconBlockRoot:f,stateRoot:g,receiptsRoot:h,transactions:b}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return O(this,Wn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=O(this,Wn)[e];else{const n=e.toLowerCase();for(const s of O(this,Wn))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash===n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;L(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return H_(this)}}Wn=new WeakMap;class ec{constructor(e,r){F(this,"provider");F(this,"transactionHash");F(this,"blockHash");F(this,"blockNumber");F(this,"removed");F(this,"address");F(this,"data");F(this,"topics");F(this,"index");F(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:m}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:m}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return q(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return G_(this)}}var Gl;class Kg{constructor(e,r){F(this,"provider");F(this,"to");F(this,"from");F(this,"contractAddress");F(this,"hash");F(this,"index");F(this,"blockHash");F(this,"blockNumber");F(this,"logsBloom");F(this,"gasUsed");F(this,"blobGasUsed");F(this,"cumulativeGasUsed");F(this,"gasPrice");F(this,"blobGasPrice");F(this,"type");F(this,"status");F(this,"root");$(this,Gl);k(this,Gl,Object.freeze(e.logs.map(s=>new ec(s,r))));let n=Jg;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),me(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return O(this,Gl)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:c,logs:m,status:d,root:l}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:ht(this.cumulativeGasUsed),from:r,gasPrice:ht(this.gasPrice),blobGasUsed:ht(this.blobGasUsed),blobGasPrice:ht(this.blobGasPrice),gasUsed:ht(this.gasUsed),hash:s,index:i,logs:m,logsBloom:c,root:l,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Xg(this)}reorderedEvent(e){return q(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Zg(this,e)}}Gl=new WeakMap;var Ns;const jh=class jh{constructor(e,r){F(this,"provider");F(this,"blockNumber");F(this,"blockHash");F(this,"index");F(this,"hash");F(this,"type");F(this,"to");F(this,"from");F(this,"nonce");F(this,"gasLimit");F(this,"gasPrice");F(this,"maxPriorityFeePerGas");F(this,"maxFeePerGas");F(this,"maxFeePerBlobGas");F(this,"data");F(this,"value");F(this,"chainId");F(this,"signature");F(this,"accessList");F(this,"blobVersionedHashes");$(this,Ns);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,k(this,Ns,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:a,from:o,nonce:c,data:m,signature:d,accessList:l,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:ht(this.chainId),data:m,from:o,gasLimit:ht(this.gasLimit),gasPrice:ht(this.gasPrice),hash:s,maxFeePerGas:ht(this.maxFeePerGas),maxPriorityFeePerGas:ht(this.maxPriorityFeePerGas),maxFeePerBlobGas:ht(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:i,value:ht(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Yt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=O(this,Ns),a=-1,o=i===-1;const c=async()=>{if(o)return null;const{blockNumber:f,nonce:g}=await Yt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){i=f;return}if(o)return null;const h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(a===-1&&(a=i-3,a<O(this,Ns)&&(a=O(this,Ns)));a<=f;){if(o)return null;const u=await this.provider.getBlock(a,!0);if(u==null)return;for(const b of u)if(b===this.hash)return;for(let b=0;b<u.length;b++){const p=await u.getTransaction(b);if(p.from===this.from&&p.nonce===this.nonce){if(o)return null;const y=await this.provider.getTransactionReceipt(p.hash);if(y==null||f-y.blockNumber+1<n)return;let v="replaced";p.data===this.data&&p.to===this.to&&p.value===this.value?v="repriced":p.data==="0x"&&p.from===p.to&&p.value===Jg&&(v="cancelled"),q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:p.replaceableTransaction(i),hash:p.hash,receipt:y})}}a++}},m=f=>{if(f==null||f.status!==0)return f;q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return m(d);if(d){if(await d.confirmations()>=n)return m(d)}else if(await c(),n===0)return null;return await new Promise((f,g)=>{const h=[],u=()=>{h.forEach(p=>p())};if(h.push(()=>{o=!0}),s>0){const p=setTimeout(()=>{u(),g(at("wait for transaction timeout","TIMEOUT"))},s);h.push(()=>{clearTimeout(p)})}const b=async p=>{if(await p.confirmations()>=n){u();try{f(m(p))}catch(y){g(y)}}};if(h.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),i>=0){const p=async()=>{try{await c()}catch(y){if(Mt(y,"TRANSACTION_REPLACED")){u(),g(y);return}}o||this.provider.once("block",p)};h.push(()=>{this.provider.off("block",p)}),this.provider.once("block",p)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Xg(this)}reorderedEvent(e){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),q(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Zg(this,e)}replaceableTransaction(e){L(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new jh(this,this.provider);return k(r,Ns,e),r}};Ns=new WeakMap;let Dl=jh;function H_(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Zg(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Xg(t){return{orphan:"drop-transaction",tx:t}}function G_(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class kh extends ec{constructor(r,n,s){super(r,r.provider);F(this,"interface");F(this,"fragment");F(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);me(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Yg extends ec{constructor(r,n){super(r,r.provider);F(this,"error");me(this,{error:n})}}var ra;class $_ extends Kg{constructor(r,n,s){super(s,n);$(this,ra);k(this,ra,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?O(this,ra).getEvent(r.topics[0]):null;if(n)try{return new kh(r,O(this,ra),n)}catch(s){return new Yg(r,s)}return r})}}ra=new WeakMap;var $l;class Bh extends Dl{constructor(r,n,s){super(s,n);$(this,$l);k(this,$l,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new $_(O(this,$l),this.provider,s)}}$l=new WeakMap;class ey extends Jm{constructor(r,n,s,i){super(r,n,s);F(this,"log");me(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class W_ extends ey{constructor(e,r,n,s,i){super(e,r,n,new kh(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);me(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const gp=BigInt(0);function ty(t){return t&&typeof t.call=="function"}function ry(t){return t&&typeof t.estimateGas=="function"}function Au(t){return t&&typeof t.resolveName=="function"}function ny(t){return t&&typeof t.sendTransaction=="function"}function sy(t){if(t!=null){if(Au(t))return t;if(t.provider)return t.provider}}var Wl;class V_{constructor(e,r,n){$(this,Wl);F(this,"fragment");if(me(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=zi(e.runner,"resolveName"),i=Au(s)?s:null;k(this,Wl,async function(){const a=await Promise.all(r.inputs.map((o,c)=>n[c]==null?null:o.walkAsync(n[c],(d,l)=>d==="address"?Array.isArray(l)?Promise.all(l.map(f=>nr(f,i))):nr(l,i):l)));return e.interface.encodeFilterTopics(r,a)}())}getTopicFilter(){return O(this,Wl)}}Wl=new WeakMap;function zi(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function bi(t){return t==null?null:t.provider||null}async function iy(t,e){const r=Gt.dereference(t,"overrides");L(typeof r=="object","invalid overrides parameter","overrides",t);const n=Wc(r);return L(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),L(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function z_(t,e,r){const n=zi(t,"resolveName"),s=Au(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(r[a],(o,c)=>(c=Gt.dereference(c,o),o==="address"?nr(c,s):c))))}function q_(t){const e=async function(a){const o=await iy(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await nr(o.from,sy(t.runner)));const c=t.interface,m=le(o.value||gp,"overrides.value")===gp,d=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!m&&L(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),L(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data);const l=c.receive||c.fallback&&c.fallback.payable;return L(l||m,"cannot send value to non-payable fallback","overrides.value",o.value),L(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data),o},r=async function(a){const o=zi(t.runner,"call");q(ty(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await o.call(c)}catch(m){throw xh(m)&&m.data?t.interface.makeError(m.data,c):m}},n=async function(a){const o=t.runner;q(ny(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(a)),m=bi(t.runner);return new Bh(t.interface,m,c)},s=async function(a){const o=zi(t.runner,"estimateGas");return q(ry(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await n(a);return me(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function Q_(t,e){const r=function(...m){const d=t.interface.getFunction(e,m);return q(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:m}}),d},n=async function(...m){const d=r(...m);let l={};if(d.inputs.length+1===m.length&&(l=await iy(m.pop()),l.from&&(l.from=await nr(l.from,sy(t.runner)))),d.inputs.length!==m.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await z_(t.runner,d.inputs,m);return Object.assign({},l,await Yt({to:t.getAddress(),data:t.interface.encodeFunctionData(d,f)}))},s=async function(...m){const d=await o(...m);return d.length===1?d[0]:d},i=async function(...m){const d=t.runner;q(ny(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await d.sendTransaction(await n(...m)),f=bi(t.runner);return new Bh(t.interface,f,l)},a=async function(...m){const d=zi(t.runner,"estimateGas");return q(ry(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...m))},o=async function(...m){const d=zi(t.runner,"call");q(ty(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await n(...m);let f="0x";try{f=await d.call(l)}catch(h){throw xh(h)&&h.data?t.interface.makeError(h.data,l):h}const g=r(...m);return t.interface.decodeFunctionResult(g,f)},c=async(...m)=>r(...m).constant?await s(...m):await i(...m);return me(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const m=t.interface.getFunction(e);return q(m,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),m}}),c}function J_(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return q(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new V_(t,r(...s),s)};return me(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return q(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const Vc=Symbol.for("_ethersInternal_contract"),oy=new WeakMap;function K_(t,e){oy.set(t[Vc],e)}function Ar(t){return oy.get(t[Vc])}function Z_(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Mh(t,e){let r,n=null;if(Array.isArray(e)){const i=function(a){if(Qe(a,32))return a;const o=t.interface.getEvent(a);return L(o,"unknown fragment","name",a),o.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?r=[null]:typeof e=="string"?Qe(e,32)?r=[e]:(n=t.interface.getEvent(e),L(n,"unknown fragment","event",e),r=[n.topicHash]):Z_(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):L(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function yl(t,e){const{subs:r}=Ar(t);return r.get((await Mh(t,e)).tag)||null}async function yp(t,e,r){const n=bi(t.runner);q(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await Mh(t,r),{addr:o,subs:c}=Ar(t);let m=c.get(i);if(!m){const l={address:o||t,topics:a},f=b=>{let p=s;if(p==null)try{p=t.interface.getEvent(b.topics[0])}catch{}if(p){const y=p,v=s?t.interface.decodeEventLog(s,b.data,b.topics):[];zf(t,r,v,E=>new W_(t,E,r,y,b))}else zf(t,r,[],y=>new ey(t,y,r,b))};let g=[];m={tag:i,listeners:[],start:()=>{g.length||g.push(n.on(l,f))},stop:async()=>{if(g.length==0)return;let b=g;g=[],await Promise.all(b),n.off(l,f)}},c.set(i,m)}return m}let Vf=Promise.resolve();async function X_(t,e,r,n){await Vf;const s=await yl(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const c=Array.from(r);n&&c.push(n(o?null:a));try{a.call(t,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),Ar(t).subs.delete(s.tag)),i>0}async function zf(t,e,r,n){try{await Vf}catch{}const s=X_(t,e,r,n);return Vf=s,await s}const dc=["then"];var Rp;Rp=Vc;const _l=class _l{constructor(e,r,n,s){F(this,"target");F(this,"interface");F(this,"runner");F(this,"filters");F(this,Rp);F(this,"fallback");L(typeof e=="string"||hg(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=Wf.from(r);me(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Vc,{value:{}});let a,o=null,c=null;if(s){const l=bi(n);c=new Bh(this.interface,l,s)}let m=new Map;if(typeof e=="string")if(Qe(e))o=e,a=Promise.resolve(e);else{const l=zi(n,"resolveName");if(!Au(l))throw at("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=l.resolveName(e).then(f=>{if(f==null)throw at("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ar(this).addr=f,f})}else a=e.getAddress().then(l=>{if(l==null)throw new Error("TODO");return Ar(this).addr=l,l});K_(this,{addrPromise:a,addr:o,deployTx:c,subs:m});const d=new Proxy({},{get:(l,f,g)=>{if(typeof f=="symbol"||dc.indexOf(f)>=0)return Reflect.get(l,f,g);try{return this.getEvent(f)}catch(h){if(!Mt(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(l,f)=>dc.indexOf(f)>=0?Reflect.has(l,f):Reflect.has(l,f)||this.interface.hasEvent(String(f))});return me(this,{filters:d}),me(this,{fallback:i.receive||i.fallback?q_(this):null}),new Proxy(this,{get:(l,f,g)=>{if(typeof f=="symbol"||f in l||dc.indexOf(f)>=0)return Reflect.get(l,f,g);try{return l.getFunction(f)}catch(h){if(!Mt(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(l,f)=>typeof f=="symbol"||f in l||dc.indexOf(f)>=0?Reflect.has(l,f):l.interface.hasFunction(f)})}connect(e){return new _l(this.target,this.interface,e)}attach(e){return new _l(e,this.interface,this.runner)}async getAddress(){return await Ar(this).addrPromise}async getDeployedCode(){const e=bi(this.runner);q(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=bi(this.runner);return q(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return Ar(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Q_(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),J_(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Ar(this),a=s||await i,{fragment:o,topics:c}=await Mh(this,e),m={address:a,topics:c,fromBlock:r,toBlock:n},d=bi(this.runner);return q(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(m)).map(l=>{let f=o;if(f==null)try{f=this.interface.getEvent(l.topics[0])}catch{}if(f)try{return new kh(l,this.interface,f)}catch(g){return new Yg(l,g)}return new ec(l,d)})}async on(e,r){const n=await yp(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await yp(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await zf(this,e,r,null)}async listenerCount(e){if(e){const s=await yl(this,e);return s?s.listeners.length:0}const{subs:r}=Ar(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await yl(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Ar(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await yl(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ar(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await yl(this,e);if(!r)return this;r.stop(),Ar(this).subs.delete(r.tag)}else{const{subs:r}=Ar(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends _l{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let qf=_l;function Y_(){return qf}class Ws extends Y_(){}function rf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):L(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class ex{constructor(e){F(this,"name");me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const ay=new RegExp("^(ipfs)://(.*)$","i"),bp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ay,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Rs,Ni,ks,yo,Zc,ly;const _o=class _o{constructor(e,r,n){$(this,ks);F(this,"provider");F(this,"address");F(this,"name");$(this,Rs);$(this,Ni);me(this,{provider:e,address:r,name:n}),k(this,Rs,null),k(this,Ni,new Ws(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return O(this,Rs)==null&&k(this,Rs,(async()=>{try{return await O(this,Ni).supportsInterface("0x9061b923")}catch(e){if(Mt(e,"CALL_EXCEPTION"))return!1;throw k(this,Rs,null),e}})()),await O(this,Rs)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await K(this,ks,yo).call(this,"addr(bytes32)");return i==null||i===Tl?null:i}catch(i){if(Mt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await K(this,ks,yo).call(this,"addr(bytes32,uint)",[i]);if(Qe(a,20))return Ve(a)}let r=null;for(const i of this.provider.plugins)if(i instanceof ex&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await K(this,ks,yo).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await K(this,ks,yo).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await K(this,ks,yo).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${_A("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<bp.length;n++){const s=r.match(bp[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=rf(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const m=c[1],d=new Ws(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const u=await d.ownerOf(m);if(o!==u)return e.push({type:"!owner",value:u}),{url:null,linkage:e};e.push({type:"owner",value:u})}else if(i==="erc1155"){const u=await d.balanceOf(o,m);if(!u)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:u.toString()})}let l=await d[a](m);if(l==null||l==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),i==="erc1155"&&(l=l.replace("{id}",zs(m,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=rf(l)),e.push({type:"metadata-url",value:l});let f={};const g=await new ts(l).send();g.assertOk();try{f=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const p=g.body;return p&&e.push({type:"!metadata",value:oe(p)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let h=f.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(ay)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=rf(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return q(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await K(s=_o,Zc,ly).call(s,e,n);if(i!=null){const a=new _o(e,i,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};Rs=new WeakMap,Ni=new WeakMap,ks=new WeakSet,yo=async function(e,r){r=(r||[]).slice();const n=O(this,Ni).interface;r.unshift(Gf(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),q(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[YE(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await O(this,Ni)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Mt(i,"CALL_EXCEPTION"))throw i}return null},Zc=new WeakSet,ly=async function(e,r){const n=await _o.getEnsAddress(e);try{const i=await new Ws(n,["function resolver(bytes32) view returns (address)"],e).resolver(Gf(r),{enableCcipRead:!0});return i===Tl?null:i}catch(s){throw s}return null},$(_o,Zc);let zc=_o;const wp=BigInt(0);function Me(t,e){return function(r){return r==null?e:t(r)}}function Eu(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function tc(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const a of e[s])if(a in r){i=a;break}}try{const a=t[s](r[i]);a!==void 0&&(n[s]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";q(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:r})}}return n}}function tx(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}L(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ca(t){return L(Qe(t,!0),"invalid data","value",t),t}function Bt(t){return L(Qe(t,32),"invalid hash","value",t),t}const rx=tc({address:Ve,blockHash:Bt,blockNumber:we,data:Ca,index:we,removed:Me(tx,!1),topics:Eu(Bt),transactionHash:Bt,transactionIndex:we},{index:["logIndex"]});function nx(t){return rx(t)}const sx=tc({hash:Me(Bt),parentHash:Bt,parentBeaconBlockRoot:Me(Bt,null),number:we,timestamp:we,nonce:Me(Ca),difficulty:le,gasLimit:le,gasUsed:le,stateRoot:Me(Bt,null),receiptsRoot:Me(Bt,null),blobGasUsed:Me(le,null),excessBlobGas:Me(le,null),miner:Me(Ve),prevRandao:Me(Bt,null),extraData:Ca,baseFeePerGas:Me(le)},{prevRandao:["mixHash"]});function ix(t){const e=sx(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:cy(r)),e}const ox=tc({transactionIndex:we,blockNumber:we,transactionHash:Bt,address:Ve,topics:Eu(Bt),data:Ca,index:we,blockHash:Bt},{index:["logIndex"]});function ax(t){return ox(t)}const lx=tc({to:Me(Ve,null),from:Me(Ve,null),contractAddress:Me(Ve,null),index:we,root:Me(oe),gasUsed:le,blobGasUsed:Me(le,null),logsBloom:Me(Ca),blockHash:Bt,hash:Bt,logs:Eu(ax),blockNumber:we,cumulativeGasUsed:le,effectiveGasPrice:Me(le),blobGasPrice:Me(le,null),status:Me(we),type:Me(we,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function cx(t){return lx(t)}function cy(t){t.to&&le(t.to)===wp&&(t.to="0x0000000000000000000000000000000000000000");const e=tc({hash:Bt,index:Me(we,void 0),type:r=>r==="0x"||r==null?0:we(r),accessList:Me(Zi,null),blobVersionedHashes:Me(Eu(Bt,!0),null),blockHash:Me(Bt,null),blockNumber:Me(we,null),transactionIndex:Me(we,null),from:Ve,gasPrice:Me(le),maxPriorityFeePerGas:Me(le),maxFeePerGas:Me(le),maxFeePerBlobGas:Me(le,null),gasLimit:le,to:Me(Ve,null),value:le,nonce:we,data:Ca,creates:Me(Ve,null),chainId:Me(le,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=rE(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Zr.from(t.signature):e.signature=Zr.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&le(e.blockHash)===wp&&(e.blockHash=null),e}const ux="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class rc{constructor(e){F(this,"name");me(this,{name:e})}clone(){return new rc(this.name)}}class _u extends rc{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);F(this,"effectiveBlock");F(this,"txBase");F(this,"txCreate");F(this,"txDataZero");F(this,"txDataNonzero");F(this,"txAccessListStorageKey");F(this,"txAccessListAddress");const s={effectiveBlock:r};function i(a,o){let c=(n||{})[a];c==null&&(c=o),L(typeof c=="number",`invalud value for ${a}`,"costs",n),s[a]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),me(this,s)}clone(){return new _u(this.effectiveBlock,this)}}class xu extends rc{constructor(r,n){super("org.ethers.plugins.network.Ens");F(this,"address");F(this,"targetNetwork");me(this,{address:r||ux,targetNetwork:n??1})}clone(){return new xu(this.address,this.targetNetwork)}}var Vl,zl;class fx extends rc{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");$(this,Vl);$(this,zl);k(this,Vl,r),k(this,zl,n)}get url(){return O(this,Vl)}get processFunc(){return O(this,zl)}clone(){return this}}Vl=new WeakMap,zl=new WeakMap;const nf=new Map;var na,sa,Bs;const xo=class xo{constructor(e,r){$(this,na);$(this,sa);$(this,Bs);k(this,na,e),k(this,sa,le(r)),k(this,Bs,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return O(this,na)}set name(e){k(this,na,e)}get chainId(){return O(this,sa)}set chainId(e){k(this,sa,le(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===le(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===le(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===le(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(O(this,Bs).values())}attachPlugin(e){if(O(this,Bs).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return O(this,Bs).set(e.name,e.clone()),this}getPlugin(e){return O(this,Bs).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new xo(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new _u;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=Zi(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(hx(),e==null)return xo.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=nf.get(e);if(r)return r();if(typeof e=="bigint")return new xo("unknown",e);L(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){L(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new xo(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new xu(e.ensAddress,e.ensNetwork)),r}L(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=nf.get(e);n&&L(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),nf.set(e,r)}};na=new WeakMap,sa=new WeakMap,Bs=new WeakMap;let vn=xo;function vp(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Ap(t){return new fx(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const o=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:vp(o.maxFee,9),maxPriorityFeePerGas:vp(o.maxPriorityFee,9)}}catch(i){q(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let Ep=!1;function hx(){if(Ep)return;Ep=!0;function t(e,r,n){const s=function(){const i=new vn(e,r);return n.ensNetwork!=null&&i.attachPlugin(new xu(null,n.ensNetwork)),i.attachPlugin(new _u),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};vn.register(e,s),vn.register(r,s),n.altNames&&n.altNames.forEach(i=>{vn.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Ap("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Ap("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Qf(t){return JSON.parse(JSON.stringify(t))}var Vn,kr,Ms,mn,ia,Sc;class dx{constructor(e){$(this,ia);$(this,Vn);$(this,kr);$(this,Ms);$(this,mn);k(this,Vn,e),k(this,kr,null),k(this,Ms,4e3),k(this,mn,-2)}get pollingInterval(){return O(this,Ms)}set pollingInterval(e){k(this,Ms,e)}start(){O(this,kr)||(k(this,kr,O(this,Vn)._setTimeout(K(this,ia,Sc).bind(this),O(this,Ms))),K(this,ia,Sc).call(this))}stop(){O(this,kr)&&(O(this,Vn)._clearTimeout(O(this,kr)),k(this,kr,null))}pause(e){this.stop(),e&&k(this,mn,-2)}resume(){this.start()}}Vn=new WeakMap,kr=new WeakMap,Ms=new WeakMap,mn=new WeakMap,ia=new WeakSet,Sc=async function(){try{const e=await O(this,Vn).getBlockNumber();if(O(this,mn)===-2){k(this,mn,e);return}if(e!==O(this,mn)){for(let r=O(this,mn)+1;r<=e;r++){if(O(this,kr)==null)return;await O(this,Vn).emit("block",r)}k(this,mn,e)}}catch{}O(this,kr)!=null&&k(this,kr,O(this,Vn)._setTimeout(K(this,ia,Sc).bind(this),O(this,Ms)))};var Ri,ki,Ds;class Dh{constructor(e){$(this,Ri);$(this,ki);$(this,Ds);k(this,Ri,e),k(this,Ds,!1),k(this,ki,r=>{this._poll(r,O(this,Ri))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){O(this,Ds)||(k(this,Ds,!0),O(this,ki).call(this,-2),O(this,Ri).on("block",O(this,ki)))}stop(){O(this,Ds)&&(k(this,Ds,!1),O(this,Ri).off("block",O(this,ki)))}pause(e){this.stop()}resume(){this.start()}}Ri=new WeakMap,ki=new WeakMap,Ds=new WeakMap;var oa,zn;class px extends Dh{constructor(r,n){super(r);$(this,oa);$(this,zn);k(this,oa,n),k(this,zn,-2)}pause(r){r&&k(this,zn,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(O(this,oa));s!=null&&(O(this,zn)===-2?k(this,zn,s.number):s.number>O(this,zn)&&(n.emit(O(this,oa),s.number),k(this,zn,s.number)))}}oa=new WeakMap,zn=new WeakMap;var Xc;class mx extends Dh{constructor(r,n){super(r);$(this,Xc);k(this,Xc,Qf(n))}async _poll(r,n){throw new Error("@TODO")}}Xc=new WeakMap;var aa;class gx extends Dh{constructor(r,n){super(r);$(this,aa);k(this,aa,n)}async _poll(r,n){const s=await n.getTransactionReceipt(O(this,aa));s&&n.emit(O(this,aa),s)}}aa=new WeakMap;var qn,la,ca,Ls,Br,Yc,uy;class Lh{constructor(e,r){$(this,Yc);$(this,qn);$(this,la);$(this,ca);$(this,Ls);$(this,Br);k(this,qn,e),k(this,la,Qf(r)),k(this,ca,K(this,Yc,uy).bind(this)),k(this,Ls,!1),k(this,Br,-2)}start(){O(this,Ls)||(k(this,Ls,!0),O(this,Br)===-2&&O(this,qn).getBlockNumber().then(e=>{k(this,Br,e)}),O(this,qn).on("block",O(this,ca)))}stop(){O(this,Ls)&&(k(this,Ls,!1),O(this,qn).off("block",O(this,ca)))}pause(e){this.stop(),e&&k(this,Br,-2)}resume(){this.start()}}qn=new WeakMap,la=new WeakMap,ca=new WeakMap,Ls=new WeakMap,Br=new WeakMap,Yc=new WeakSet,uy=async function(e){if(O(this,Br)===-2)return;const r=Qf(O(this,la));r.fromBlock=O(this,Br)+1,r.toBlock=e;const n=await O(this,qn).getLogs(r);if(n.length===0){O(this,Br)<e-60&&k(this,Br,e-60);return}for(const s of n)O(this,qn).emit(O(this,la),s),k(this,Br,s.blockNumber)};const yx=BigInt(2),bx=10;function pc(t){return t&&typeof t.then=="function"}function Oc(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class fy{constructor(e){F(this,"name");me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function wx(t){return JSON.parse(JSON.stringify(t))}function Jf(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function sf(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Qe(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Oc("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Oc("orphan",r),filter:wx(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?Jf(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],a=o=>{Qe(o)?s.push(o):i.push((async()=>{s.push(await nr(o,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=Jf(s.map(o=>o.toLowerCase()))}return{filter:n,tag:Oc("event",n),type:"event"}}L(!1,"unknown ProviderEvent","event",t)}function of(){return new Date().getTime()}const vx={cacheTimeout:250,pollingInterval:4e3};var jt,Us,Ht,ua,Sr,Bi,Fs,Qn,ql,Mr,fa,ha,Se,vr,Kf,Zf,bl,Xf,wl,Ic;class Ax{constructor(e,r){$(this,Se);$(this,jt);$(this,Us);$(this,Ht);$(this,ua);$(this,Sr);$(this,Bi);$(this,Fs);$(this,Qn);$(this,ql);$(this,Mr);$(this,fa);$(this,ha);if(k(this,ha,Object.assign({},vx,r||{})),e==="any")k(this,Bi,!0),k(this,Sr,null);else if(e){const n=vn.from(e);k(this,Bi,!1),k(this,Sr,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else k(this,Bi,!1),k(this,Sr,null);k(this,Qn,-1),k(this,Fs,new Map),k(this,jt,new Map),k(this,Us,new Map),k(this,Ht,null),k(this,ua,!1),k(this,ql,1),k(this,Mr,new Map),k(this,fa,!1)}get pollingInterval(){return O(this,ha).pollingInterval}get provider(){return this}get plugins(){return Array.from(O(this,Us).values())}attachPlugin(e){if(O(this,Us).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return O(this,Us).set(e.name,e.connect(this)),this}getPlugin(e){return O(this,Us).get(e)||null}get disableCcipRead(){return O(this,fa)}set disableCcipRead(e){k(this,fa,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const c=n[o],m=c.replace("{sender}",s).replace("{data}",i),d=new ts(m);c.indexOf("{data}")===-1&&(d.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:o,urls:n});let l="unknown error",f;try{f=await d.send()}catch(g){a.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:g}});continue}try{const g=f.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:g}),g.data;g.message&&(l=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:g})}catch{}q(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:l}}),a.push(l)}q(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new j_(ix(e),this)}_wrapLog(e,r){return new ec(nx(e),this)}_wrapTransactionReceipt(e,r){return new Kg(cx(e),this)}_wrapTransactionResponse(e,r){return new Dl(cy(e),this)}_detectNetwork(){q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){q(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=we(await K(this,Se,vr).call(this,{method:"getBlockNumber"}),"%response");return O(this,Qn)>=0&&k(this,Qn,e),e}_getAddress(e){return nr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Qe(e))return Qe(e,32)?e:vo(e);if(typeof e=="bigint"&&(e=we(e,"blockTag")),typeof e=="number")return e>=0?vo(e):O(this,Qn)>=0?vo(O(this,Qn)+e):this.getBlockNumber().then(r=>vo(r+e));L(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Jf(c.map(m=>m.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,m,d)=>{let l;switch(c.length){case 0:break;case 1:l=c[0];break;default:c.sort(),l=c}if(n&&(m!=null||d!=null))throw new Error("invalid filter");const f={};return l&&(f.address=l),r.length&&(f.topics=r),m&&(f.fromBlock=m),d&&(f.toBlock=d),n&&(f.blockHash=n),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),a,o]).then(c=>s(c[0],c[1],c[2])):s(i,a,o)}_getTransactionRequest(e){const r=Wc(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=nr(r[s],this);pc(i)?n.push(async function(){r[s]=await i}()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);pc(s)?n.push(async function(){r.blockTag=await s}()):r.blockTag=s}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(O(this,Sr)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw O(this,Sr)===s&&k(this,Sr,null),i}})();return k(this,Sr,s),(await s).clone()}const e=O(this,Sr),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(O(this,Bi)?(this.emit("network",n,r),O(this,Sr)===e&&k(this,Sr,Promise.resolve(n))):q(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await Yt({_block:K(this,Se,Xf).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await K(this,Se,vr).call(this,{method:"getGasPrice"});return le(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await K(this,Se,vr).call(this,{method:"getPriorityFee"});return le(d,"%response")}catch{}return null})()});let o=null,c=null;const m=this._wrapBlock(s,e);return m&&m.baseFeePerGas&&(c=a??BigInt("1000000000"),o=m.baseFeePerGas*yx+c),new mp(i,o,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new ts(n.url),i=await n.processFunc(r,this,s);return new mp(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return pc(r)&&(r=await r),le(await K(this,Se,vr).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Yt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await K(this,Se,Zf).call(this,K(this,Se,Kf).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return le(await K(this,Se,bl).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return we(await K(this,Se,bl).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return oe(await K(this,Se,bl).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=le(r,"position");return oe(await K(this,Se,bl).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await Yt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Gc.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await Yt({network:this.getNetwork(),params:K(this,Se,Xf).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await Yt({network:this.getNetwork(),params:K(this,Se,vr).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Yt({network:this.getNetwork(),params:K(this,Se,vr).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await K(this,Se,vr).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Yt({network:this.getNetwork(),result:K(this,Se,vr).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:oe(r)}async getLogs(e){let r=this._getFilter(e);pc(r)&&(r=await r);const{network:n,params:s}=await Yt({network:this.getNetwork(),params:K(this,Se,vr).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await zc.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Ve(e);const r=Gf(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await zc.getEnsAddress(this),i=await new Ws(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===Tl)return null;const o=await new Ws(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(o)!==e?null:o}catch(n){if(Mt(n,"BAD_DATA")&&n.value==="0x"||Mt(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let o=null;const c=async m=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&m-d.blockNumber+1>=s){i(d),o&&(clearTimeout(o),o=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),a(at("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=O(this,Mr).get(e);r&&(r.timer&&clearTimeout(r.timer),O(this,Mr).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=ol(this,ql)._++,s=()=>{O(this,Mr).delete(n),e()};if(this.paused)O(this,Mr).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);O(this,Mr).set(n,{timer:i,func:s,time:of()})}return n}_forEachSubscriber(e){for(const r of O(this,jt).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new fy(e.type);case"block":{const r=new dx(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new px(this,e.type);case"event":return new Lh(this,e.filter);case"transaction":return new gx(this,e.hash);case"orphan":return new mx(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of O(this,jt).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),O(this,Ht)!=null&&r.pause(O(this,Ht));break}}async on(e,r){const n=await K(this,Se,Ic).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,O(this,Ht)!=null&&n.subscriber.pause(O(this,Ht))),this}async once(e,r){const n=await K(this,Se,Ic).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,O(this,Ht)!=null&&n.subscriber.pause(O(this,Ht))),this}async emit(e,...r){const n=await K(this,Se,wl).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const o=new Jm(this,a?null:i,e);try{i.call(this,...r,o)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),O(this,jt).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await K(this,Se,wl).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of O(this,jt).values())r+=n.length;return r}async listeners(e){if(e){const n=await K(this,Se,wl).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of O(this,jt).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await K(this,Se,wl).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),O(this,jt).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await K(this,Se,Ic).call(this,e);n&&s.stop(),O(this,jt).delete(r)}else for(const[r,{started:n,subscriber:s}]of O(this,jt))n&&s.stop(),O(this,jt).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return O(this,ua)}destroy(){this.removeAllListeners();for(const e of O(this,Mr).keys())this._clearTimeout(e);k(this,ua,!0)}get paused(){return O(this,Ht)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(k(this,Qn,-1),O(this,Ht)!=null){if(O(this,Ht)==!!e)return;q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),k(this,Ht,!!e);for(const r of O(this,Mr).values())r.timer&&clearTimeout(r.timer),r.time=of()-r.time}resume(){if(O(this,Ht)!=null){this._forEachSubscriber(e=>e.resume()),k(this,Ht,null);for(const e of O(this,Mr).values()){let r=e.time;r<0&&(r=0),e.time=of(),setTimeout(e.func,r)}}}}jt=new WeakMap,Us=new WeakMap,Ht=new WeakMap,ua=new WeakMap,Sr=new WeakMap,Bi=new WeakMap,Fs=new WeakMap,Qn=new WeakMap,ql=new WeakMap,Mr=new WeakMap,fa=new WeakMap,ha=new WeakMap,Se=new WeakSet,vr=async function(e){const r=O(this,ha).cacheTimeout;if(r<0)return await this._perform(e);const n=Oc(e.method,e);let s=O(this,Fs).get(n);return s||(s=this._perform(e),O(this,Fs).set(n,s),setTimeout(()=>{O(this,Fs).get(n)===s&&O(this,Fs).delete(n)},r)),await s},Kf=async function(e,r,n){q(n<bx,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=Wc(e);try{return oe(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&xh(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&lt(i.data,0,4)==="0x556f1830"){const a=i.data,o=await nr(s.to,this);let c;try{c=Ox(lt(i.data,4))}catch(l){q(!1,l.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}q(c.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const m=await this.ccipReadFetch(s,c.calldata,c.urls);q(m!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const d={to:o,data:mt([c.selector,Sx([m,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const l=await K(this,Se,Kf).call(this,d,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:l}),l}catch(l){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:l}),l}}throw i}},Zf=async function(e){const{value:r}=await Yt({network:this.getNetwork(),value:e});return r},bl=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await K(this,Se,Zf).call(this,K(this,Se,vr).call(this,Object.assign(e,{address:s,blockTag:i})))},Xf=async function(e,r){if(Qe(e,32))return await K(this,Se,vr).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await K(this,Se,vr).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},wl=async function(e,r){let n=await sf(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await sf({orphan:"drop-log",log:r[0]},this)),O(this,jt).get(n.tag)||null},Ic=async function(e){const r=await sf(e,this),n=r.tag;let s=O(this,jt).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},O(this,jt).set(n,s)),s};function Ex(t,e){try{const r=Yf(t,e);if(r)return Mc(r)}catch{}return null}function Yf(t,e){if(t==="0x")return null;try{const r=we(lt(t,e,e+32)),n=we(lt(t,r,r+32));return lt(t,r+32,r+32+n)}catch{}return null}function _p(t){const e=tr(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function _x(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const xx=new Uint8Array([]);function Sx(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(xx),r+=32;for(let n=0;n<t.length;n++){const s=De(t[n]);e[n]=_p(r),e.push(_p(s.length)),e.push(_x(s)),r+=32+Math.ceil(s.length/32)*32}return mt(e)}const xp="0x0000000000000000000000000000000000000000000000000000000000000000";function Ox(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};q(Io(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=lt(t,0,32);q(lt(r,0,12)===lt(xp,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=lt(r,12);try{const n=[],s=we(lt(t,32,64)),i=we(lt(t,s,s+32)),a=lt(t,s+32);for(let o=0;o<i;o++){const c=Ex(a,o*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Yf(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}q(lt(t,100,128)===lt(xp,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=lt(t,96,100);try{const n=Yf(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function fo(t,e){if(t.provider)return t.provider;q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Sp(t,e){let r=Wc(e);if(r.to!=null&&(r.to=nr(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),nr(n,t)]).then(([s,i])=>(L(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await Yt(r)}class Ix{constructor(e){F(this,"provider");me(this,{provider:e||null})}async getNonce(e){return fo(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Sp(this,e)}async populateTransaction(e){const r=fo(this,"populateTransaction"),n=await Sp(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=le(n.chainId);L(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?L(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&L(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();q(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(q(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Yt(n)}async estimateGas(e){return fo(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return fo(this,"call").call(await this.populateCall(e))}async resolveName(e){return await fo(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=fo(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=Gc.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}}function Tx(t){return JSON.parse(JSON.stringify(t))}var Zt,gn,Mi,js,Di,da,qs,eh,th;class hy{constructor(e){$(this,qs);$(this,Zt);$(this,gn);$(this,Mi);$(this,js);$(this,Di);$(this,da);k(this,Zt,e),k(this,gn,null),k(this,Mi,K(this,qs,eh).bind(this)),k(this,js,!1),k(this,Di,null),k(this,da,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){O(this,js)||(k(this,js,!0),K(this,qs,eh).call(this,-2))}stop(){O(this,js)&&(k(this,js,!1),k(this,da,!0),K(this,qs,th).call(this),O(this,Zt).off("block",O(this,Mi)))}pause(e){e&&K(this,qs,th).call(this),O(this,Zt).off("block",O(this,Mi))}resume(){this.start()}}Zt=new WeakMap,gn=new WeakMap,Mi=new WeakMap,js=new WeakMap,Di=new WeakMap,da=new WeakMap,qs=new WeakSet,eh=async function(e){try{O(this,gn)==null&&k(this,gn,this._subscribe(O(this,Zt)));let r=null;try{r=await O(this,gn)}catch(i){if(!Mt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){k(this,gn,null),O(this,Zt)._recoverSubscriber(this,this._recover(O(this,Zt)));return}const n=await O(this,Zt).getNetwork();if(O(this,Di)||k(this,Di,n),O(this,Di).chainId!==n.chainId)throw new Error("chaid changed");if(O(this,da))return;const s=await O(this,Zt).send("eth_getFilterChanges",[r]);await this._emitResults(O(this,Zt),s)}catch(r){console.log("@TODO",r)}O(this,Zt).once("block",O(this,Mi))},th=function(){const e=O(this,gn);e&&(k(this,gn,null),e.then(r=>{O(this,Zt).destroyed||O(this,Zt).send("eth_uninstallFilter",[r])}))};var Li;class Cx extends hy{constructor(r,n){super(r);$(this,Li);k(this,Li,Tx(n))}_recover(r){return new Lh(r,O(this,Li))}async _subscribe(r){return await r.send("eth_newFilter",[O(this,Li)])}async _emitResults(r,n){for(const s of n)r.emit(O(this,Li),r._wrapLog(s,r._network))}}Li=new WeakMap;class Px extends hy{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const Nx="bigint,boolean,function,number,string,symbol".split(/,/g);function Tc(t){if(t==null||Nx.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Tc);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Rx(t){return new Promise(e=>{setTimeout(e,t)})}function ho(t){return t&&t.toLowerCase()}function Op(t){return t&&typeof t.pollingInterval=="number"}const dy={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class af extends Ix{constructor(r,n){super(r);F(this,"address");n=Ve(n),me(this,{address:n})}connect(r){q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=Tc(r),s=[];if(n.from){const a=n.from;s.push((async()=>{const o=await nr(a,this.provider);L(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;s.push((async()=>{n.to=await nr(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,a)=>{const o=[1e3,100];let c=0;const m=async()=>{try{const d=await this.provider.getTransaction(s);if(d!=null){i(d.replaceableTransaction(n));return}}catch(d){if(Mt(d,"CANCELLED")||Mt(d,"BAD_DATA")||Mt(d,"NETWORK_ERROR")||Mt(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=s,a(d);return}if(Mt(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=s,c>10)){a(d);return}this.provider.emit("error",at("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{m()},o.pop()||4e3)};m()})}async signTransaction(r){const n=Tc(r);if(n.from){const i=await nr(n.from,this.provider);L(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?Yn(r):r;return await this.provider.send("personal_sign",[oe(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=Tc(s),a=await $c.resolveNames(r,n,i,async o=>{const c=await nr(o);return L(c!=null,"TypedData does not support null address","value",o),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($c.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Yn(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),oe(n)])}}var Ui,pa,Jn,yn,Jr,Dr,lr,Ql,rh;class kx extends Ax{constructor(r,n){super(r,n);$(this,Ql);$(this,Ui);$(this,pa);$(this,Jn);$(this,yn);$(this,Jr);$(this,Dr);$(this,lr);k(this,pa,1),k(this,Ui,Object.assign({},dy,n||{})),k(this,Jn,[]),k(this,yn,null),k(this,Dr,null),k(this,lr,null);{let i=null;const a=new Promise(o=>{i=o});k(this,Jr,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(L(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&k(this,Dr,vn.from(r))):s&&(L(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),k(this,Dr,s))}_getOption(r){return O(this,Ui)[r]}get _network(){return q(O(this,Dr),"network is not available yet","NETWORK_ERROR"),O(this,Dr)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&le(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(O(this,Dr))return O(this,Dr)}else return r;return O(this,lr)?await O(this,lr):this.ready?(k(this,lr,(async()=>{try{const n=vn.from(le(await this.send("eth_chainId",[])));return k(this,lr,null),n}catch(n){throw k(this,lr,null),n}})()),await O(this,lr)):(k(this,lr,(async()=>{const n={id:ol(this,pa)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],k(this,lr,null)}catch(i){throw k(this,lr,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return vn.from(le(s.result));throw this.getRpcError(n,s)})()),await O(this,lr))}_start(){O(this,Jr)==null||O(this,Jr).resolve==null||(O(this,Jr).resolve(),k(this,Jr,null),(async()=>{for(;O(this,Dr)==null&&!this.destroyed;)try{k(this,Dr,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",at("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await Rx(1e3)}K(this,Ql,rh).call(this)})())}async _waitUntilReady(){if(O(this,Jr)!=null)return await O(this,Jr).promise}_getSubscriber(r){return r.type==="pending"?new Px(this):r.type==="event"?this._getOption("polling")?new Lh(this,r.filter):new Cx(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new fy("orphan"):super._getSubscriber(r)}get ready(){return O(this,Jr)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=vo(le(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=oe(r[s]))}),r.accessList&&(n.accessList=Zi(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ho(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ho(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[ho(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ho(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(ho):r.filter.address=ho(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return at("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=nh(i),m=Ml.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return m.info={error:i,payload:r},m}const a=JSON.stringify(Bx(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return at("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return at("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return at("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return at("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(a.match(/only replay-protected/i))return at("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?at("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):at("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=ol(this,pa)._++,i=new Promise((a,o)=>{O(this,Jn).push({resolve:a,reject:o,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return K(this,Ql,rh).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new af(this,i[r])}const{accounts:s}=await Yt({network:this.getNetwork(),accounts:n});r=Ve(r);for(const i of s)if(Ve(i)===r)return new af(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new af(this,n))}destroy(){O(this,yn)&&(clearTimeout(O(this,yn)),k(this,yn,null));for(const{payload:r,reject:n}of O(this,Jn))n(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));k(this,Jn,[]),super.destroy()}}Ui=new WeakMap,pa=new WeakMap,Jn=new WeakMap,yn=new WeakMap,Jr=new WeakMap,Dr=new WeakMap,lr=new WeakMap,Ql=new WeakSet,rh=function(){if(O(this,yn))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");k(this,yn,setTimeout(()=>{k(this,yn,null);const n=O(this,Jn);for(k(this,Jn,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==O(this,Ui).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(a=>a.payload)).length>O(this,Ui).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:c,payload:m}of s){if(this.destroyed){c(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:m.method}));continue}const d=a.filter(l=>l.id===m.id)[0];if(d==null){const l=at("missing response for request","BAD_DATA",{value:a,info:{payload:m}});this.emit("error",l),c(l);continue}if("error"in d){c(this.getRpcError(m,d));continue}o(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of s)o(a)}})()}},r))};var Hs;class py extends kx{constructor(r,n){super(r,n);$(this,Hs);let s=this._getOption("pollingInterval");s==null&&(s=dy.pollingInterval),k(this,Hs,s)}_getSubscriber(r){const n=super._getSubscriber(r);return Op(n)&&(n.pollingInterval=O(this,Hs)),n}get pollingInterval(){return O(this,Hs)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");k(this,Hs,r),this._forEachSubscriber(n=>{Op(n)&&(n.pollingInterval=O(this,Hs))})}}Hs=new WeakMap;var ma;class my extends py{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);$(this,ma);typeof r=="string"?k(this,ma,new ts(r)):k(this,ma,r.clone())}_getConnection(){return O(this,ma).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}ma=new WeakMap;function nh(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Qe(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=nh(t[e]);if(r)return r}return null}if(typeof t=="string")try{return nh(JSON.parse(t))}catch{}return null}function sh(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)sh(t[r],e);if(typeof t=="string")try{return sh(JSON.parse(t),e)}catch{}}}function Bx(t){const e=[];return sh(t,e),e}var ga;class Mx extends py{constructor(r,n,s){const i=Object.assign({},s??{},{batchMaxCount:1});L(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);$(this,ga);k(this,ga,async(a,o)=>{const c={method:a,params:o};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const m=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:m}),m}catch(m){const d=new Error(m.message);throw d.code=m.code,d.data=m.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){L(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await O(this,ga).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await O(this,ga).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}}ga=new WeakMap;const qi={};function Dx(t){const e=qi[t];return e||console.error(`Chain config for ${t} not found`),e}const El={},Lx=new Promise(t=>{El.WEB3_ONBOARD_INIT={resolver:t,data:null}});function gy(){return El.WEB3_ONBOARD_INIT.resolver}async function Ux(){return El.WEB3_ONBOARD_INIT.data||(El.WEB3_ONBOARD_INIT.data=await Lx),El.WEB3_ONBOARD_INIT.data}const yy=()=>{var n,s;const[{wallet:t}]=_h(),e=(n=((t==null?void 0:t.accounts)||[])[0])==null?void 0:n.address,r=(s=((t==null?void 0:t.chains)||[])[0])==null?void 0:s.id;return{address:e,chainId:r}},by=()=>{const[{wallet:t}]=_h(),[e,r]=tt.useState(null),n=tt.useCallback(async(i,a,o,c)=>{r(null);try{const m=qi[i];if(!m)return r(`Chain with ID ${i} not found in ChainConstants.`),null;const d=new my(m.rpcUrl),l=new Ws(a,[o],d),f=o.split("(")[0].trim();return f in l?await l[f](...c):(r(`Method ${f} not found in contract.`),null)}catch(m){return console.error("Error calling method:",m),r(m.message),null}},[]),s=tt.useCallback(async(i,a,o)=>{r(null);try{if(!(t!=null&&t.provider))return r("No wallet connected. Please connect your wallet."),null;const m=await new Mx(t.provider).getSigner(),d=new Ws(i,[a],m),l=a.split("(")[0].trim();if(!(l in d))return r(`Method ${l} not found in contract.`),null;const f=await d[l](...o);return await f.wait(),f}catch(c){return console.error("Error executing method:",c),r(c.message),null}},[t]);return{callMethod:n,execute:s,error:e}},lf={};function wy(t,e){const[r,n]=tt.useState(null),[s,i]=tt.useState(null);tt.useEffect(()=>{if(!t||!e)return;(async()=>{try{if(lf[t]){n(lf[t]);return}const m=qi[e];if(!m||!m.rpcUrl){i("Invalid chain configuration");return}const d=new my(m.rpcUrl),l=new Ws(t,["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)"],d),[f,g,h]=await Promise.all([l.name(),l.symbol(),l.decimals()]),u={name:f,symbol:g,decimals:h};lf[t]=u,n(u)}catch(m){console.error(m),i("Failed to fetch token data.")}})()},[t,e]);const a=tt.useCallback(c=>r?$A(c.toString(),r.decimals):(console.warn("Token data is not loaded yet. Returning null."),null),[r]),o=tt.useCallback(c=>r?GA(c.toString(),r.decimals):(console.warn("Token data is not loaded yet. Returning null."),null),[r]);return{tokenData:r,error:s,toMachineReadable:a,toHumanReadable:o}}const Cc={ALLOWANCE:"function allowance(address owner, address spender) view returns (uint256)",TRANSFER:"function transfer(address to, uint256 value) returns (bool)",TRANSFER_FROM:"function transferFrom(address from, address to, uint256 value) returns (bool)",APPROVE:"function approve(address spender, uint256 value) returns (bool)",DECIMALS:"function decimals() view returns (uint8)",NAME:"function name() view returns (string)",SYMBOL:"function symbol() view returns (string)"},Fx=({chainId:t,token:e,amount:r,spender:n,approveButton:s,actionButton:i,unknownState:a})=>{const[o,c]=tt.useState(null),[m,d]=tt.useState(!1),[{wallet:l},f]=_h(),{callMethod:g,execute:h}=by(),{address:u}=yy(),{toMachineReadable:b}=wy(e,t),p=async()=>{try{if(!t||!e||!r||!n||!u){console.error("Invalid parameters provided or wallet not connected.");return}const v=await g(t,e,Cc.ALLOWANCE,[u,n]),E=b(r);E&&c(v<E)}catch(v){console.error("Error checking approval:",v),c(null)}},y=async()=>{try{if(!l){console.error("Wallet not connected."),await f();return}d(!0);const v=b(r),E=await h(e,Cc.APPROVE,[n,v]);console.log("approve tx executed",E);const x=setInterval(async()=>{try{const C=await g(t,e,Cc.ALLOWANCE,[u,n]);console.log("allowance received",C),C.gte(v)&&(d(!1),c(!1),clearInterval(x))}catch(C){console.error("Error while checking approval status:",C)}},3e3)}catch(v){console.error("Error during approval:",v),d(!1)}};return tt.useEffect(()=>{p()},[t,e,r,n,l]),o===null?a:o?s(y,m):i};var mc={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function jx(){if(Ip)return fl;Ip=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:a,ref:s!==void 0?s:null,props:i}}return fl.Fragment=e,fl.jsx=r,fl.jsxs=r,fl}var hl={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function Hx(){return Tp||(Tp=1,process.env.NODE_ENV!=="production"&&function(){function t(M){if(M==null)return null;if(typeof M=="function")return M.$$typeof===de?null:M.displayName||M.name||null;if(typeof M=="string")return M;switch(M){case C:return"Fragment";case x:return"Portal";case A:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList"}if(typeof M=="object")switch(typeof M.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),M.$$typeof){case I:return(M.displayName||"Context")+".Provider";case S:return(M._context.displayName||"Context")+".Consumer";case R:var ne=M.render;return M=M.displayName,M||(M=ne.displayName||ne.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case Z:return ne=M.displayName||null,ne!==null?ne:t(M.type)||"Memo";case j:ne=M._payload,M=M._init;try{return t(M(ne))}catch{}}return null}function e(M){return""+M}function r(M){try{e(M);var ne=!1}catch{ne=!0}if(ne){ne=console;var te=ne.error,ve=typeof Symbol=="function"&&Symbol.toStringTag&&M[Symbol.toStringTag]||M.constructor.name||"Object";return te.call(ne,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",ve),e(M)}}function n(){}function s(){if(Re===0){ct=console.log,st=console.info,Ye=console.warn,ae=console.error,wt=console.group,Nt=console.groupCollapsed,qe=console.groupEnd;var M={configurable:!0,enumerable:!0,value:n,writable:!0};Object.defineProperties(console,{info:M,log:M,warn:M,error:M,group:M,groupCollapsed:M,groupEnd:M})}Re++}function i(){if(Re--,Re===0){var M={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ue({},M,{value:ct}),info:ue({},M,{value:st}),warn:ue({},M,{value:Ye}),error:ue({},M,{value:ae}),group:ue({},M,{value:wt}),groupCollapsed:ue({},M,{value:Nt}),groupEnd:ue({},M,{value:qe})})}0>Re&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function a(M){if(vt===void 0)try{throw Error()}catch(te){var ne=te.stack.trim().match(/\n( *(at )?)/);vt=ne&&ne[1]||"",it=-1<te.stack.indexOf(`
    at`)?" (<anonymous>)":-1<te.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+M+it}function o(M,ne){if(!M||Ut)return"";var te=or.get(M);if(te!==void 0)return te;Ut=!0,te=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var ve=null;ve=fe.H,fe.H=null,s();try{var rt={DetermineComponentFrameRoot:function(){try{if(ne){var $t=function(){throw Error()};if(Object.defineProperty($t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($t,[])}catch($e){var ut=$e}Reflect.construct(M,[],$t)}else{try{$t.call()}catch($e){ut=$e}M.call($t.prototype)}}else{try{throw Error()}catch($e){ut=$e}($t=M())&&typeof $t.catch=="function"&&$t.catch(function(){})}}catch($e){if($e&&ut&&typeof $e.stack=="string")return[$e.stack,ut.stack]}return[null,null]}};rt.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var He=Object.getOwnPropertyDescriptor(rt.DetermineComponentFrameRoot,"name");He&&He.configurable&&Object.defineProperty(rt.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ge=rt.DetermineComponentFrameRoot(),gt=ge[0],hr=ge[1];if(gt&&hr){var Je=gt.split(`
`),Et=hr.split(`
`);for(ge=He=0;He<Je.length&&!Je[He].includes("DetermineComponentFrameRoot");)He++;for(;ge<Et.length&&!Et[ge].includes("DetermineComponentFrameRoot");)ge++;if(He===Je.length||ge===Et.length)for(He=Je.length-1,ge=Et.length-1;1<=He&&0<=ge&&Je[He]!==Et[ge];)ge--;for(;1<=He&&0<=ge;He--,ge--)if(Je[He]!==Et[ge]){if(He!==1||ge!==1)do if(He--,ge--,0>ge||Je[He]!==Et[ge]){var dr=`
`+Je[He].replace(" at new "," at ");return M.displayName&&dr.includes("<anonymous>")&&(dr=dr.replace("<anonymous>",M.displayName)),typeof M=="function"&&or.set(M,dr),dr}while(1<=He&&0<=ge);break}}}finally{Ut=!1,fe.H=ve,i(),Error.prepareStackTrace=te}return Je=(Je=M?M.displayName||M.name:"")?a(Je):"",typeof M=="function"&&or.set(M,Je),Je}function c(M){if(M==null)return"";if(typeof M=="function"){var ne=M.prototype;return o(M,!(!ne||!ne.isReactComponent))}if(typeof M=="string")return a(M);switch(M){case H:return a("Suspense");case W:return a("SuspenseList")}if(typeof M=="object")switch(M.$$typeof){case R:return M=o(M.render,!1),M;case Z:return c(M.type);case j:ne=M._payload,M=M._init;try{return c(M(ne))}catch{}}return""}function m(){var M=fe.A;return M===null?null:M.getOwner()}function d(M){if(_e.call(M,"key")){var ne=Object.getOwnPropertyDescriptor(M,"key").get;if(ne&&ne.isReactWarning)return!1}return M.key!==void 0}function l(M,ne){function te(){tn||(tn=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",ne))}te.isReactWarning=!0,Object.defineProperty(M,"key",{get:te,configurable:!0})}function f(){var M=t(this.type);return ss[M]||(ss[M]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),M=this.props.ref,M!==void 0?M:null}function g(M,ne,te,ve,rt,He){return te=He.ref,M={$$typeof:E,type:M,key:ne,props:He,_owner:rt},(te!==void 0?te:null)!==null?Object.defineProperty(M,"ref",{enumerable:!1,get:f}):Object.defineProperty(M,"ref",{enumerable:!1,value:null}),M._store={},Object.defineProperty(M._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(M,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(M.props),Object.freeze(M)),M}function h(M,ne,te,ve,rt,He){if(typeof M=="string"||typeof M=="function"||M===C||M===A||M===T||M===H||M===W||M===z||typeof M=="object"&&M!==null&&(M.$$typeof===j||M.$$typeof===Z||M.$$typeof===I||M.$$typeof===S||M.$$typeof===R||M.$$typeof===ye||M.getModuleId!==void 0)){var ge=ne.children;if(ge!==void 0)if(ve)if(he(ge)){for(ve=0;ve<ge.length;ve++)u(ge[ve],M);Object.freeze&&Object.freeze(ge)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else u(ge,M)}else ge="",(M===void 0||typeof M=="object"&&M!==null&&Object.keys(M).length===0)&&(ge+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),M===null?ve="null":he(M)?ve="array":M!==void 0&&M.$$typeof===E?(ve="<"+(t(M.type)||"Unknown")+" />",ge=" Did you accidentally export a JSX literal instead of a component?"):ve=typeof M,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ve,ge);if(_e.call(ne,"key")){ge=t(M);var gt=Object.keys(ne).filter(function(Je){return Je!=="key"});ve=0<gt.length?"{key: someKey, "+gt.join(": ..., ")+": ...}":"{key: someKey}",is[ge+ve]||(gt=0<gt.length?"{"+gt.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ve,ge,gt,ge),is[ge+ve]=!0)}if(ge=null,te!==void 0&&(r(te),ge=""+te),d(ne)&&(r(ne.key),ge=""+ne.key),"key"in ne){te={};for(var hr in ne)hr!=="key"&&(te[hr]=ne[hr])}else te=ne;return ge&&l(te,typeof M=="function"?M.displayName||M.name||"Unknown":M),g(M,ge,He,rt,m(),te)}function u(M,ne){if(typeof M=="object"&&M&&M.$$typeof!==Ir){if(he(M))for(var te=0;te<M.length;te++){var ve=M[te];b(ve)&&p(ve,ne)}else if(b(M))M._store&&(M._store.validated=1);else if(M===null||typeof M!="object"?te=null:(te=Y&&M[Y]||M["@@iterator"],te=typeof te=="function"?te:null),typeof te=="function"&&te!==M.entries&&(te=te.call(M),te!==M))for(;!(M=te.next()).done;)b(M.value)&&p(M.value,ne)}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===E}function p(M,ne){if(M._store&&!M._store.validated&&M.key==null&&(M._store.validated=1,ne=y(ne),!Ur[ne])){Ur[ne]=!0;var te="";M&&M._owner!=null&&M._owner!==m()&&(te=null,typeof M._owner.tag=="number"?te=t(M._owner.type):typeof M._owner.name=="string"&&(te=M._owner.name),te=" It was passed a child from "+te+".");var ve=fe.getCurrentStack;fe.getCurrentStack=function(){var rt=c(M.type);return ve&&(rt+=ve()||""),rt},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',ne,te),fe.getCurrentStack=ve}}function y(M){var ne="",te=m();return te&&(te=t(te.type))&&(ne=`

Check the render method of \``+te+"`."),ne||(M=t(M))&&(ne=`

Check the top-level render call using <`+M+">."),ne}var v=tt,E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),Y=Symbol.iterator,de=Symbol.for("react.client.reference"),fe=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=Object.prototype.hasOwnProperty,ue=Object.assign,ye=Symbol.for("react.client.reference"),he=Array.isArray,Re=0,ct,st,Ye,ae,wt,Nt,qe;n.__reactDisabledLog=!0;var vt,it,Ut=!1,or=new(typeof WeakMap=="function"?WeakMap:Map),Ir=Symbol.for("react.client.reference"),tn,ss={},is={},Ur={};hl.Fragment=C,hl.jsx=function(M,ne,te,ve,rt){return h(M,ne,te,!1,ve,rt)},hl.jsxs=function(M,ne,te,ve,rt){return h(M,ne,te,!0,ve,rt)}}()),hl}var Cp;function Gx(){return Cp||(Cp=1,process.env.NODE_ENV==="production"?mc.exports=jx():mc.exports=Hx()),mc.exports}var cf=Gx(),vl={exports:{}};vl.exports;var Pp;function $x(){return Pp||(Pp=1,function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",i=1,a=2,o=1/0,c=9007199254740991,m="[object Arguments]",d="[object Array]",l="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Function]",u="[object GeneratorFunction]",b="[object Map]",p="[object Number]",y="[object Object]",v="[object Promise]",E="[object RegExp]",x="[object Set]",C="[object String]",T="[object Symbol]",A="[object WeakMap]",S="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",H="[object Float64Array]",W="[object Int8Array]",Z="[object Int16Array]",j="[object Int32Array]",z="[object Uint8Array]",Y="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/,ye=/^\./,he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,ct=/\\(\\)?/g,st=/^\[object .+?Constructor\]$/,Ye=/^(?:0|[1-9]\d*)$/,ae={};ae[R]=ae[H]=ae[W]=ae[Z]=ae[j]=ae[z]=ae[Y]=ae[de]=ae[fe]=!0,ae[m]=ae[d]=ae[S]=ae[l]=ae[I]=ae[f]=ae[g]=ae[h]=ae[b]=ae[p]=ae[y]=ae[E]=ae[x]=ae[C]=ae[A]=!1;var wt=typeof Or=="object"&&Or&&Or.Object===Object&&Or,Nt=typeof self=="object"&&self&&self.Object===Object&&self,qe=wt||Nt||Function("return this")(),vt=e&&!e.nodeType&&e,it=vt&&!0&&t&&!t.nodeType&&t,Ut=it&&it.exports===vt,or=Ut&&wt.process,Ir=function(){try{return or&&or.binding("util")}catch{}}(),tn=Ir&&Ir.isTypedArray;function ss(w,_){var N=w?w.length:0;return!!N&&M(w,_,0)>-1}function is(w,_){for(var N=-1,U=w?w.length:0;++N<U;)if(_(w[N],N,w))return!0;return!1}function Ur(w,_,N,U){for(var J=w.length,V=N+-1;++V<J;)if(_(w[V],V,w))return V;return-1}function M(w,_,N){if(_!==_)return Ur(w,ne,N);for(var U=N-1,J=w.length;++U<J;)if(w[U]===_)return U;return-1}function ne(w){return w!==w}function te(w){return function(_){return _==null?void 0:_[w]}}function ve(w,_){for(var N=-1,U=Array(w);++N<w;)U[N]=_(N);return U}function rt(w){return function(_){return w(_)}}function He(w,_){return w.has(_)}function ge(w,_){return w==null?void 0:w[_]}function gt(w){var _=!1;if(w!=null&&typeof w.toString!="function")try{_=!!(w+"")}catch{}return _}function hr(w){var _=-1,N=Array(w.size);return w.forEach(function(U,J){N[++_]=[J,U]}),N}function Je(w,_){return function(N){return w(_(N))}}function Et(w){var _=-1,N=Array(w.size);return w.forEach(function(U){N[++_]=U}),N}var dr=Array.prototype,$t=Function.prototype,ut=Object.prototype,$e=qe["__core-js_shared__"],En=function(){var w=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),Js=$t.toString,Wt=ut.hasOwnProperty,rn=ut.toString,Xi=RegExp("^"+Js.call(Wt).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nn=qe.Symbol,os=qe.Uint8Array,Vt=ut.propertyIsEnumerable,Ks=dr.splice,Zs=Je(Object.keys,Object),_n=Tr(qe,"DataView"),pr=Tr(qe,"Map"),Xs=Tr(qe,"Promise"),_t=Tr(qe,"Set"),Ys=Tr(qe,"WeakMap"),xn=Tr(Object,"create"),Ba=P(_n),as=P(pr),ei=P(Xs),Fr=P(_t),jr=P(Ys),ls=nn?nn.prototype:void 0,ti=ls?ls.valueOf:void 0,Yi=ls?ls.toString:void 0;function Hr(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function sn(){this.__data__=xn?xn(null):{}}function mr(w){return this.has(w)&&delete this.__data__[w]}function Ma(w){var _=this.__data__;if(xn){var N=_[w];return N===s?void 0:N}return Wt.call(_,w)?_[w]:void 0}function Da(w){var _=this.__data__;return xn?_[w]!==void 0:Wt.call(_,w)}function La(w,_){var N=this.__data__;return N[w]=xn&&_===void 0?s:_,this}Hr.prototype.clear=sn,Hr.prototype.delete=mr,Hr.prototype.get=Ma,Hr.prototype.has=Da,Hr.prototype.set=La;function gr(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function Ua(){this.__data__=[]}function zt(w){var _=this.__data__,N=hs(_,w);if(N<0)return!1;var U=_.length-1;return N==U?_.pop():Ks.call(_,N,1),!0}function Fa(w){var _=this.__data__,N=hs(_,w);return N<0?void 0:_[N][1]}function cs(w){return hs(this.__data__,w)>-1}function ri(w,_){var N=this.__data__,U=hs(N,w);return U<0?N.push([w,_]):N[U][1]=_,this}gr.prototype.clear=Ua,gr.prototype.delete=zt,gr.prototype.get=Fa,gr.prototype.has=cs,gr.prototype.set=ri;function yr(w){var _=-1,N=w?w.length:0;for(this.clear();++_<N;){var U=w[_];this.set(U[0],U[1])}}function us(){this.__data__={hash:new Hr,map:new(pr||gr),string:new Hr}}function Sn(w){return gs(this,w).delete(w)}function ja(w){return gs(this,w).get(w)}function Ha(w){return gs(this,w).has(w)}function br(w,_){return gs(this,w).set(w,_),this}yr.prototype.clear=us,yr.prototype.delete=Sn,yr.prototype.get=ja,yr.prototype.has=Ha,yr.prototype.set=br;function on(w){var _=-1,N=w?w.length:0;for(this.__data__=new yr;++_<N;)this.add(w[_])}function Ga(w){return this.__data__.set(w,s),this}function $a(w){return this.__data__.has(w)}on.prototype.add=on.prototype.push=Ga,on.prototype.has=$a;function wr(w){this.__data__=new gr(w)}function Wa(){this.__data__=new gr}function Va(w){return this.__data__.delete(w)}function fs(w){return this.__data__.get(w)}function za(w){return this.__data__.has(w)}function qa(w,_){var N=this.__data__;if(N instanceof gr){var U=N.__data__;if(!pr||U.length<r-1)return U.push([w,_]),this;N=this.__data__=new yr(U)}return N.set(w,_),this}wr.prototype.clear=Wa,wr.prototype.delete=Va,wr.prototype.get=fs,wr.prototype.has=za,wr.prototype.set=qa;function Qa(w,_){var N=xe(w)||Ae(w)?ve(w.length,String):[],U=N.length,J=!!U;for(var V in w)Wt.call(w,V)&&!(J&&(V=="length"||ln(V,U)))&&N.push(V);return N}function hs(w,_){for(var N=w.length;N--;)if(se(w[N][0],_))return N;return-1}function an(w,_){_=Tn(_,w)?[_]:no(_);for(var N=0,U=_.length;w!=null&&N<U;)w=w[ys(_[N++])];return N&&N==U?w:void 0}function ni(w){return rn.call(w)}function Ja(w,_){return w!=null&&_ in Object(w)}function On(w,_,N,U,J){return w===_?!0:w==null||_==null||!ot(w)&&!qt(_)?w!==w&&_!==_:eo(w,_,On,N,U,J)}function eo(w,_,N,U,J,V){var X=xe(w),be=xe(_),pe=d,Ce=d;X||(pe=xt(w),pe=pe==m?y:pe),be||(Ce=xt(_),Ce=Ce==m?y:Ce);var Ie=pe==y&&!gt(w),Pe=Ce==y&&!gt(_),ke=pe==Ce;if(ke&&!Ie)return V||(V=new wr),X||Pn(w)?ps(w,_,N,U,J,V):ms(w,_,pe,N,U,J,V);if(!(J&a)){var Ke=Ie&&Wt.call(w,"__wrapped__"),Ze=Pe&&Wt.call(_,"__wrapped__");if(Ke||Ze){var Rt=Ke?w.value():w,At=Ze?_.value():_;return V||(V=new wr),N(Rt,At,U,J,V)}}return ke?(V||(V=new wr),ii(w,_,N,U,J,V)):!1}function Ka(w,_,N,U){var J=N.length,V=J;if(w==null)return!V;for(w=Object(w);J--;){var X=N[J];if(X[2]?X[1]!==w[X[0]]:!(X[0]in w))return!1}for(;++J<V;){X=N[J];var be=X[0],pe=w[be],Ce=X[1];if(X[2]){if(pe===void 0&&!(be in w))return!1}else{var Ie=new wr,Pe;if(!(Pe===void 0?On(Ce,pe,U,i|a,Ie):Pe))return!1}}return!0}function Za(w){if(!ot(w)||nl(w))return!1;var _=Ge(w)||gt(w)?Xi:st;return _.test(P(w))}function Xa(w){return qt(w)&&Ot(w.length)&&!!ae[rn.call(w)]}function to(w){return typeof w=="function"?w:w==null?ao:typeof w=="object"?xe(w)?tl(w[0],w[1]):el(w):Tu(w)}function Ya(w){if(!so(w))return Zs(w);var _=[];for(var N in Object(w))Wt.call(w,N)&&N!="constructor"&&_.push(N);return _}function el(w){var _=In(w);return _.length==1&&_[0][2]?oi(_[0][0],_[0][1]):function(N){return N===w||Ka(N,w,_)}}function tl(w,_){return Tn(w)&&io(_)?oi(ys(w),_):function(N){var U=Su(N,w);return U===void 0&&U===_?Ou(N,w):On(_,U,void 0,i|a)}}function si(w){return function(_){return an(_,w)}}function rl(w){if(typeof w=="string")return w;if(Cr(w))return Yi?Yi.call(w):"";var _=w+"";return _=="0"&&1/w==-o?"-0":_}function ro(w,_,N){var U=-1,J=ss,V=w.length,X=!0,be=[],pe=be;if(V>=r){var Ce=_?null:ds(w);if(Ce)return Et(Ce);X=!1,J=He,pe=new on}else pe=_?[]:be;e:for(;++U<V;){var Ie=w[U],Pe=_?_(Ie):Ie;if(Ie=Ie!==0?Ie:0,X&&Pe===Pe){for(var ke=pe.length;ke--;)if(pe[ke]===Pe)continue e;_&&pe.push(Pe),be.push(Ie)}else J(pe,Pe,N)||(pe!==be&&pe.push(Pe),be.push(Ie))}return be}function no(w){return xe(w)?w:ai(w)}var ds=_t&&1/Et(new _t([,-0]))[1]==o?function(w){return new _t(w)}:Iu;function ps(w,_,N,U,J,V){var X=J&a,be=w.length,pe=_.length;if(be!=pe&&!(X&&pe>be))return!1;var Ce=V.get(w);if(Ce&&V.get(_))return Ce==_;var Ie=-1,Pe=!0,ke=J&i?new on:void 0;for(V.set(w,_),V.set(_,w);++Ie<be;){var Ke=w[Ie],Ze=_[Ie];if(U)var Rt=X?U(Ze,Ke,Ie,_,w,V):U(Ke,Ze,Ie,w,_,V);if(Rt!==void 0){if(Rt)continue;Pe=!1;break}if(ke){if(!is(_,function(At,Qt){if(!ke.has(Qt)&&(Ke===At||N(Ke,At,U,J,V)))return ke.add(Qt)})){Pe=!1;break}}else if(!(Ke===Ze||N(Ke,Ze,U,J,V))){Pe=!1;break}}return V.delete(w),V.delete(_),Pe}function ms(w,_,N,U,J,V,X){switch(N){case I:if(w.byteLength!=_.byteLength||w.byteOffset!=_.byteOffset)return!1;w=w.buffer,_=_.buffer;case S:return!(w.byteLength!=_.byteLength||!U(new os(w),new os(_)));case l:case f:case p:return se(+w,+_);case g:return w.name==_.name&&w.message==_.message;case E:case C:return w==_+"";case b:var be=hr;case x:var pe=V&a;if(be||(be=Et),w.size!=_.size&&!pe)return!1;var Ce=X.get(w);if(Ce)return Ce==_;V|=i,X.set(w,_);var Ie=ps(be(w),be(_),U,J,V,X);return X.delete(w),Ie;case T:if(ti)return ti.call(w)==ti.call(_)}return!1}function ii(w,_,N,U,J,V){var X=J&a,be=sl(w),pe=be.length,Ce=sl(_),Ie=Ce.length;if(pe!=Ie&&!X)return!1;for(var Pe=pe;Pe--;){var ke=be[Pe];if(!(X?ke in _:Wt.call(_,ke)))return!1}var Ke=V.get(w);if(Ke&&V.get(_))return Ke==_;var Ze=!0;V.set(w,_),V.set(_,w);for(var Rt=X;++Pe<pe;){ke=be[Pe];var At=w[ke],Qt=_[ke];if(U)var il=X?U(Qt,At,ke,_,w,V):U(At,Qt,ke,w,_,V);if(!(il===void 0?At===Qt||N(At,Qt,U,J,V):il)){Ze=!1;break}Rt||(Rt=ke=="constructor")}if(Ze&&!Rt){var Nn=w.constructor,Rn=_.constructor;Nn!=Rn&&"constructor"in w&&"constructor"in _&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof Rn=="function"&&Rn instanceof Rn)&&(Ze=!1)}return V.delete(w),V.delete(_),Ze}function gs(w,_){var N=w.__data__;return Cn(_)?N[typeof _=="string"?"string":"hash"]:N.map}function In(w){for(var _=sl(w),N=_.length;N--;){var U=_[N],J=w[U];_[N]=[U,J,io(J)]}return _}function Tr(w,_){var N=ge(w,_);return Za(N)?N:void 0}var xt=ni;(_n&&xt(new _n(new ArrayBuffer(1)))!=I||pr&&xt(new pr)!=b||Xs&&xt(Xs.resolve())!=v||_t&&xt(new _t)!=x||Ys&&xt(new Ys)!=A)&&(xt=function(w){var _=rn.call(w),N=_==y?w.constructor:void 0,U=N?P(N):void 0;if(U)switch(U){case Ba:return I;case as:return b;case ei:return v;case Fr:return x;case jr:return A}return _});function St(w,_,N){_=Tn(_,w)?[_]:no(_);for(var U,J=-1,X=_.length;++J<X;){var V=ys(_[J]);if(!(U=w!=null&&N(w,V)))break;w=w[V]}if(U)return U;var X=w?w.length:0;return!!X&&Ot(X)&&ln(V,X)&&(xe(w)||Ae(w))}function ln(w,_){return _=_??c,!!_&&(typeof w=="number"||Ye.test(w))&&w>-1&&w%1==0&&w<_}function Tn(w,_){if(xe(w))return!1;var N=typeof w;return N=="number"||N=="symbol"||N=="boolean"||w==null||Cr(w)?!0:ue.test(w)||!_e.test(w)||_!=null&&w in Object(_)}function Cn(w){var _=typeof w;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?w!=="__proto__":w===null}function nl(w){return!!En&&En in w}function so(w){var _=w&&w.constructor,N=typeof _=="function"&&_.prototype||ut;return w===N}function io(w){return w===w&&!ot(w)}function oi(w,_){return function(N){return N==null?!1:N[w]===_&&(_!==void 0||w in Object(N))}}var ai=G(function(w){w=oo(w);var _=[];return ye.test(w)&&_.push(""),w.replace(he,function(N,U,J,V){_.push(J?V.replace(ct,"$1"):U||N)}),_});function ys(w){if(typeof w=="string"||Cr(w))return w;var _=w+"";return _=="0"&&1/w==-o?"-0":_}function P(w){if(w!=null){try{return Js.call(w)}catch{}try{return w+""}catch{}}return""}function D(w,_){return w&&w.length?ro(w,to(_)):[]}function G(w,_){if(typeof w!="function"||_&&typeof _!="function")throw new TypeError(n);var N=function(){var U=arguments,J=_?_.apply(this,U):U[0],V=N.cache;if(V.has(J))return V.get(J);var X=w.apply(this,U);return N.cache=V.set(J,X),X};return N.cache=new(G.Cache||yr),N}G.Cache=yr;function se(w,_){return w===_||w!==w&&_!==_}function Ae(w){return Oe(w)&&Wt.call(w,"callee")&&(!Vt.call(w,"callee")||rn.call(w)==m)}var xe=Array.isArray;function Te(w){return w!=null&&Ot(w.length)&&!Ge(w)}function Oe(w){return qt(w)&&Te(w)}function Ge(w){var _=ot(w)?rn.call(w):"";return _==h||_==u}function Ot(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=c}function ot(w){var _=typeof w;return!!w&&(_=="object"||_=="function")}function qt(w){return!!w&&typeof w=="object"}function Cr(w){return typeof w=="symbol"||qt(w)&&rn.call(w)==T}var Pn=tn?rt(tn):Xa;function oo(w){return w==null?"":rl(w)}function Su(w,_,N){var U=w==null?void 0:an(w,_);return U===void 0?N:U}function Ou(w,_){return w!=null&&St(w,_,Ja)}function sl(w){return Te(w)?Qa(w):Ya(w)}function ao(w){return w}function Iu(){}function Tu(w){return Tn(w)?te(ys(w)):si(w)}t.exports=D}(vl,vl.exports)),vl.exports}var Wx=$x();const Vx=nu(Wx);var ee;(function(t){t.AlphaWallet="isAlphaWallet",t.ApexWallet="isApexWallet",t.AToken="isAToken",t.BifrostWallet="isBifrost",t.Binance="bbcSignTx",t.Bitpie="isBitpie",t.BlockWallet="isBlockWallet",t.Coinbase="isToshi",t.CoinbaseExtension="isCoinbaseWallet",t.Detected="request",t.Dcent="isDcentWallet",t.Exodus="isExodus",t.Frontier="isFrontier",t.Frame="isFrame",t.HuobiWallet="isHbWallet",t.HyperPay="isHyperPay",t.ImToken="isImToken",t.InfinityWallet="isInfinityWallet",t.Liquality="isLiquality",t.MeetOne="wallet",t.MetaMask="isMetaMask",t.MyKey="isMYKEY",t.OwnBit="isOwnbit",t.Status="isStatus",t.Trust="isTrust",t.TokenPocket="isTokenPocket",t.TP="isTp",t.WalletIo="isWalletIO",t.XDEFI="isXDEFI",t.OneInch="isOneInchIOSWallet",t.Tokenary="isTokenary",t.Tally="isTally",t.BraveWallet="isBraveWallet",t.Rabby="isRabby",t.MathWallet="isMathWallet",t.Bitget="isBitKeep",t.Sequence="isSequence",t.Core="isAvalanche",t.Opera="isOpera",t.Bitski="isBitski",t.Enkrypt="isEnkrypt",t.Phantom="isPhantom",t.OKXWallet="isOkxWallet",t.Zeal="isZeal",t.Zerion="isZerion",t.Rainbow="isRainbow",t.SafePal="isSafePal",t.DeFiWallet="isDeficonnectProvider",t.Safeheron="isSafeheron",t.Talisman="isTalisman",t.OneKey="isOneKey",t.Fordefi="isFordefi",t.Coin98Wallet="isCoin98",t.SubWallet="isSubWallet",t.Kayros="isKayros",t.FoxWallet="isFoxWallet",t.Lif3Wallet="isLif3Wallet",t.ZodiacPilot="isZodiacPilot",t.StableWallet="isStableWallet",t.Echooo="isEchooo",t.Keplr="keplr"})(ee||(ee={}));var Pt;(function(t){t.Binance="https://www.bnbchain.org/ru/blog/binance-extension-wallet/",t.Bitget="https://web3.bitget.com/en/wallet-download",t.Coinbase="https://www.coinbase.com/wallet/downloads",t.MetaMask="https://metamask.io/download/",t.OKXWallet="https://okx.com/download",t.Phantom="https://phantom.app/ul/v1/connect",t.Talisman="https://www.talisman.xyz/",t.Trust="https://link.trustwallet.com",t.OneKey="https://onekey.so/download/",t.RoninWallet="https://wallet.skymavis.com/",t.Coin98Wallet="https://coin98.com/wallet/",t.SubWallet="https://www.subwallet.app/",t.Kayros="https://www.kayros.games/wallet/",t.XDEFI="https://xdefi.io/",t.FoxWallet="https://foxwallet.com/download",t.Lif3Wallet="https://lif3.com",t.Rabby="https://rabby.io",t.ZodiacPilot="https://pilot.gnosisguild.org/",t.Echooo="https://www.echooo.xyz",t.Keplr="https://www.keplr.app/download"})(Pt||(Pt={}));var ce;(function(t){t.AlphaWallet="AlphaWallet",t.ApexWallet="Apex Wallet",t.AToken="AToken",t.BifrostWallet="Bifrost Wallet",t.Binance="Binance Smart Wallet",t.Bitpie="Bitpie",t.Bitski="Bitski",t.BlockWallet="BlockWallet",t.Brave="Brave Wallet",t.Coinbase="Coinbase Wallet",t.Dcent="D'CENT",t.Detected="Detected Wallet",t.Exodus="Exodus",t.Frame="Frame",t.Frontier="Frontier",t.HuobiWallet="Huobi Wallet",t.HyperPay="HyperPay",t.ImToken="imToken",t.InfinityWallet="Infinity Wallet",t.Liquality="Liquality",t.MeetOne="MeetOne",t.MetaMask="MetaMask",t.MyKey="MyKey",t.Opera="Opera Wallet",t.OwnBit="OwnBit",t.Status="Status Wallet",t.Trust="Trust Wallet",t.TokenPocket="TokenPocket",t.TP="TP Wallet",t.WalletIo="Wallet.io",t.XDEFI="XDEFI Wallet",t.OneInch="1inch Wallet",t.Tokenary="Tokenary Wallet",t.Tally="Taho",t.Rabby="Rabby Wallet",t.MathWallet="MathWallet",t.Bitget="Bitget Wallet",t.Sequence="Sequence",t.Core="Core",t.Enkrypt="Enkrypt",t.Zeal="Zeal",t.Phantom="Phantom",t.OKXWallet="OKX Wallet",t.Zerion="Zerion",t.Rainbow="Rainbow",t.SafePal="SafePal",t.DeFiWallet="DeFi Wallet",t.Safeheron="Safeheron",t.Talisman="Talisman",t.OneKey="OneKey",t.Fordefi="Fordefi",t.RoninWallet="Ronin Wallet",t.Coin98Wallet="Coin98 Wallet",t.SubWallet="SubWallet",t.Kayros="Kayros",t.FoxWallet="FoxWallet",t.Lif3Wallet="Lif3 Wallet",t.ZodiacPilot="Zodiac Pilot",t.StableWallet="StableWallet",t.Echooo="Echooo",t.Keplr="Keplr"})(ce||(ce={}));var re;(function(t){t.Ethereum="ethereum",t.Binance="BinanceChain",t.Tally="tally",t.Web3="web3",t.Arbitrum="arbitrum",t.XFI="xfi",t.Bitget="bitkeep",t.Avalanche="avalanche",t.Bitski="Bitski",t.Enkrypt="enkrypt",t.Zeal="zeal",t.Phantom="phantom",t.OKXWallet="okxwallet",t.Trust="trustwallet",t.Frontier="frontier",t.DeFiConnectProvider="deficonnectProvider",t.Safeheron="safeheron",t.Talisman="talismanEth",t.OneKey="$onekey",t.RoninWallet="ronin",t.Coin98Wallet="coin98",t.SubWallet="SubWallet",t.Kayros="kayros",t.FoxWallet="foxwallet",t.Echooo="echooo"})(re||(re={}));const bt=null;function ir(t,e){return async()=>({provider:window.ethereum.providers&&Array.isArray(window.ethereum.providers)?zx(t,e):window.ethereum})}function zx(t,e){return window.ethereum.providers.find(r=>e?!!r[t]&&!vy(t,r):!!r[t])}function vy(t,e){return Object.values(ee).filter(n=>n!==t&&n!==ee.Detected).some(n=>!!e[n])}const qx={label:ce.MetaMask,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.MetaMask]&&!vy(ee.MetaMask,t),getIcon:async()=>(await Promise.resolve().then(()=>require("./metamask-B3UziUje.cjs"))).default,getInterface:ir(ee.MetaMask,!0),platforms:["all"],externalUrl:Pt.MetaMask},Qx={label:ce.InfinityWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.InfinityWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./infinitywallet-CDOKU7Tc.cjs"))).default,getInterface:ir(ee.InfinityWallet),platforms:["desktop"]},Jx={label:ce.Exodus,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Exodus],getIcon:async()=>(await Promise.resolve().then(()=>require("./exodus-9RNqe1nG.cjs"))).default,getInterface:ir(ee.Exodus),platforms:["all"]},Kx={label:ce.Frontier,injectedNamespace:re.Frontier,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[ee.Frontier],getIcon:async()=>(await Promise.resolve().then(()=>require("./frontier-AyCPAOgY.cjs"))).default,getInterface:async()=>({provider:Fe(window.frontier.ethereum)}),platforms:["all"]},Zx={label:ce.Brave,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.BraveWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./brave-Bx7lE2MK.cjs"))).default,getInterface:ir(ee.BraveWallet),platforms:["all"]},Xx={label:ce.Binance,injectedNamespace:re.Binance,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Binance],getIcon:async()=>(await Promise.resolve().then(()=>require("./binance-xjh6kbL5.cjs"))).default,getInterface:async()=>{let t={...window.BinanceChain};window.BinanceChain=t;const e=window.BinanceChain.on.bind(window.BinanceChain);window.BinanceChain.on=(n,s)=>{n==="chainChanged"?e(n,i=>{s(`0x${parseInt(i).toString(16)}`)}):e(n,s)};const r=Fe(window.BinanceChain,{eth_chainId:({baseRequest:n})=>n({method:"eth_chainId"}).then(s=>`0x${parseInt(s).toString(16)}`),eth_selectAccounts:bt,wallet_switchEthereumChain:bt});return r.removeListener=(n,s)=>{},{provider:r}},platforms:["desktop"],externalUrl:Pt.Binance},Yx={label:ce.Coinbase,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Coinbase]||!!t&&!!t[ee.CoinbaseExtension],getIcon:async()=>(await Promise.resolve().then(()=>require("./coinbase-DDF8QrRy.cjs"))).default,getInterface:async()=>{const{provider:t}=await ir(ee.CoinbaseExtension)(),e=t.on.bind(t);return t.on=(r,n)=>{r==="chainChanged"?e(r,s=>{n(`0x${parseInt(s).toString(16)}`)}):e(r,n)},{provider:t}},platforms:["all"],externalUrl:Pt.Coinbase},e1={label:ce.Detected,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Detected],getIcon:async()=>(await Promise.resolve().then(()=>require("./detected-BREZXvGN.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},t1={label:ce.Trust,injectedNamespace:re.Trust,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Trust],getIcon:async()=>(await Promise.resolve().then(()=>require("./trust-DqiOvIRp.cjs"))).default,getInterface:async()=>{const t=window.hasOwnProperty(re.Ethereum);let e;return t&&window[re.Ethereum].isTrust?e=window[re.Ethereum]:e=window[re.Trust],{provider:e}},platforms:["all"],externalUrl:Pt.Trust},r1={label:ce.Opera,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Opera],getIcon:async()=>(await Promise.resolve().then(()=>require("./opera-TxdF7u49.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{eth_requestAccounts:async({baseRequest:t})=>t({method:"eth_accounts"}),eth_selectAccounts:bt})}),platforms:["all"]},n1={label:ce.Status,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Status],getIcon:async()=>(await Promise.resolve().then(()=>require("./status-DWG3DrzR.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},s1={label:ce.AlphaWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.AlphaWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./alphawallet-0vED3zz1.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},i1={label:ce.ApexWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.ApexWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./apexwallet-Dk9TYbim.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},o1={label:ce.AToken,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.AToken],getIcon:async()=>(await Promise.resolve().then(()=>require("./atoken-DlqVq2Vc.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},a1={label:ce.BifrostWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.BifrostWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./bifrostwallet-B60joBfJ.cjs"))).default,getInterface:ir(ee.BifrostWallet),platforms:["all"]},l1={label:ce.Bitpie,injectedNamespace:re.Ethereum,checkProviderIdentity:()=>!!window.Bitpie,getIcon:async()=>(await Promise.resolve().then(()=>require("./bitpie-BybeSt4H.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},c1={label:ce.BlockWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.BlockWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./blockwallet-B_SL7jkj.cjs"))).default,getInterface:ir(ee.BlockWallet),platforms:["desktop"]},u1={label:ce.Frame,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Frame],getIcon:async()=>(await Promise.resolve().then(()=>require("./frame-CZ6Ed3qr.cjs"))).default,getInterface:async()=>{const t=window.ethereum;if(!t||!t.connected)throw new Error("Frame App must be open with a hot wallet connected. If not installed first download the Frame App.");return{provider:t}},platforms:["desktop"]},f1={label:ce.HuobiWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.HuobiWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./huobiwallet-C2DIyQHQ.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},h1={label:ce.HyperPay,injectedNamespace:re.Ethereum,checkProviderIdentity:()=>!!window.hiWallet,getIcon:async()=>(await Promise.resolve().then(()=>require("./hyperpay-CXi0ELFH.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},d1={label:ce.ImToken,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.ImToken],getIcon:async()=>(await Promise.resolve().then(()=>require("./imtoken-FzVlEorr.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{eth_selectAccounts:bt})}),platforms:["mobile"]},p1={label:ce.Liquality,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Liquality],getIcon:async()=>(await Promise.resolve().then(()=>require("./liquality-CAaUCd5e.cjs"))).default,getInterface:async()=>{const t=Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt});return t.removeListener=(e,r)=>{},{provider:t}},platforms:["desktop"]},m1={label:ce.MeetOne,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&t[ee.MeetOne]==="MEETONE",getIcon:async()=>(await Promise.resolve().then(()=>require("./meetone-BZ3aoWrN.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},g1={label:ce.MyKey,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.MyKey],getIcon:async()=>(await Promise.resolve().then(()=>require("./mykey-CZN4sPdW.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},y1={label:ce.OwnBit,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.OwnBit],getIcon:async()=>(await Promise.resolve().then(()=>require("./ownbit-VF8WrVXj.cjs"))).default,getInterface:async()=>{const t=Fe(window.ethereum,{eth_chainId:({baseRequest:e})=>e({method:"eth_chainId"}).then(r=>`0x${parseInt(r).toString(16)}`),wallet_switchEthereumChain:bt,eth_selectAccounts:bt});return t.removeListener=(e,r)=>{},t.on=(e,r)=>{},{provider:t}},platforms:["mobile"]},b1={label:ce.TokenPocket,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.TokenPocket]&&!t[ee.TP],getIcon:async()=>(await Promise.resolve().then(()=>require("./tokenpocket-DIAKNYwm.cjs"))).default,getInterface:ir(ee.TokenPocket),platforms:["all"]},w1={label:ce.TP,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.TP],getIcon:async()=>(await Promise.resolve().then(()=>require("./tp-CaEYXVWW.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},v1={label:ce.XDEFI,injectedNamespace:re.XFI,checkProviderIdentity:({provider:t})=>t&&t.ethereum&&t.ethereum[ee.XDEFI],getIcon:async()=>(await Promise.resolve().then(()=>require("./xdefi-DErPG9ZG.cjs"))).default,getInterface:async()=>({provider:window.xfi&&window.xfi.ethereum}),platforms:["all"],externalUrl:Pt.XDEFI},A1={label:ce.OneInch,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.OneInch],getIcon:async()=>(await Promise.resolve().then(()=>require("./oneInch-DEkAFeVz.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["mobile"]},E1={label:ce.Tokenary,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Tokenary],getIcon:async()=>(await Promise.resolve().then(()=>require("./tokenary-BZciKIIk.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["all"]},_1={label:ce.Tally,injectedNamespace:re.Tally,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Tally],getIcon:async()=>(await Promise.resolve().then(()=>require("./tallywallet-BcU--zwx.cjs"))).default,getInterface:async()=>({provider:Fe(window.tally)}),platforms:["desktop"]},x1={label:ce.Zeal,injectedNamespace:re.Zeal,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Zeal],getIcon:async()=>(await Promise.resolve().then(()=>require("./zeal-BNuXNWJl.cjs"))).default,getInterface:async()=>({provider:Fe(window.zeal)}),platforms:["desktop"]},S1={label:ce.Rabby,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Rabby],getIcon:async()=>(await Promise.resolve().then(()=>require("./rabby-BZ9WZyMl.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["desktop","mobile"]},O1={label:ce.MathWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.MathWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./mathwallet-CQOdfnRf.cjs"))).default,getInterface:ir(ee.MathWallet),platforms:["all"]},I1={label:ce.Bitget,injectedNamespace:re.Bitget,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[ee.Bitget],getIcon:async()=>(await Promise.resolve().then(()=>require("./bitget-BOuw9wt3.cjs"))).default,getInterface:async()=>({provider:window.bitkeep&&window.bitkeep.ethereum}),platforms:["all"],externalUrl:Pt.Bitget},T1={label:ce.Sequence,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Sequence],getIcon:async()=>(await Promise.resolve().then(()=>require("./sequence-nDX0s1C8.cjs"))).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},C1={label:ce.Core,injectedNamespace:re.Avalanche,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Core],getIcon:async()=>(await Promise.resolve().then(()=>require("./core-C4vYtfJf.cjs"))).default,getInterface:ir(ee.Core),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},P1={label:ce.Bitski,injectedNamespace:re.Bitski,checkProviderIdentity:({provider:t})=>!!t&&!!t.getProvider&&!!t.getProvider().isBitski,getIcon:async()=>(await Promise.resolve().then(()=>require("./bitski-CBz-ABtN.cjs"))).default,getInterface:async()=>({provider:window.Bitski&&window.Bitski.getProvider&&window.Bitski.getProvider()}),platforms:["all"]},N1={label:ce.Zerion,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Zerion],getIcon:async()=>(await Promise.resolve().then(()=>require("./zerion-C72HLcSH.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["all"]},R1={label:ce.Enkrypt,injectedNamespace:re.Enkrypt,checkProviderIdentity:({provider:t})=>!!t&&!!t.providers&&!!t.providers.ethereum,getIcon:async()=>(await Promise.resolve().then(()=>require("./enkrypt-D97DftS-.cjs"))).default,getInterface:async()=>{const t=window.enkrypt.providers.ethereum.on.bind(window.enkrypt.providers.ethereum);window.enkrypt.providers.ethereum.on=(r,n)=>{r==="chainChanged"?t(r,s=>{n(`0x${parseInt(s).toString(16)}`)}):t(r,n)};const e=Fe(window.enkrypt.providers.ethereum,{eth_chainId:({baseRequest:r})=>r({method:"eth_chainId"}).then(n=>`0x${parseInt(n).toString(16)}`)});return e.removeListener=(r,n)=>{},{provider:e}},platforms:["all"]},k1={label:ce.Phantom,injectedNamespace:re.Phantom,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[ee.Phantom],getIcon:async()=>(await Promise.resolve().then(()=>require("./phantom-CAGfDb8i.cjs"))).default,getInterface:async()=>({provider:Fe(window.phantom.ethereum)}),platforms:["all"],externalUrl:Pt.Phantom},B1={label:ce.SafePal,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.SafePal],getIcon:async()=>(await Promise.resolve().then(()=>require("./safepal-DQueUp9Y.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["all"]},M1={label:ce.Rainbow,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Rainbow],getIcon:async()=>(await Promise.resolve().then(()=>require("./rainbow-CVWclm3e.cjs"))).default,getInterface:ir(ee.Rainbow),platforms:["all"]},D1={label:ce.OKXWallet,injectedNamespace:re.OKXWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.OKXWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./okxwallet-Dly3haem.cjs"))).default,getInterface:async()=>({provider:Fe(window.okxwallet)}),platforms:["all"],externalUrl:Pt.OKXWallet},L1={label:ce.DeFiWallet,injectedNamespace:re.DeFiConnectProvider,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.DeFiWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./defiwallet-DMVqndPX.cjs"))).default,getInterface:async()=>({provider:Fe(window.deficonnectProvider)}),platforms:["all"]},U1={label:ce.Safeheron,injectedNamespace:re.Safeheron,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Safeheron],getIcon:async()=>(await Promise.resolve().then(()=>require("./safeheron-B-ZpqQ0B.cjs"))).default,getInterface:async()=>({provider:Fe(window.safeheron)}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},F1={label:ce.Talisman,injectedNamespace:re.Talisman,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Talisman],getIcon:async()=>(await Promise.resolve().then(()=>require("./talisman-Bstkxx3i.cjs"))).default,getInterface:async()=>({provider:Fe(window.talismanEth)}),platforms:["desktop"],externalUrl:Pt.Talisman},j1={label:ce.RoninWallet,injectedNamespace:re.RoninWallet,checkProviderIdentity:({provider:t})=>!!t,getIcon:async()=>(await Promise.resolve().then(()=>require("./roninwallet-D4p_0GIy.cjs"))).default,getInterface:async()=>({provider:Fe(window.ronin.provider)}),platforms:["all"],externalUrl:Pt.RoninWallet},H1={label:ce.OneKey,injectedNamespace:re.OneKey,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[ee.OneKey],getIcon:async()=>(await Promise.resolve().then(()=>require("./onekey-COGuKSzE.cjs"))).default,getInterface:async()=>({provider:Fe(window.$onekey.ethereum)}),platforms:["all"],externalUrl:Pt.OneKey},G1={label:ce.Fordefi,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Fordefi],getIcon:async()=>(await Promise.resolve().then(()=>require("./fordefi-HEgLOeLR.cjs"))).default,getInterface:ir(ee.Fordefi,!0),platforms:["desktop"]},$1={label:ce.Coin98Wallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Coin98Wallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./coin98wallet-BH8SVKK_.cjs"))).default,getInterface:async()=>{const t=window.hasOwnProperty(re.Ethereum);let e;return t&&window[re.Ethereum].isCoin98?e=window[re.Ethereum]:e=window[re.Coin98Wallet].provider,{provider:e}},platforms:["all"],externalUrl:Pt.Coin98Wallet},W1={label:ce.SubWallet,injectedNamespace:re.SubWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.SubWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./subwallet-DrKEJVlF.cjs"))).default,getInterface:async()=>({provider:Fe(window.SubWallet)}),platforms:["all"],externalUrl:Pt.SubWallet},V1={label:ce.Kayros,injectedNamespace:re.Kayros,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Kayros],getIcon:async()=>(await Promise.resolve().then(()=>require("./kayros-DgsCe6u2.cjs"))).default,getInterface:async()=>({provider:Fe(window.kayros)}),platforms:["desktop"]},z1={label:ce.FoxWallet,injectedNamespace:re.FoxWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.FoxWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./foxwallet-gGVC9iZu.cjs"))).default,getInterface:async()=>({provider:Fe(window.foxwallet)}),platforms:["mobile"]},q1={label:ce.Lif3Wallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Lif3Wallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./lif3wallet-BFlc1eDe.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum,{wallet_switchEthereumChain:bt,eth_selectAccounts:bt})}),platforms:["mobile"]},Q1={label:ce.ZodiacPilot,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.ZodiacPilot],getIcon:async()=>(await Promise.resolve().then(()=>require("./zodiacpilot-BpIWZ2YO.cjs"))).default,getInterface:async()=>({provider:Fe(window.ethereum)}),platforms:["desktop"],externalUrl:Pt.ZodiacPilot},J1={label:ce.StableWallet,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.StableWallet],getIcon:async()=>(await Promise.resolve().then(()=>require("./stablewallet-DxM0QN7h.cjs"))).default,getInterface:ir(ee.StableWallet),platforms:["mobile"]},K1={label:ce.Echooo,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Echooo],getIcon:async()=>(await Promise.resolve().then(()=>require("./echooo-BAgpwsyX.cjs"))).default,getInterface:ir(ee.Echooo),platforms:["all"],externalUrl:Pt.Echooo},Z1={label:ce.Keplr,injectedNamespace:re.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[ee.Keplr],getIcon:async()=>(await Promise.resolve().then(()=>require("./keplr-KVKIibXc.cjs"))).default,getInterface:ir(ee.Keplr),platforms:["all"],externalUrl:Pt.Keplr},X1=[x1,Jx,Kx,qx,a1,Xx,Yx,e1,t1,r1,n1,s1,i1,o1,I1,l1,c1,Zx,u1,f1,h1,d1,p1,m1,g1,y1,b1,w1,v1,A1,E1,_1,S1,O1,T1,C1,P1,R1,k1,D1,N1,M1,B1,L1,Qx,U1,F1,H1,G1,j1,$1,W1,V1,z1,q1,Q1,J1,K1,Z1],Y1=B.object({label:B.string().required(),getIcon:B.function().arity(0).required(),getInterface:B.function().maxArity(1).required(),injectedNamespace:B.string().required(),checkProviderIdentity:B.function().arity(1).required(),platforms:B.array().items(B.string()),externalUrl:B.string()}),eS=B.array().items(Y1),tS=B.object().pattern(/\w+/,B.any().allow(B.boolean(),B.array().items(B.string())));B.object({custom:eS,filter:tS,displayUnavailable:[B.boolean(),B.array().items(B.string())],walletUnavailableMessage:B.function(),sort:B.function(),externalUrl:B.string(),disable6963Support:B.boolean()});const rS=B.object({uuid:B.string().required(),name:B.string().required(),icon:B.string().required(),rdns:B.string().required()}),nS=B.object({info:rS.required(),provider:B.object().required()}),sS=t=>Mm(nS,t),iS=({label:t,externalUrl:e})=>e?`Please <a href="${e}" target="_blank">install or switch to</a> ${t} to continue`:`Please install or enable ${t} to continue`,oS=(t,e,r)=>{var n;return t?e({provider:t,device:r})?!0:Array.isArray(t.providers)&&!!((n=t.providers)!=null&&n.some(s=>e({provider:s,device:r}))):!1};function aS(t){if(!t)return!1;const e=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/\bon[a-z]+\s*=\s*["']?(?:javascript:)?/gi,n=/\b(href|xlink:href)\s*=\s*["']?javascript:/gi;return!!(e.test(t)||r.test(t)||n.test(t))}const Ay=[];function lS(){window.addEventListener("eip6963:announceProvider",t=>{const e=t,{detail:r}=e;if(!r)return;if(e){const o=sS(r);if(o&&o.error)throw o.error}const{info:n,provider:s}=r,{name:i,icon:a}=n;if(aS(a)){console.error(`The icon for injected wallet: ${i} contains executable JavaScript and has been blocked.`);return}Ay.push({label:i,getIcon:async()=>a,getInterface:async()=>({provider:s}),platforms:["all"],eip6963Provider:s,checkProviderIdentity:({provider:o})=>!!o})}),window.dispatchEvent(new CustomEvent("eip6963:requestProvider"))}function cS(t){return typeof window>"u"?()=>null:(lS(),e=>{const{device:r}=e,{custom:n=[],filter:s={},displayUnavailable:i,sort:a,walletUnavailableMessage:o}={},m=Vx([...n,...Ay,...X1],({label:d})=>d).reduce((d,l)=>{const{label:f,platforms:g,injectedNamespace:h,checkProviderIdentity:u,eip6963Provider:b}=l,p=s[f],y=p===!1,v=b||window[h],E=oS(v,u,r);let x=!1;Array.isArray(p)&&(p.includes(r.type)||r.os&&p.includes(r.os.name))&&(x=!0),p==="unavailable"&&!E&&(x=!0);const C=!g.includes("all")&&r.type!==null&&!g.includes(r.type)&&!g.includes(r.os.name);return!y&&!x&&!C&&(E||i===!0||Array.isArray(i)&&i.length&&i.includes(l.label))&&d.push((i===!0||Array.isArray(i)&&i.length&&i.includes(l.label))&&!E?{...l,getInterface:async()=>{throw new Error(o?o(l):iS(l))}}:l),d},[]);if(m.length){const d=m.length>1,l=m.filter(f=>{const{label:g}=f;return!(g===ce.Detected&&d)}).map(({label:f,getIcon:g,getInterface:h})=>({label:f,getIcon:g,getInterface:h})).sort((f,g)=>f.label<g.label?-1:f.label>g.label?1:0);return a?a(l):l}return[]})}function uS({supportedWalletType:t="all",darkMode:e=!1,enableMobileWalletLink:r=!1,reloadOnDisconnect:n=!0}={}){return()=>({label:"Coinbase Wallet",getIcon:async()=>(await Promise.resolve().then(()=>require("./icon-CTfUN-52.cjs"))).default,getInterface:async({chains:s,appMetadata:i})=>{(r||n||e)&&console.warn("darkMode, enableMobileWalletLink and reloadOnDisconnect init props are deprecated after version 2.2.7 of @web3-onboard/coinbase");const{name:a,icon:o}=i||{},{default:c}=await Promise.resolve().then(()=>require("./index-D2-epXsX.cjs")).then(x=>x.index),m=c.default?c.default:c,{isHex:d,toHex:l,createEIP1193Provider:f,fromHex:g}=await Promise.resolve().then(()=>require("./index-Ddx9i5B2.cjs")),u=`data:image/svg+xml;base64,${window.btoa(o||"")}`,b=s.map(({id:x})=>g(x,"number")),p=new m({appName:a||"",appLogoUrl:u,appChainIds:b}),y=p.makeWeb3Provider({options:t}),v=y.on.bind(y);y.on=(x,C)=>(v(x,T=>{if(x==="chainChanged"){let A;d(T)?A=T:A=l(T),C(A);return}C(T)}),y);const E=f(y);return E.removeListener=(x,C)=>{},{provider:E,instance:p}}})}function fS(){return typeof window>"u"?()=>null:()=>({label:"Trust Wallet",getIcon:async()=>(await Promise.resolve().then(()=>require("./icon-DqiOvIRp.cjs"))).default,getInterface:async()=>{const t=window.hasOwnProperty("ethereum");let e;if(t&&window.ethereum.isTrust)e=window.ethereum;else if(window.trustwallet)e=window.trustwallet;else throw new Error(Bm("Trust Wallet","https://trustwallet.com/browser-extension"));return{provider:e}}})}const Np={permStore:!0,timeoutSeconds:3600};class Ey{constructor(){F(this,"cache",new Map);F(this,"pendingPromises",new Map);F(this,"defaultOptions",{...Np});F(this,"browserStorageSupported");this.browserStorageSupported=this.checkBrowserStorageSupport(),this.browserStorageSupported||console.warn("Browser storage is not supported or blocked. Falling back to in-memory cache.")}async getAsync(e,r,n=this.defaultOptions){const s=this.get(e);if(s!==null)return s;if(this.pendingPromises.has(e))return this.pendingPromises.get(e);const i=(async()=>{try{const a=await r();return this.set(e,a,n),a}finally{this.pendingPromises.delete(e)}})();return this.pendingPromises.set(e,i),i}get(e){const r=this.cache.get(e);if(r){if(!r.expiration||r.expiration>Date.now())return r.value;this.cache.delete(e)}if(this.defaultOptions.permStore&&this.browserStorageSupported){const n=localStorage.getItem(e);if(n){const{value:s,expiration:i}=JSON.parse(n);if(!i||i>Date.now())return s;localStorage.removeItem(e)}}return null}setDefaultOptions(e){this.defaultOptions={...this.defaultOptions,...e}}set(e,r,n=Np){const s=n.timeoutSeconds>0?Date.now()+n.timeoutSeconds*1e3:null,i={value:r,expiration:s};this.cache.set(e,i),n.permStore&&this.browserStorageSupported&&localStorage.setItem(e,JSON.stringify(i))}checkBrowserStorageSupport(){try{const e="__localCacheTest__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch{return!1}}}const ih=new Ey,hS=cS(),dS=uS(),pS=fS(),mS=[hS,pS,dS],gS=t=>{const[e,r]=tt.useState(null),[n,s]=tt.useState(null);return tt.useEffect(()=>{if(e){console.log("Chains loaded:",e);const i={wallets:mS,chains:e,appMetadata:t.appMetadata,connect:{autoConnectLastWallet:!0},accountCenter:{desktop:{enabled:!1},mobile:{enabled:!1}}};gy()(i),s(i)}},[e]),tt.useEffect(()=>{(async()=>{try{if(t.providersConfigUrl){const a=await ih.getAsync("URLS_"+t.providersConfigUrl,async()=>await(await fetch(t.providersConfigUrl)).json());a&&(r(a),(a||[]).forEach(o=>{qi[o.id.toString()]=o}),t.onConfigLoaded&&t.onConfigLoaded("providers",a))}for(const[a,o]of Object.entries(t.configUrlMaps||{})){const c=await ih.getAsync("CONFIG_"+o,async()=>await(await fetch(o)).json());c&&t.onConfigLoaded&&t.onConfigLoaded(a,c)}}catch(a){console.error("Error loading configs",a),t.onError&&t.onError(a)}})()},[t.configUrlMaps,t.providersConfigUrl,t.onConfigLoaded]),n?cf.jsx(dA,{web3Onboard:t.web3OnboardInitializer(n),children:t.children}):cf.jsx(cf.Fragment,{children:t.children})};class yS{static addressLink(e,r){const n=qi[e];return n?n.blockExplorerUrl+"/address/"+r:null}static transactionLink(e,r){const n=qi[e];return n?n.blockExplorerUrl+"/tx/"+r:null}}exports.AppWrapper=gS;exports.ApprovableButton=Fx;exports.ChainConstants=qi;exports.ERC20_ABI=Cc;exports.GlobalCache=ih;exports.LocalCache=Ey;exports.ProviderRpcError=Af;exports.Utils=yS;exports.chainIdValidation=uu;exports.chainNamespaceValidation=fu;exports.chainValidation=Dm;exports.commonjsGlobal=Or;exports.createDownloadMessage=Bm;exports.createEIP1193Provider=Fe;exports.getAugmentedNamespace=Sb;exports.getChain=Dx;exports.getDefaultExportFromCjs=nu;exports.getWeb3OnboardInit=Ux;exports.setWeb3OnboardInit=gy;exports.useConnectWalletSimple=yy;exports.useContracts=by;exports.useErc20=wy;exports.validate=Mm;
//# sourceMappingURL=index-CqM1WWgR.cjs.map
