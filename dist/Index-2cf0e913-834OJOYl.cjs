"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("./index-SMGGPkbE.cjs");function M(i,{from:e,to:n},o={}){const r=getComputedStyle(i),a=r.transform==="none"?"":r.transform,[f,s]=r.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*f/n.width-(n.left+f),l=e.top+e.height*s/n.height-(n.top+s),{delay:d=0,duration:u=p=>Math.sqrt(p)*120,easing:v=t.cubicOut}=o;return{delay:d,duration:t.is_function(u)?u(Math.sqrt(c*c+l*l)):u,easing:v,css:(p,h)=>{const m=h*c,y=h*l,_=p+h*e.width/n.width,g=p+h*e.height/n.height;return`transform: ${a} translate(${m}px, ${y}px) scale(${_}, ${g});`}}}function O(i){t.append_styles(i,"svelte-13cuwwo","div.svelte-13cuwwo{box-sizing:content-box}.border.svelte-13cuwwo{border:2px solid;border-radius:120px;overflow:hidden}")}function $(i){let e,n;return{c(){e=t.element("div"),t.attr(e,"class","border svelte-13cuwwo"),t.attr(e,"style",n=`
    width: ${i[2]-i[3]*2}px; 
    height: ${i[2]-i[3]*2}px; 
    border-color: var(${i[1]}); 
    padding: ${i[3]}px; 
    background-color: ${i[4]};
    border-radius: 50%;
    display: flex;
    justify-content: center;
  `)},m(o,r){t.insert(o,e,r),e.innerHTML=i[0]},p(o,[r]){r&1&&(e.innerHTML=o[0]),r&30&&n!==(n=`
    width: ${o[2]-o[3]*2}px; 
    height: ${o[2]-o[3]*2}px; 
    border-color: var(${o[1]}); 
    padding: ${o[3]}px; 
    background-color: ${o[4]};
    border-radius: 50%;
    display: flex;
    justify-content: center;
  `)&&t.attr(e,"style",n)},i:t.noop,o:t.noop,d(o){o&&t.detach(e)}}}function H(i,e,n){let{icon:o}=e,{borderColorVar:r}=e,{size:a}=e,{padding:f=0}=e,{background:s="transparent"}=e;return i.$$set=c=>{"icon"in c&&n(0,o=c.icon),"borderColorVar"in c&&n(1,r=c.borderColorVar),"size"in c&&n(2,a=c.size),"padding"in c&&n(3,f=c.padding),"background"in c&&n(4,s=c.background)},[o,r,a,f,s]}class D extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,H,$,t.safe_not_equal,{icon:0,borderColorVar:1,size:2,padding:3,background:4},O)}}function q(i){t.append_styles(i,"svelte-jvic9v","div.notification-icons-wrapper.svelte-jvic9v{height:32px;width:32px}.border.svelte-jvic9v{border-radius:8px}div.notification-icon.svelte-jvic9v{padding:6px}div.pending-icon.svelte-jvic9v{animation:svelte-jvic9v-blink 2s ease-in infinite;height:100%;width:100%;padding:7px}@keyframes svelte-jvic9v-blink{from,to{opacity:1}50%{opacity:0.2}}div.border-action.svelte-jvic9v{height:32px;min-width:32px;border-radius:8px;overflow:hidden;will-change:transform}div.border-action.svelte-jvic9v:before{content:'';background-image:conic-gradient(#b1b7f2 20deg, #6370e5 120deg);height:140%;width:140%;position:absolute;left:-25%;top:-25%;animation:svelte-jvic9v-rotate 2s infinite linear}div.chain-icon-container.svelte-jvic9v{left:18px;top:18px}@keyframes svelte-jvic9v-rotate{100%{transform:rotate(-360deg)}}")}function w(i){let e,n,o,r,a=t.defaultNotifyEventStyles[i[1].type].eventIcon+"",f,s,c,l=!i[1].id.includes("customNotification")&&!i[1].id.includes("preflight"),d,u=i[1].type==="pending"&&C(),v=l&&z(i);return{c(){e=t.element("div"),u&&u.c(),n=t.space(),o=t.element("div"),r=t.element("div"),c=t.space(),v&&v.c(),t.attr(r,"class",f=t.null_to_empty(`notification-icon flex items-center justify-center ${i[1].type==="pending"?"pending-icon":""}`)+" svelte-jvic9v"),t.attr(o,"class","flex items-center justify-center border relative notification-icons-wrapper svelte-jvic9v"),t.attr(o,"style",s=`background:${t.defaultNotifyEventStyles[i[1].type].backgroundColor}; color: ${t.defaultNotifyEventStyles[i[1].type].iconColor||""}; ${i[1].type==="pending"?"height: 28px; width: 28px; margin: 2px;":`border: 2px solid ${t.defaultNotifyEventStyles[i[1].type].borderColor}`}; `),t.attr(e,"class","relative")},m(p,h){t.insert(p,e,h),u&&u.m(e,null),t.append(e,n),t.append(e,o),t.append(o,r),r.innerHTML=a,t.append(e,c),v&&v.m(e,null),d=!0},p(p,h){p[1].type==="pending"?u||(u=C(),u.c(),u.m(e,n)):u&&(u.d(1),u=null),(!d||h&2)&&a!==(a=t.defaultNotifyEventStyles[p[1].type].eventIcon+"")&&(r.innerHTML=a),(!d||h&2&&f!==(f=t.null_to_empty(`notification-icon flex items-center justify-center ${p[1].type==="pending"?"pending-icon":""}`)+" svelte-jvic9v"))&&t.attr(r,"class",f),(!d||h&2&&s!==(s=`background:${t.defaultNotifyEventStyles[p[1].type].backgroundColor}; color: ${t.defaultNotifyEventStyles[p[1].type].iconColor||""}; ${p[1].type==="pending"?"height: 28px; width: 28px; margin: 2px;":`border: 2px solid ${t.defaultNotifyEventStyles[p[1].type].borderColor}`}; `))&&t.attr(o,"style",s),h&2&&(l=!p[1].id.includes("customNotification")&&!p[1].id.includes("preflight")),l?v?(v.p(p,h),h&2&&t.transition_in(v,1)):(v=z(p),v.c(),t.transition_in(v,1),v.m(e,null)):v&&(t.group_outros(),t.transition_out(v,1,1,()=>{v=null}),t.check_outros())},i(p){d||(t.transition_in(v),d=!0)},o(p){t.transition_out(v),d=!1},d(p){p&&t.detach(e),u&&u.d(),v&&v.d()}}}function C(i){let e;return{c(){e=t.element("div"),t.attr(e,"class","border-action absolute svelte-jvic9v")},m(n,o){t.insert(n,e,o)},d(n){n&&t.detach(e)}}}function z(i){let e,n,o;return n=new D({props:{icon:i[0].icon,size:16,background:i[0].color,borderColorVar:"--notify-onboard-background, var(--onboard-gray-600, var(--gray-600))",padding:3}}),{c(){e=t.element("div"),t.create_component(n.$$.fragment),t.attr(e,"class","absolute chain-icon-container svelte-jvic9v")},m(r,a){t.insert(r,e,a),t.mount_component(n,e,null),o=!0},p(r,a){const f={};a&1&&(f.icon=r[0].icon),a&1&&(f.background=r[0].color),n.$set(f)},i(r){o||(t.transition_in(n.$$.fragment,r),o=!0)},o(r){t.transition_out(n.$$.fragment,r),o=!1},d(r){r&&t.detach(e),t.destroy_component(n)}}}function A(i){let e,n,o=i[1].type&&w(i);return{c(){o&&o.c(),e=t.empty()},m(r,a){o&&o.m(r,a),t.insert(r,e,a),n=!0},p(r,[a]){r[1].type?o?(o.p(r,a),a&2&&t.transition_in(o,1)):(o=w(r),o.c(),t.transition_in(o,1),o.m(e.parentNode,e)):o&&(t.group_outros(),t.transition_out(o,1,1,()=>{o=null}),t.check_outros())},i(r){n||(t.transition_in(o),n=!0)},o(r){t.transition_out(o),n=!1},d(r){o&&o.d(r),r&&t.detach(e)}}}function F(i,e,n){let{chainStyles:o=t.unrecognizedChainStyle}=e,{notification:r}=e;return i.$$set=a=>{"chainStyles"in a&&n(0,o=a.chainStyles),"notification"in a&&n(1,r=a.notification)},[o,r]}class G extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,F,A,t.safe_not_equal,{chainStyles:0,notification:1},q)}}function V(i){t.append_styles(i,"svelte-pm7idu",`div.svelte-pm7idu{display:flex;justify-content:center;font-size:inherit;font-family:inherit;margin:0 1.5rem 0 0.75rem}span.svelte-pm7idu{font-family:inherit;display:flex;align-items:center;margin:0 2px}.time.svelte-pm7idu{color:var(
      --notify-onboard-timer-color,
      var(--onboard-gray-300, var(--gray-300))
    );margin-left:4px}`)}function S(i){let e,n,o=i[2](i[1]-i[0])+"",r,a;return{c(){e=t.text(`-
    `),n=t.element("span"),r=t.text(o),a=t.text(`
    ago`),t.attr(n,"class","svelte-pm7idu")},m(f,s){t.insert(f,e,s),t.insert(f,n,s),t.append(n,r),t.insert(f,a,s)},p(f,s){s&3&&o!==(o=f[2](f[1]-f[0])+"")&&t.set_data(r,o)},d(f){f&&t.detach(e),f&&t.detach(n),f&&t.detach(a)}}}function W(i){let e,n=i[0]&&S(i);return{c(){e=t.element("div"),n&&n.c(),t.attr(e,"class","time svelte-pm7idu")},m(o,r){t.insert(o,e,r),n&&n.m(e,null)},p(o,[r]){o[0]?n?n.p(o,r):(n=S(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:t.noop,o:t.noop,d(o){o&&t.detach(e),n&&n.d()}}}function B(i,e,n){let o,r;t.component_subscribe(i,t.$format,l=>n(3,o=l)),t.component_subscribe(i,t.$locale,l=>n(4,r=l));let{startTime:a}=e;function f(l){const d=Math.floor(l/1e3),u=d<0?0:d;return u>=60?`${Math.floor(u/60).toLocaleString(r)} ${o("notify.time.minutes")}`:`${u.toLocaleString(r)} ${o("notify.time.seconds")}`}let s=Date.now();const c=setInterval(()=>{n(1,s=Date.now())},1e3);return t.onDestroy(()=>{clearInterval(c)}),i.$$set=l=>{"startTime"in l&&n(0,a=l.startTime)},[a,s,f]}class K extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,B,W,t.safe_not_equal,{startTime:0},V)}}function Y(i){t.append_styles(i,"svelte-1otz6tt",`div.notify-transaction-data.svelte-1otz6tt{font-size:var(
      --notify-onboard-transaction-font-size,
      var(--onboard-font-size-6, var(--font-size-6))
    );font-family:inherit;margin:0px 20px 0px 8px;justify-content:center}.hash-time.svelte-1otz6tt{display:inline-flex;margin-top:4px;font-size:var(
      --notify-onboard-hash-time-font-size,
      var(--onboard-font-size-7, var(--font-size-7))
    );line-height:var(
      --notify-onboard-hash-time-font-line-height,
      var(--onboard-font-line-height-4, var(--font-line-height-4))
    )}.address-hash.svelte-1otz6tt{color:var(
      --notify-onboard-address-hash-color,
      var(--onboard-primary-200, var(--primary-200))
    )}a.address-hash.svelte-1otz6tt{color:var(
      --notify-onboard-anchor-color,
      var(--onboard-primary-400, var(--primary-400))
    )}a.svelte-1otz6tt{display:flex;text-decoration:none;color:inherit}.transaction-status.svelte-1otz6tt{color:var(--notify-onboard-transaction-status, inherit);line-height:var(
      --notify-onboard-font-size-5,
      var(--onboard-font-size-5, var(--font-size-5))
    );font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}`)}function T(i){let e,n,o,r;function a(c,l){return c[0].link?U:Z}let f=a(i),s=f(i);return o=new K({props:{startTime:i[0].startTime}}),{c(){e=t.element("span"),s.c(),n=t.space(),t.create_component(o.$$.fragment),t.attr(e,"class","hash-time svelte-1otz6tt")},m(c,l){t.insert(c,e,l),s.m(e,null),t.append(e,n),t.mount_component(o,e,null),r=!0},p(c,l){f===(f=a(c))&&s?s.p(c,l):(s.d(1),s=f(c),s&&(s.c(),s.m(e,n)));const d={};l&1&&(d.startTime=c[0].startTime),o.$set(d)},i(c){r||(t.transition_in(o.$$.fragment,c),r=!0)},o(c){t.transition_out(o.$$.fragment,c),r=!1},d(c){c&&t.detach(e),s.d(),t.destroy_component(o)}}}function Z(i){let e,n=t.shortenAddress(i[0].id)+"",o;return{c(){e=t.element("div"),o=t.text(n),t.attr(e,"class","address-hash svelte-1otz6tt")},m(r,a){t.insert(r,e,a),t.append(e,o)},p(r,a){a&1&&n!==(n=t.shortenAddress(r[0].id)+"")&&t.set_data(o,n)},d(r){r&&t.detach(e)}}}function U(i){let e,n=t.shortenAddress(i[0].id)+"",o,r;return{c(){e=t.element("a"),o=t.text(n),t.attr(e,"class","address-hash svelte-1otz6tt"),t.attr(e,"href",r=i[0].link),t.attr(e,"target","_blank"),t.attr(e,"rel","noreferrer noopener")},m(a,f){t.insert(a,e,f),t.append(e,o)},p(a,f){f&1&&n!==(n=t.shortenAddress(a[0].id)+"")&&t.set_data(o,n),f&1&&r!==(r=a[0].link)&&t.attr(e,"href",r)},d(a){a&&t.detach(e)}}}function J(i){let e,n,o=i[0].message+"",r,a,f=i[0].id&&!i[0].id.includes("customNotification")&&!i[0].id.includes("preflight"),s,c=f&&T(i);return{c(){e=t.element("div"),n=t.element("span"),r=t.text(o),a=t.space(),c&&c.c(),t.attr(n,"class","transaction-status svelte-1otz6tt"),t.attr(e,"class","flex flex-column notify-transaction-data svelte-1otz6tt")},m(l,d){t.insert(l,e,d),t.append(e,n),t.append(n,r),t.append(e,a),c&&c.m(e,null),s=!0},p(l,[d]){(!s||d&1)&&o!==(o=l[0].message+"")&&t.set_data(r,o),d&1&&(f=l[0].id&&!l[0].id.includes("customNotification")&&!l[0].id.includes("preflight")),f?c?(c.p(l,d),d&1&&t.transition_in(c,1)):(c=T(l),c.c(),t.transition_in(c,1),c.m(e,null)):c&&(t.group_outros(),t.transition_out(c,1,1,()=>{c=null}),t.check_outros())},i(l){s||(t.transition_in(c),s=!0)},o(l){t.transition_out(c),s=!1},d(l){l&&t.detach(e),c&&c.d()}}}function Q(i,e,n){let{notification:o}=e;return i.$$set=r=>{"notification"in r&&n(0,o=r.notification)},[o]}class X extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,Q,J,t.safe_not_equal,{notification:0},Y)}}var tt=`
<svg width="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 0C4.47 0 0 4.47 0 10C0 15.53 4.47 20 10 20C15.53 20 20 15.53 20 10C20 4.47 15.53 0 10 0ZM15 13.59L13.59 15L10 11.41L6.41 15L5 13.59L8.59 10L5 6.41L6.41 5L10 8.59L13.59 5L15 6.41L11.41 10L15 13.59Z" fill="currentColor"/>
</svg>
`;const et=["txPool"],nt=["main","matic-main"],ot=["Ledger","Trezor","Keystone","KeepKey","D'CENT"],x=i=>et.includes(i),j=i=>nt.includes(i),L=i=>i&&ot.includes(i.label);async function P({type:i,wallet:e,transaction:n}){const{from:o,input:r,value:a,to:f,nonce:s,gas:c,network:l}=n,d=t.networkToChainId[l],{gasPriceProbability:u}=t.state.get().notify.replacement,{gas:v}=t.configuration;if(!v)return;const[p]=await v.get({chains:[t.networkToChainId[l]],endpoint:"blockPrices"}),{maxFeePerGas:h,maxPriorityFeePerGas:m}=p.blockPrices[0].estimatedPrices.find(({confidence:b})=>b===(i==="speedup"?u==null?void 0:u.speedup:u==null?void 0:u.cancel))||{};if(!h||!m)return;const y=t.gweiToWeiHex(h),_=t.gweiToWeiHex(m),g=r==="0x"?{}:{data:r};return e.provider.request({method:"eth_sendTransaction",params:[Object.assign({type:"0x2",from:o,to:i==="cancel"?o:f,chainId:parseInt(d),value:t.bigIntToHex(BigInt(a)),nonce:t.toHexString(s),gasLimit:t.toHexString(c),maxFeePerGas:y,maxPriorityFeePerGas:_},g)]})}function it(i){t.append_styles(i,"svelte-ftkynd",`.bn-notify-notification.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{--backround-color:var(--notify-onboard-background, var(--w3o-backround-color, var(--gray-700)));--foreground-color:var(--w3o-foreground-color, var(--gray-600));--text-color:var(--w3o-text-color, #FFF);--border-color:var(--w3o-border-color);font-family:inherit;transition:background 300ms ease-in-out, color 300ms ease-in-out;pointer-events:all;backdrop-filter:blur(5px);width:100%;min-height:56px;display:flex;flex-direction:column;position:relative;overflow:hidden;border:1px solid transparent;border-radius:var(
      --notify-onboard-border-radius,
      var(--onboard-border-radius-4, var(--border-radius-4))
    );background:var(--foreground-color);color:var(--text-color)}.bn-notify-notification-inner.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{padding:0.75rem}.bn-notify-notification.svelte-ftkynd:hover>div.bn-notify-notification-inner.svelte-ftkynd>div.notify-close-btn-desktop.svelte-ftkynd{visibility:visible;opacity:1}div.notify-close-btn.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{margin-left:auto;margin-bottom:auto;height:24px;width:24px;position:absolute;top:8px;right:8px;justify-content:center;align-items:center}div.notify-close-btn-desktop.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{visibility:hidden;transition:visibility 0.15s linear, opacity 0.15s linear;opacity:0}.notify-close-btn.svelte-ftkynd .close-icon.svelte-ftkynd.svelte-ftkynd{width:20px;margin:auto;color:var(--text-color)}.notify-close-btn.svelte-ftkynd>.close-icon.svelte-ftkynd.svelte-ftkynd{color:var(--notify-onboard-close-icon-color)}.notify-close-btn.svelte-ftkynd:hover>.close-icon.svelte-ftkynd.svelte-ftkynd{color:var(--notify-onboard-close-icon-hover)}.transaction-status.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{color:var(
      --notify-onboard-transaction-status-color,
      var(--onboard-primary-100, var(--primary-100))
    );line-height:14px}.dropdown.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{height:0px;overflow:hidden;transition:height 150ms ease-in-out}.dropdown-visible.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{height:48px}.dropdown-buttons.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{background-color:var(
      --notify-onboard-dropdown-background,
      var(--onboard-gray-700, var(--gray-700))
    );width:100%;padding:8px}.dropdown-button.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd{padding:4px 12px;border-radius:var(
      --notify-onboard-dropdown-border-radius,
      var(--onboard-border-radius-5, var(--border-radius-5))
    );background-color:transparent;font-size:var(
      --notify-onboard-dropdown-font-size,
      var(--onboard-font-size-6, var(--font-size-6))
    );color:var(
      --notify-onboard-dropdown-text-color,
      var(--onboard-primary-400, var(--primary-400))
    );transition:all 150ms ease-in-out;cursor:pointer}.dropdown-button.svelte-ftkynd.svelte-ftkynd.svelte-ftkynd:hover{background:var(
      --notify-onboard-dropdown-btn-hover-background,
      rgba(146, 155, 237, 0.2)
    )}`)}function N(i){let e,n,o,r,a,f;return{c(){e=t.element("div"),n=t.element("button"),n.textContent="Cancel",o=t.space(),r=t.element("button"),r.textContent="Speed-up",t.attr(n,"class","dropdown-button svelte-ftkynd"),t.attr(r,"class","dropdown-button svelte-ftkynd"),t.attr(e,"class","dropdown-buttons flex items-center justify-end svelte-ftkynd")},m(s,c){t.insert(s,e,c),t.append(e,n),t.append(e,o),t.append(e,r),a||(f=[t.listen(n,"click",i[10]),t.listen(r,"click",i[11])],a=!0)},p:t.noop,d(s){s&&t.detach(e),a=!1,t.run_all(f)}}}function rt(i){let e,n,o,r,a,f,s,c,l,d,u,v,p,h;o=new G({props:{notification:i[0],chainStyles:t.chainStyles[t.networkToChainId[i[0].network]]}}),a=new X({props:{notification:i[0]}});let m=i[0].eventCode==="txPool"&&N(i);return{c(){e=t.element("div"),n=t.element("div"),t.create_component(o.$$.fragment),r=t.space(),t.create_component(a.$$.fragment),f=t.space(),s=t.element("div"),c=t.element("div"),l=t.space(),d=t.element("div"),m&&m.c(),t.attr(c,"class","flex items-center close-icon svelte-ftkynd"),t.attr(s,"class","notify-close-btn notify-close-btn-"+i[4].type+" pointer flex svelte-ftkynd"),t.attr(n,"class","flex bn-notify-notification-inner svelte-ftkynd"),t.attr(d,"class","dropdown svelte-ftkynd"),t.toggle_class(d,"dropdown-visible",i[2]&&i[5]&&x(i[0].eventCode)&&j(i[0].network)&&L(i[7])),t.attr(e,"class",u="bn-notify-notification bn-notify-notification-"+i[0].type+"} svelte-ftkynd"),t.toggle_class(e,"bn-notify-clickable",i[0].onClick)},m(y,_){t.insert(y,e,_),t.append(e,n),t.mount_component(o,n,null),t.append(n,r),t.mount_component(a,n,null),t.append(n,f),t.append(n,s),t.append(s,c),c.innerHTML=tt,t.append(e,l),t.append(e,d),m&&m.m(d,null),v=!0,p||(h=[t.listen(s,"click",t.stop_propagation(i[9])),t.listen(e,"mouseenter",i[12]),t.listen(e,"mouseleave",i[13]),t.listen(e,"click",i[8])],p=!0)},p(y,[_]){const g={};_&1&&(g.notification=y[0]),_&1&&(g.chainStyles=t.chainStyles[t.networkToChainId[y[0].network]]),o.$set(g);const b={};_&1&&(b.notification=y[0]),a.$set(b),y[0].eventCode==="txPool"?m?m.p(y,_):(m=N(y),m.c(),m.m(d,null)):m&&(m.d(1),m=null),(!v||_&165)&&t.toggle_class(d,"dropdown-visible",y[2]&&y[5]&&x(y[0].eventCode)&&j(y[0].network)&&L(y[7])),(!v||_&1&&u!==(u="bn-notify-notification bn-notify-notification-"+y[0].type+"} svelte-ftkynd"))&&t.attr(e,"class",u),(!v||_&1)&&t.toggle_class(e,"bn-notify-clickable",y[0].onClick)},i(y){v||(t.transition_in(o.$$.fragment,y),t.transition_in(a.$$.fragment,y),v=!0)},o(y){t.transition_out(o.$$.fragment,y),t.transition_out(a.$$.fragment,y),v=!1},d(y){y&&t.detach(e),t.destroy_component(o),t.destroy_component(a),m&&m.d(),p=!1,t.run_all(h)}}}function at(i,e,n){let o,r;t.component_subscribe(i,t.wallets$,b=>n(15,o=b)),t.component_subscribe(i,t.$format,b=>n(3,r=b));const{device:a,gas:f}=t.configuration;let{notification:s}=e,{updateParentOnRemove:c}=e,l,d=!1;const u=t.transactions$.getValue().find(({hash:b})=>b===s.id),v=u&&o.find(({accounts:b})=>!!b.find(({address:k})=>k.toLowerCase()===u.from.toLowerCase()));function p(b){s!=null&&s.onClick&&s.onClick(b)}t.onDestroy(()=>{clearTimeout(l)});const h=()=>{t.removeNotification(s.id),t.removeTransaction(s.id),c()},m=async()=>{try{await P({type:"cancel",wallet:v,transaction:u})}catch{const k=`${u.hash.slice(0,9)}:txReplaceError${u.hash.slice(-5)}`;t.addCustomNotification({id:k,type:"hint",eventCode:"txError",message:r("notify.transaction.txReplaceError"),key:k,autoDismiss:4e3})}},y=async()=>{try{await P({type:"speedup",wallet:v,transaction:u})}catch{const k=`${u.hash.slice(0,9)}:txReplaceError${u.hash.slice(-5)}`;t.addCustomNotification({id:k,type:"hint",eventCode:"txError",message:r("notify.transaction.txReplaceError"),key:k,autoDismiss:4e3})}},_=()=>n(2,d=!0),g=()=>n(2,d=!1);return i.$$set=b=>{"notification"in b&&n(0,s=b.notification),"updateParentOnRemove"in b&&n(1,c=b.updateParentOnRemove)},i.$$.update=()=>{i.$$.dirty&1&&s.autoDismiss&&(l=setTimeout(()=>{t.removeNotification(s.id),t.removeTransaction(s.id)},s.autoDismiss))},[s,c,d,r,a,f,u,v,p,h,m,y,_,g]}class lt extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,at,rt,t.safe_not_equal,{notification:0,updateParentOnRemove:1},it)}}function st(i){t.append_styles(i,"svelte-1h8mmo3",`ul.svelte-1h8mmo3{padding-left:0;display:flex;flex-flow:column nowrap;font-size:var(
      --notify-onboard-font-size,
      var(--onboard-font-size-5, var(--font-size-5))
    );list-style-type:none;overflow:visible;scrollbar-width:none;box-sizing:border-box;z-index:var(--notify-onboard-z-index, 300);font-family:var(
      --notify-onboard-font-family,
      var(--onboard-font-family-normal, inherit)
    );margin:8px 0;pointer-events:all}.y-scroll.svelte-1h8mmo3{overflow-y:scroll}.y-visible.svelte-1h8mmo3{overflow-y:visible}li.notification-list-top.svelte-1h8mmo3:not(:first-child){margin-top:8px}li.notification-list-bottom.svelte-1h8mmo3:not(:first-child){margin-bottom:8px}ul.bn-notify-bottomLeft.svelte-1h8mmo3,ul.bn-notify-bottomRight.svelte-1h8mmo3{flex-direction:column-reverse}@media only screen and (max-width: 450px){ul.svelte-1h8mmo3{width:100%}}.bn-notify-clickable:hover{cursor:pointer}.svelte-1h8mmo3::-webkit-scrollbar{display:none}`)}function E(i,e,n){const o=i.slice();return o[12]=e[n],o}function I(i){let e,n=[],o=new Map,r,a,f,s=i[2];const c=l=>l[12].key;for(let l=0;l<s.length;l+=1){let d=E(i,s,l),u=c(d);o.set(u,n[l]=R(u,d))}return{c(){e=t.element("ul");for(let l=0;l<n.length;l+=1)n[l].c();t.attr(e,"class",r="bn-notify-"+i[0]+" "+i[5]+" svelte-1h8mmo3"),t.attr(e,"style",a=`${i[0].includes("top")?"justify-content:flex-start;":""}; max-height: calc(100vh - ${i[6].expanded?"412px":i[1]&&i[7].type!=="mobile"?"82px":!i[1]&&i[7].type==="mobile"?"108px":"24px"})`)},m(l,d){t.insert(l,e,d);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);f=!0},p(l,d){if(d&517){s=l[2],t.group_outros();for(let u=0;u<n.length;u+=1)n[u].r();n=t.update_keyed_each(n,d,c,1,l,s,o,e,t.fix_and_outro_and_destroy_block,R,null,E);for(let u=0;u<n.length;u+=1)n[u].a();t.check_outros()}(!f||d&33&&r!==(r="bn-notify-"+l[0]+" "+l[5]+" svelte-1h8mmo3"))&&t.attr(e,"class",r),(!f||d&67&&a!==(a=`${l[0].includes("top")?"justify-content:flex-start;":""}; max-height: calc(100vh - ${l[6].expanded?"412px":l[1]&&l[7].type!=="mobile"?"82px":!l[1]&&l[7].type==="mobile"?"108px":"24px"})`))&&t.attr(e,"style",a)},i(l){if(!f){for(let d=0;d<s.length;d+=1)t.transition_in(n[d]);f=!0}},o(l){for(let d=0;d<n.length;d+=1)t.transition_out(n[d]);f=!1},d(l){l&&t.detach(e);for(let d=0;d<n.length;d+=1)n[d].d()}}}function R(i,e){let n,o,r,a,f,s,c,l=t.noop,d,u,v;return o=new lt({props:{notification:e[12],updateParentOnRemove:e[9]}}),{key:i,first:null,c(){n=t.element("li"),t.create_component(o.$$.fragment),r=t.space(),t.attr(n,"class",a=t.null_to_empty(`bn-notify-li-${e[0]} ${e[0].includes("top")?"notification-list-top":"notification-list-bottom"}`)+" svelte-1h8mmo3"),this.first=n},m(p,h){t.insert(p,n,h),t.mount_component(o,n,null),t.append(n,r),d=!0,u||(v=t.listen(n,"click",t.stop_propagation(e[10])),u=!0)},p(p,h){e=p;const m={};h&4&&(m.notification=e[12]),o.$set(m),(!d||h&1&&a!==(a=t.null_to_empty(`bn-notify-li-${e[0]} ${e[0].includes("top")?"notification-list-top":"notification-list-bottom"}`)+" svelte-1h8mmo3"))&&t.attr(n,"class",a)},r(){c=n.getBoundingClientRect()},f(){t.fix_position(n),l(),t.add_transform(n,c)},a(){l(),l=t.create_animation(n,c,M,{duration:500})},i(p){d||(t.transition_in(o.$$.fragment,p),p&&t.add_render_callback(()=>{d&&(s&&s.end(1),f=t.create_in_transition(n,t.fly,{duration:1200,delay:300,x:e[3],y:e[4],easing:dt}),f.start())}),d=!0)},o(p){t.transition_out(o.$$.fragment,p),f&&f.invalidate(),s=t.create_out_transition(n,t.fade,{duration:300,easing:t.cubicOut}),d=!1},d(p){p&&t.detach(n),t.destroy_component(o),p&&s&&s.end(),u=!1,v()}}}function ct(i){let e,n,o=i[2].length&&I(i);return{c(){o&&o.c(),e=t.empty()},m(r,a){o&&o.m(r,a),t.insert(r,e,a),n=!0},p(r,[a]){r[2].length?o?(o.p(r,a),a&4&&t.transition_in(o,1)):(o=I(r),o.c(),t.transition_in(o,1),o.m(e.parentNode,e)):o&&(t.group_outros(),t.transition_out(o,1,1,()=>{o=null}),t.check_outros())},i(r){n||(t.transition_in(o),n=!0)},o(r){t.transition_out(o),n=!1},d(r){o&&o.d(r),r&&t.detach(e)}}}function dt(i){return Math.sin(-13*(i+1)*Math.PI/2)*Math.pow(2,-35*i)+1}function ft(i,e,n){let o;const{device:r}=t.configuration,a=t.state.select("accountCenter").pipe(t.startWith(t.state.get().accountCenter),t.shareReplay(1));t.component_subscribe(i,a,m=>n(6,o=m));let{position:f}=e,{sharedContainer:s}=e,{notifications:c}=e,l,d;l=0,d=0;let u="y-scroll";const v=()=>{u!=="y-visible"&&n(5,u="y-visible"),p(function(){n(5,u="y-scroll")},1e3)},p=function(){let m=null;return(y,_)=>{clearTimeout(m),m=setTimeout(y,_)}}();function h(m){t.bubble.call(this,i,m)}return i.$$set=m=>{"position"in m&&n(0,f=m.position),"sharedContainer"in m&&n(1,s=m.sharedContainer),"notifications"in m&&n(2,c=m.notifications)},i.$$.update=()=>{i.$$.dirty&1&&(f.includes("top")?n(4,d=-50):n(4,d=50))},[f,s,c,l,d,u,o,r,a,v,h]}class ut extends t.SvelteComponent{constructor(e){super(),t.init$1(this,e,ft,ct,t.safe_not_equal,{position:0,sharedContainer:1,notifications:2},st)}}exports.default=ut;
//# sourceMappingURL=Index-2cf0e913-834OJOYl.cjs.map
