"use strict";const i=require("./index-SMGGPkbE.cjs");function Y(e,t){const r=t||"hex",n=i.keccak_256(i.isHex(e,{strict:!1})?i.toBytes(e):e);return r==="bytes"?n:i.toHex(n)}class P extends i.BaseError{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class W extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,r){return super.set(t,r),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const G=new W(8192);function J(e,t){if(G.has(`${e}.${t}`))return G.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),n=Y(i.stringToBytes(r),"bytes"),o=r.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&o[a]&&(o[a]=o[a].toUpperCase()),(n[a>>1]&15)>=8&&o[a+1]&&(o[a+1]=o[a+1].toUpperCase());const s=`0x${o.join("")}`;return G.set(`${e}.${t}`,s),s}const Ue=/^0x[a-fA-F0-9]{40}$/,$=new W(8192);function w(e,t){const{strict:r=!0}=t??{};if($.has(e))return $.get(e);const n=Ue.test(e)?e.toLowerCase()===e?!0:r?J(e)===e:!0:!1;return $.set(e,n),n}function je(e){return typeof e[0]=="string"?v(e):Q(e)}function Q(e){let t=0;for(const o of e)t+=o.length;const r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}function v(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function X(e,t,r,{strict:n}={}){return i.isHex(e,{strict:!1})?te(e,t,r,{strict:n}):ee(e,t,r,{strict:n})}function Z(e,t){if(typeof t=="number"&&t>0&&t>i.size(e)-1)throw new i.SliceOffsetOutOfBoundsError({offset:t,position:"start",size:i.size(e)})}function q(e,t,r){if(typeof t=="number"&&typeof r=="number"&&i.size(e)!==r-t)throw new i.SliceOffsetOutOfBoundsError({offset:r,position:"end",size:i.size(e)})}function ee(e,t,r,{strict:n}={}){Z(e,t);const o=e.slice(t,r);return n&&q(o,t,r),o}function te(e,t,r,{strict:n}={}){Z(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&q(o,t,r),o}class D extends i.BaseError{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class re extends i.BaseError{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Ne extends i.BaseError{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const Ve={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ne({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new re({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new D({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new D({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function C(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(Ve);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function x(e,t="wei"){return i.formatUnits(e,i.gweiUnits[t])}function ne(e){const t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}class Ae extends i.BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class oe extends i.BaseError{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class ie extends i.BaseError{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ne(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class se extends i.BaseError{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Se extends i.BaseError{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:o,index:s}){let a="Transaction";n&&s!==void 0&&(a=`Transaction at block time "${n}" at index "${s}"`),t&&s!==void 0&&(a=`Transaction at block hash "${t}" at index "${s}"`),r&&s!==void 0&&(a=`Transaction at block number "${r}" at index "${s}"`),o&&(a=`Transaction with hash "${o}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Me extends i.BaseError{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class ke extends i.BaseError{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class O extends i.BaseError{constructor({cause:t,message:r}={}){var o;const n=(o=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:o.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(O,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class T extends i.BaseError{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${x(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(T,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ae extends i.BaseError{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${x(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(ae,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ue extends i.BaseError{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(ue,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class ce extends i.BaseError{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(ce,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class le extends i.BaseError{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(le,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class fe extends i.BaseError{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(fe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class de extends i.BaseError{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(de,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class he extends i.BaseError{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(he,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class be extends i.BaseError{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(be,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class z extends i.BaseError{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${x(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${x(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(z,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Re extends i.BaseError{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function B(e,t){return({exclude:r,format:n})=>({exclude:r,format:o=>{const s=t(o);if(r)for(const a of r)delete s[a];return{...s,...n(o)}},type:e})}const pe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function me(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(r=>i.bytesToHex(r)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=i.numberToHex(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=i.numberToHex(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=i.numberToHex(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=i.numberToHex(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=i.numberToHex(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=i.numberToHex(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=pe[e.type]),typeof e.value<"u"&&(t.value=i.numberToHex(e.value)),t}const De=B("transactionRequest",me),L={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function U(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?i.hexToNumber(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?i.hexToNumber(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?L[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const _e=B("transaction",U);function ye(e){var r;const t=(r=e.transactions)==null?void 0:r.map(n=>typeof n=="string"?n:U(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ke=B("block",ye);function j(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(s=>i.hexToBytes(s)):e.blobs,o=[];for(const s of n)o.push(Uint8Array.from(t.blobToKzgCommitment(s)));return r==="bytes"?o:o.map(s=>i.bytesToHex(s))}function N(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>i.hexToBytes(a)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(a=>i.hexToBytes(a)):e.commitments,s=[];for(let a=0;a<n.length;a++){const u=n[a],c=o[a];s.push(Uint8Array.from(t.computeBlobKzgProof(u,c)))}return r==="bytes"?s:s.map(a=>i.bytesToHex(a))}function ge(e,t){const r=t||"hex",n=i.sha256(i.isHex(e,{strict:!1})?i.toBytes(e):e);return r==="bytes"?n:i.toHex(n)}function xe(e){const{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),o=ge(t,"bytes");return o.set([r],0),n==="bytes"?o:i.bytesToHex(o)}function Pe(e){const{commitments:t,version:r}=e,n=e.to??(typeof t[0]=="string"?"hex":"bytes"),o=[];for(const s of t)o.push(xe({commitment:s,to:n,version:r}));return o}const _=6,we=32,V=4096,ve=we*V,K=ve*_-1-1*V*_,Te=1;class Ye extends i.BaseError{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Ee extends i.BaseError{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class We extends i.BaseError{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class Je extends i.BaseError{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Te}`,`Received: ${r}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function Be(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?i.hexToBytes(e.data):e.data,n=i.size(r);if(!n)throw new Ee;if(n>K)throw new Ye({maxSize:K,size:n});const o=[];let s=!0,a=0;for(;s;){const u=C(new Uint8Array(ve));let c=0;for(;c<V;){const l=r.slice(a,a+(we-1));if(u.pushByte(0),u.pushBytes(l),l.length<31){u.pushByte(128),s=!1;break}c++,a+=31}o.push(u)}return t==="bytes"?o.map(u=>u.bytes):o.map(u=>i.bytesToHex(u.bytes))}function Ie(e){const{data:t,kzg:r,to:n}=e,o=e.blobs??Be({data:t,to:n}),s=e.commitments??j({blobs:o,kzg:r,to:n}),a=e.proofs??N({blobs:o,commitments:s,kzg:r,to:n}),u=[];for(let c=0;c<o.length;c++)u.push({blob:o[c],commitment:s[c],proof:a[c]});return u}function He(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ie({transaction:e})}function Fe(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}class Qe extends i.BaseError{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Xe extends i.BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class I extends i.BaseError{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function Ze(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function m(e,t="hex"){const r=Ge(e),n=C(new Uint8Array(r.length));return r.encode(n),t==="hex"?i.bytesToHex(n.bytes):n.bytes}function Ge(e){return Array.isArray(e)?qe(e.map(t=>Ge(t))):et(e)}function qe(e){const t=e.reduce((o,s)=>o+s.length,0),r=$e(t);return{length:t<=55?1+t:1+r+t,encode(o){t<=55?o.pushByte(192+t):(o.pushByte(247+r),r===1?o.pushUint8(t):r===2?o.pushUint16(t):r===3?o.pushUint24(t):o.pushUint32(t));for(const{encode:s}of e)s(o)}}}function et(e){const t=typeof e=="string"?i.hexToBytes(e):e,r=$e(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(o){t.length===1&&t[0]<128?o.pushBytes(t):t.length<=55?(o.pushByte(128+t.length),o.pushBytes(t)):(o.pushByte(183+r),r===1?o.pushUint8(t.length):r===2?o.pushUint16(t.length):r===3?o.pushUint24(t.length):o.pushUint32(t.length),o.pushBytes(t))}}}function $e(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new i.BaseError("Length is too large.")}const tt={"0x0":"reverted","0x1":"success"};function Ce(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Fe(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?i.hexToNumber(e.transactionIndex):null,status:e.status?tt[e.status]:null,type:e.type?L[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const rt=B("transactionReceipt",Ce);function nt(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Ee;for(const r of t){const n=i.size(r),o=i.hexToNumber(X(r,0,1));if(n!==32)throw new We({hash:r,size:n});if(o!==Te)throw new Je({hash:r,version:o})}}A(e)}function A(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:o}=e;if(t<=0)throw new I({chainId:t});if(o&&!w(o))throw new P({address:o});if(n&&n>2n**256n-1n)throw new T({maxFeePerGas:n});if(r&&n&&r>n)throw new z({maxFeePerGas:n,maxPriorityFeePerGas:r})}function Oe(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s}=e;if(t<=0)throw new I({chainId:t});if(s&&!w(s))throw new P({address:s});if(r||o)throw new i.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new T({maxFeePerGas:n})}function ze(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s,accessList:a}=e;if(s&&!w(s))throw new P({address:s});if(typeof t<"u"&&t<=0)throw new I({chainId:t});if(r||o)throw new i.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new T({maxFeePerGas:n});if(a)throw new i.BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function H(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const{address:n,storageKeys:o}=e[r];for(let s=0;s<o.length;s++)if(o[s].length-2!==64)throw new se({storageKey:o[s]});if(!w(n,{strict:!1}))throw new P({address:n});t.push([n,o])}return t}function ot(e,t){const r=He(e);return r==="eip1559"?st(e,t):r==="eip2930"?at(e,t):r==="eip4844"?it(e,t):ut(e,t)}function it(e,t){const{chainId:r,gas:n,nonce:o,to:s,value:a,maxFeePerBlobGas:u,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:f}=e;nt(e);let h=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof b>"u")){const p=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(g=>i.bytesToHex(g)),E=e.kzg,y=j({blobs:p,kzg:E});if(typeof h>"u"&&(h=Pe({commitments:y})),typeof b>"u"){const g=N({blobs:p,commitments:y,kzg:E});b=Ie({blobs:p,commitments:y,proofs:g})}}const Le=H(d),S=[i.toHex(r),o?i.toHex(o):"0x",l?i.toHex(l):"0x",c?i.toHex(c):"0x",n?i.toHex(n):"0x",s??"0x",a?i.toHex(a):"0x",f??"0x",Le,u?i.toHex(u):"0x",h??[],...F(e,t)],M=[],k=[],R=[];if(b)for(let p=0;p<b.length;p++){const{blob:E,commitment:y,proof:g}=b[p];M.push(E),k.push(y),R.push(g)}return v(["0x03",m(b?[S,M,k,R]:S)])}function st(e,t){const{chainId:r,gas:n,nonce:o,to:s,value:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:d}=e;A(e);const f=H(l),h=[i.toHex(r),o?i.toHex(o):"0x",c?i.toHex(c):"0x",u?i.toHex(u):"0x",n?i.toHex(n):"0x",s??"0x",a?i.toHex(a):"0x",d??"0x",f,...F(e,t)];return v(["0x02",m(h)])}function at(e,t){const{chainId:r,gas:n,data:o,nonce:s,to:a,value:u,accessList:c,gasPrice:l}=e;Oe(e);const d=H(c),f=[i.toHex(r),s?i.toHex(s):"0x",l?i.toHex(l):"0x",n?i.toHex(n):"0x",a??"0x",u?i.toHex(u):"0x",o??"0x",d,...F(e,t)];return v(["0x01",m(f)])}function ut(e,t){const{chainId:r=0,gas:n,data:o,nonce:s,to:a,value:u,gasPrice:c}=e;ze(e);let l=[s?i.toHex(s):"0x",c?i.toHex(c):"0x",n?i.toHex(n):"0x",a??"0x",u?i.toHex(u):"0x",o??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new oe({v:t.v});return f})();l=[...l,i.toHex(d),t.r,t.s]}else r>0&&(l=[...l,i.toHex(r),"0x","0x"]);return m(l)}function F(e,t){const{r,s:n,v:o,yParity:s}=t??e;return typeof r>"u"?[]:typeof n>"u"?[]:typeof o>"u"&&typeof s>"u"?[]:[typeof s=="number"?s?i.toHex(1):"0x":o===0n?"0x":o===1n?i.toHex(1):o===27n?"0x":i.toHex(1),i.trim(r),i.trim(n)]}const ct=2n**16n-1n;exports.ChainDoesNotSupportContract=Qe;exports.ClientChainNotConfiguredError=Xe;exports.ExecutionRevertedError=O;exports.FeeCapTooHighError=T;exports.FeeCapTooLowError=ae;exports.FeeConflictError=Ae;exports.InsufficientFundsError=fe;exports.IntrinsicGasTooHighError=de;exports.IntrinsicGasTooLowError=he;exports.InvalidAddressError=P;exports.InvalidChainIdError=I;exports.InvalidLegacyVError=oe;exports.InvalidSerializableTransactionError=ie;exports.InvalidStorageKeySizeError=se;exports.NonceMaxValueError=le;exports.NonceTooHighError=ue;exports.NonceTooLowError=ce;exports.PositionOutOfBoundsError=re;exports.TipAboveFeeCapError=z;exports.TransactionNotFoundError=Se;exports.TransactionReceiptNotFoundError=Me;exports.TransactionTypeNotSupportedError=be;exports.UnknownNodeError=Re;exports.WaitForTransactionReceiptTimeoutError=ke;exports.assertTransactionEIP1559=A;exports.assertTransactionEIP2930=Oe;exports.assertTransactionLegacy=ze;exports.blobsToCommitments=j;exports.blobsToProofs=N;exports.checksumAddress=J;exports.commitmentToVersionedHash=xe;exports.commitmentsToVersionedHashes=Pe;exports.concat=je;exports.concatBytes=Q;exports.concatHex=v;exports.createCursor=C;exports.defineBlock=Ke;exports.defineChain=Ze;exports.defineTransaction=_e;exports.defineTransactionReceipt=rt;exports.defineTransactionRequest=De;exports.formatBlock=ye;exports.formatGwei=x;exports.formatLog=Fe;exports.formatTransaction=U;exports.formatTransactionReceipt=Ce;exports.formatTransactionRequest=me;exports.getTransactionType=He;exports.isAddress=w;exports.keccak256=Y;exports.maxUint16=ct;exports.prettyPrint=ne;exports.rpcTransactionType=pe;exports.serializeAccessList=H;exports.serializeTransaction=ot;exports.sha256=ge;exports.slice=X;exports.sliceBytes=ee;exports.sliceHex=te;exports.toBlobSidecars=Ie;exports.toBlobs=Be;exports.toRlp=m;exports.toYParitySignatureArray=F;exports.transactionType=L;
//# sourceMappingURL=number-DikuvJE0.cjs.map
