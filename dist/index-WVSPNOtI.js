import { g as qt, c as Ze, a as po } from "./index-Dn5g1Mm5.js";
var Mr = {}, tt = {}, rt = {}, On;
function _o() {
  if (On) return rt;
  On = 1, Object.defineProperty(rt, "__esModule", { value: !0 }), rt.walletLogo = void 0;
  const i = (e, a) => {
    let u;
    switch (e) {
      case "standard":
        return u = a, `data:image/svg+xml,%3Csvg width='${a}' height='${u}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;
      case "circle":
        return u = a, `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${a}' height='${u}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;
      case "text":
        return u = (0.1 * a).toFixed(2), `data:image/svg+xml,%3Csvg width='${a}' height='${u}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;
      case "textWithLogo":
        return u = (0.25 * a).toFixed(2), `data:image/svg+xml,%3Csvg width='${a}' height='${u}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;
      case "textLight":
        return u = (0.1 * a).toFixed(2), `data:image/svg+xml,%3Csvg width='${a}' height='${u}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;
      case "textWithLogoLight":
        return u = (0.25 * a).toFixed(2), `data:image/svg+xml,%3Csvg width='${a}' height='${u}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;
      default:
        return u = a, `data:image/svg+xml,%3Csvg width='${a}' height='${u}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;
    }
  };
  return rt.walletLogo = i, rt;
}
var Ue = {}, Br = { exports: {} }, Dn;
function go() {
  return Dn || (Dn = 1, function(i) {
    var e = Object.prototype.hasOwnProperty, a = "~";
    function u() {
    }
    Object.create && (u.prototype = /* @__PURE__ */ Object.create(null), new u().__proto__ || (a = !1));
    function m(c, d, b) {
      this.fn = c, this.context = d, this.once = b || !1;
    }
    function l(c, d, b, g, f) {
      if (typeof b != "function")
        throw new TypeError("The listener must be a function");
      var o = new m(b, g || c, f), r = a ? a + d : d;
      return c._events[r] ? c._events[r].fn ? c._events[r] = [c._events[r], o] : c._events[r].push(o) : (c._events[r] = o, c._eventsCount++), c;
    }
    function y(c, d) {
      --c._eventsCount === 0 ? c._events = new u() : delete c._events[d];
    }
    function t() {
      this._events = new u(), this._eventsCount = 0;
    }
    t.prototype.eventNames = function() {
      var d = [], b, g;
      if (this._eventsCount === 0) return d;
      for (g in b = this._events)
        e.call(b, g) && d.push(a ? g.slice(1) : g);
      return Object.getOwnPropertySymbols ? d.concat(Object.getOwnPropertySymbols(b)) : d;
    }, t.prototype.listeners = function(d) {
      var b = a ? a + d : d, g = this._events[b];
      if (!g) return [];
      if (g.fn) return [g.fn];
      for (var f = 0, o = g.length, r = new Array(o); f < o; f++)
        r[f] = g[f].fn;
      return r;
    }, t.prototype.listenerCount = function(d) {
      var b = a ? a + d : d, g = this._events[b];
      return g ? g.fn ? 1 : g.length : 0;
    }, t.prototype.emit = function(d, b, g, f, o, r) {
      var _ = a ? a + d : d;
      if (!this._events[_]) return !1;
      var h = this._events[_], p = arguments.length, E, I;
      if (h.fn) {
        switch (h.once && this.removeListener(d, h.fn, void 0, !0), p) {
          case 1:
            return h.fn.call(h.context), !0;
          case 2:
            return h.fn.call(h.context, b), !0;
          case 3:
            return h.fn.call(h.context, b, g), !0;
          case 4:
            return h.fn.call(h.context, b, g, f), !0;
          case 5:
            return h.fn.call(h.context, b, g, f, o), !0;
          case 6:
            return h.fn.call(h.context, b, g, f, o, r), !0;
        }
        for (I = 1, E = new Array(p - 1); I < p; I++)
          E[I - 1] = arguments[I];
        h.fn.apply(h.context, E);
      } else {
        var C = h.length, R;
        for (I = 0; I < C; I++)
          switch (h[I].once && this.removeListener(d, h[I].fn, void 0, !0), p) {
            case 1:
              h[I].fn.call(h[I].context);
              break;
            case 2:
              h[I].fn.call(h[I].context, b);
              break;
            case 3:
              h[I].fn.call(h[I].context, b, g);
              break;
            case 4:
              h[I].fn.call(h[I].context, b, g, f);
              break;
            default:
              if (!E) for (R = 1, E = new Array(p - 1); R < p; R++)
                E[R - 1] = arguments[R];
              h[I].fn.apply(h[I].context, E);
          }
      }
      return !0;
    }, t.prototype.on = function(d, b, g) {
      return l(this, d, b, g, !1);
    }, t.prototype.once = function(d, b, g) {
      return l(this, d, b, g, !0);
    }, t.prototype.removeListener = function(d, b, g, f) {
      var o = a ? a + d : d;
      if (!this._events[o]) return this;
      if (!b)
        return y(this, o), this;
      var r = this._events[o];
      if (r.fn)
        r.fn === b && (!f || r.once) && (!g || r.context === g) && y(this, o);
      else {
        for (var _ = 0, h = [], p = r.length; _ < p; _++)
          (r[_].fn !== b || f && !r[_].once || g && r[_].context !== g) && h.push(r[_]);
        h.length ? this._events[o] = h.length === 1 ? h[0] : h : y(this, o);
      }
      return this;
    }, t.prototype.removeAllListeners = function(d) {
      var b;
      return d ? (b = a ? a + d : d, this._events[b] && y(this, b)) : (this._events = new u(), this._eventsCount = 0), this;
    }, t.prototype.off = t.prototype.removeListener, t.prototype.addListener = t.prototype.on, t.prefixed = a, t.EventEmitter = t, i.exports = t;
  }(Br)), Br.exports;
}
var Tr = {}, qe = {}, Un;
function Wt() {
  return Un || (Un = 1, Object.defineProperty(qe, "__esModule", { value: !0 }), qe.errorValues = qe.standardErrorCodes = void 0, qe.standardErrorCodes = {
    rpc: {
      invalidInput: -32e3,
      resourceNotFound: -32001,
      resourceUnavailable: -32002,
      transactionRejected: -32003,
      methodNotSupported: -32004,
      limitExceeded: -32005,
      parse: -32700,
      invalidRequest: -32600,
      methodNotFound: -32601,
      invalidParams: -32602,
      internal: -32603
    },
    provider: {
      userRejectedRequest: 4001,
      unauthorized: 4100,
      unsupportedMethod: 4200,
      disconnected: 4900,
      chainDisconnected: 4901,
      unsupportedChain: 4902
    }
  }, qe.errorValues = {
    "-32700": {
      standard: "JSON RPC 2.0",
      message: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."
    },
    "-32600": {
      standard: "JSON RPC 2.0",
      message: "The JSON sent is not a valid Request object."
    },
    "-32601": {
      standard: "JSON RPC 2.0",
      message: "The method does not exist / is not available."
    },
    "-32602": {
      standard: "JSON RPC 2.0",
      message: "Invalid method parameter(s)."
    },
    "-32603": {
      standard: "JSON RPC 2.0",
      message: "Internal JSON-RPC error."
    },
    "-32000": {
      standard: "EIP-1474",
      message: "Invalid input."
    },
    "-32001": {
      standard: "EIP-1474",
      message: "Resource not found."
    },
    "-32002": {
      standard: "EIP-1474",
      message: "Resource unavailable."
    },
    "-32003": {
      standard: "EIP-1474",
      message: "Transaction rejected."
    },
    "-32004": {
      standard: "EIP-1474",
      message: "Method not supported."
    },
    "-32005": {
      standard: "EIP-1474",
      message: "Request limit exceeded."
    },
    4001: {
      standard: "EIP-1193",
      message: "User rejected the request."
    },
    4100: {
      standard: "EIP-1193",
      message: "The requested account and/or method has not been authorized by the user."
    },
    4200: {
      standard: "EIP-1193",
      message: "The requested method is not supported by this Ethereum provider."
    },
    4900: {
      standard: "EIP-1193",
      message: "The provider is disconnected from all chains."
    },
    4901: {
      standard: "EIP-1193",
      message: "The provider is disconnected from the specified chain."
    },
    4902: {
      standard: "EIP-3085",
      message: "Unrecognized chain ID."
    }
  }), qe;
}
var nt = {}, Pr = {}, qn;
function Cs() {
  return qn || (qn = 1, function(i) {
    Object.defineProperty(i, "__esModule", { value: !0 }), i.serialize = i.getErrorCode = i.isValidCode = i.getMessageFromCode = i.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;
    const e = /* @__PURE__ */ Wt(), a = "Unspecified error message.";
    i.JSON_RPC_SERVER_ERROR_MESSAGE = "Unspecified server error.";
    function u(f, o = a) {
      if (f && Number.isInteger(f)) {
        const r = f.toString();
        if (b(e.errorValues, r))
          return e.errorValues[r].message;
        if (c(f))
          return i.JSON_RPC_SERVER_ERROR_MESSAGE;
      }
      return o;
    }
    i.getMessageFromCode = u;
    function m(f) {
      if (!Number.isInteger(f))
        return !1;
      const o = f.toString();
      return !!(e.errorValues[o] || c(f));
    }
    i.isValidCode = m;
    function l(f) {
      var o;
      if (typeof f == "number")
        return f;
      if (y(f))
        return (o = f.code) !== null && o !== void 0 ? o : f.errorCode;
    }
    i.getErrorCode = l;
    function y(f) {
      return typeof f == "object" && f !== null && (typeof f.code == "number" || typeof f.errorCode == "number");
    }
    function t(f, { shouldIncludeStack: o = !1 } = {}) {
      const r = {};
      if (f && typeof f == "object" && !Array.isArray(f) && b(f, "code") && m(f.code)) {
        const _ = f;
        r.code = _.code, _.message && typeof _.message == "string" ? (r.message = _.message, b(_, "data") && (r.data = _.data)) : (r.message = u(r.code), r.data = { originalError: d(f) });
      } else
        r.code = e.standardErrorCodes.rpc.internal, r.message = g(f, "message") ? f.message : a, r.data = { originalError: d(f) };
      return o && (r.stack = g(f, "stack") ? f.stack : void 0), r;
    }
    i.serialize = t;
    function c(f) {
      return f >= -32099 && f <= -32e3;
    }
    function d(f) {
      return f && typeof f == "object" && !Array.isArray(f) ? Object.assign({}, f) : f;
    }
    function b(f, o) {
      return Object.prototype.hasOwnProperty.call(f, o);
    }
    function g(f, o) {
      return typeof f == "object" && f !== null && o in f && typeof f[o] == "string";
    }
  }(Pr)), Pr;
}
var Wn;
function yo() {
  if (Wn) return nt;
  Wn = 1, Object.defineProperty(nt, "__esModule", { value: !0 }), nt.standardErrors = void 0;
  const i = /* @__PURE__ */ Wt(), e = /* @__PURE__ */ Cs();
  nt.standardErrors = {
    rpc: {
      parse: (c) => a(i.standardErrorCodes.rpc.parse, c),
      invalidRequest: (c) => a(i.standardErrorCodes.rpc.invalidRequest, c),
      invalidParams: (c) => a(i.standardErrorCodes.rpc.invalidParams, c),
      methodNotFound: (c) => a(i.standardErrorCodes.rpc.methodNotFound, c),
      internal: (c) => a(i.standardErrorCodes.rpc.internal, c),
      server: (c) => {
        if (!c || typeof c != "object" || Array.isArray(c))
          throw new Error("Ethereum RPC Server errors must provide single object argument.");
        const { code: d } = c;
        if (!Number.isInteger(d) || d > -32005 || d < -32099)
          throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');
        return a(d, c);
      },
      invalidInput: (c) => a(i.standardErrorCodes.rpc.invalidInput, c),
      resourceNotFound: (c) => a(i.standardErrorCodes.rpc.resourceNotFound, c),
      resourceUnavailable: (c) => a(i.standardErrorCodes.rpc.resourceUnavailable, c),
      transactionRejected: (c) => a(i.standardErrorCodes.rpc.transactionRejected, c),
      methodNotSupported: (c) => a(i.standardErrorCodes.rpc.methodNotSupported, c),
      limitExceeded: (c) => a(i.standardErrorCodes.rpc.limitExceeded, c)
    },
    provider: {
      userRejectedRequest: (c) => u(i.standardErrorCodes.provider.userRejectedRequest, c),
      unauthorized: (c) => u(i.standardErrorCodes.provider.unauthorized, c),
      unsupportedMethod: (c) => u(i.standardErrorCodes.provider.unsupportedMethod, c),
      disconnected: (c) => u(i.standardErrorCodes.provider.disconnected, c),
      chainDisconnected: (c) => u(i.standardErrorCodes.provider.chainDisconnected, c),
      unsupportedChain: (c) => u(i.standardErrorCodes.provider.unsupportedChain, c),
      custom: (c) => {
        if (!c || typeof c != "object" || Array.isArray(c))
          throw new Error("Ethereum Provider custom errors must provide single object argument.");
        const { code: d, message: b, data: g } = c;
        if (!b || typeof b != "string")
          throw new Error('"message" must be a nonempty string');
        return new y(d, b, g);
      }
    }
  };
  function a(c, d) {
    const [b, g] = m(d);
    return new l(c, b || (0, e.getMessageFromCode)(c), g);
  }
  function u(c, d) {
    const [b, g] = m(d);
    return new y(c, b || (0, e.getMessageFromCode)(c), g);
  }
  function m(c) {
    if (c) {
      if (typeof c == "string")
        return [c];
      if (typeof c == "object" && !Array.isArray(c)) {
        const { message: d, data: b } = c;
        if (d && typeof d != "string")
          throw new Error("Must specify string message.");
        return [d || void 0, b];
      }
    }
    return [];
  }
  class l extends Error {
    constructor(d, b, g) {
      if (!Number.isInteger(d))
        throw new Error('"code" must be an integer.');
      if (!b || typeof b != "string")
        throw new Error('"message" must be a nonempty string.');
      super(b), this.code = d, g !== void 0 && (this.data = g);
    }
  }
  class y extends l {
    /**
     * Create an Ethereum Provider JSON-RPC error.
     * `code` must be an integer in the 1000 <= 4999 range.
     */
    constructor(d, b, g) {
      if (!t(d))
        throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');
      super(d, b, g);
    }
  }
  function t(c) {
    return Number.isInteger(c) && c >= 1e3 && c <= 4999;
  }
  return nt;
}
var Fn;
function Ne() {
  return Fn || (Fn = 1, function(i) {
    Object.defineProperty(i, "__esModule", { value: !0 }), i.standardErrors = i.standardErrorCodes = void 0;
    var e = /* @__PURE__ */ Wt();
    Object.defineProperty(i, "standardErrorCodes", { enumerable: !0, get: function() {
      return e.standardErrorCodes;
    } });
    var a = /* @__PURE__ */ yo();
    Object.defineProperty(i, "standardErrors", { enumerable: !0, get: function() {
      return a.standardErrors;
    } });
  }(Tr)), Tr;
}
var it = {}, st = {}, jn;
function xn() {
  if (jn) return st;
  jn = 1, Object.defineProperty(st, "__esModule", { value: !0 }), st.isErrorResponse = void 0;
  function i(e) {
    return e.errorMessage !== void 0;
  }
  return st.isErrorResponse = i, st;
}
var ot = {}, Hn;
function Ft() {
  return Hn || (Hn = 1, Object.defineProperty(ot, "__esModule", { value: !0 }), ot.LIB_VERSION = void 0, ot.LIB_VERSION = "4.0.3"), ot;
}
var Kn;
function bo() {
  if (Kn) return it;
  Kn = 1, Object.defineProperty(it, "__esModule", { value: !0 }), it.serializeError = void 0;
  const i = /* @__PURE__ */ xn(), e = /* @__PURE__ */ Ft(), a = /* @__PURE__ */ Wt(), u = /* @__PURE__ */ Cs();
  function m(t, c) {
    const d = (0, u.serialize)(l(t), {
      shouldIncludeStack: !0
    }), b = new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");
    b.searchParams.set("version", e.LIB_VERSION), b.searchParams.set("code", d.code.toString());
    const g = y(d.data, c);
    return g && b.searchParams.set("method", g), b.searchParams.set("message", d.message), Object.assign(Object.assign({}, d), { docUrl: b.href });
  }
  it.serializeError = m;
  function l(t) {
    return typeof t == "string" ? {
      message: t,
      code: a.standardErrorCodes.rpc.internal
    } : (0, i.isErrorResponse)(t) ? Object.assign(Object.assign({}, t), { message: t.errorMessage, code: t.errorCode, data: { method: t.method } }) : t;
  }
  function y(t, c) {
    const d = t == null ? void 0 : t.method;
    if (d)
      return d;
    if (c !== void 0) {
      if (typeof c == "string")
        return c;
      if (Array.isArray(c)) {
        if (c.length > 0)
          return c[0].method;
      } else return c.method;
    }
  }
  return it;
}
var ge = {}, $n;
function Cn() {
  if ($n) return ge;
  $n = 1, Object.defineProperty(ge, "__esModule", { value: !0 }), ge.RegExpString = ge.IntNumber = ge.BigIntString = ge.AddressString = ge.HexString = ge.OpaqueType = void 0;
  function i() {
    return (a) => a;
  }
  ge.OpaqueType = i, ge.HexString = i(), ge.AddressString = i(), ge.BigIntString = i();
  function e(a) {
    return Math.floor(a);
  }
  return ge.IntNumber = e, ge.RegExpString = i(), ge;
}
var K = {}, zn;
function Oe() {
  if (zn) return K;
  zn = 1, Object.defineProperty(K, "__esModule", { value: !0 }), K.areAddressArraysEqual = K.getFavicon = K.range = K.isBigNumber = K.ensureParsedJSONObject = K.ensureBigInt = K.ensureRegExpString = K.ensureIntNumber = K.ensureBuffer = K.ensureAddressString = K.ensureEvenLengthHexString = K.ensureHexString = K.isHexString = K.prepend0x = K.strip0x = K.has0xPrefix = K.hexStringFromIntNumber = K.intNumberFromHexString = K.bigIntStringFromBigInt = K.hexStringFromBuffer = K.hexStringToUint8Array = K.uint8ArrayToHex = K.randomBytesHex = void 0;
  const i = /* @__PURE__ */ Ne(), e = /* @__PURE__ */ Cn(), a = /^[0-9]*$/, u = /^[a-f0-9]*$/;
  function m(T) {
    return l(crypto.getRandomValues(new Uint8Array(T)));
  }
  K.randomBytesHex = m;
  function l(T) {
    return [...T].map((H) => H.toString(16).padStart(2, "0")).join("");
  }
  K.uint8ArrayToHex = l;
  function y(T) {
    return new Uint8Array(T.match(/.{1,2}/g).map((H) => parseInt(H, 16)));
  }
  K.hexStringToUint8Array = y;
  function t(T, H = !1) {
    const V = T.toString("hex");
    return (0, e.HexString)(H ? `0x${V}` : V);
  }
  K.hexStringFromBuffer = t;
  function c(T) {
    return (0, e.BigIntString)(T.toString(10));
  }
  K.bigIntStringFromBigInt = c;
  function d(T) {
    return (0, e.IntNumber)(Number(BigInt(h(T, !0))));
  }
  K.intNumberFromHexString = d;
  function b(T) {
    return (0, e.HexString)(`0x${BigInt(T).toString(16)}`);
  }
  K.hexStringFromIntNumber = b;
  function g(T) {
    return T.startsWith("0x") || T.startsWith("0X");
  }
  K.has0xPrefix = g;
  function f(T) {
    return g(T) ? T.slice(2) : T;
  }
  K.strip0x = f;
  function o(T) {
    return g(T) ? `0x${T.slice(2)}` : `0x${T}`;
  }
  K.prepend0x = o;
  function r(T) {
    if (typeof T != "string")
      return !1;
    const H = f(T).toLowerCase();
    return u.test(H);
  }
  K.isHexString = r;
  function _(T, H = !1) {
    if (typeof T == "string") {
      const V = f(T).toLowerCase();
      if (u.test(V))
        return (0, e.HexString)(H ? `0x${V}` : V);
    }
    throw i.standardErrors.rpc.invalidParams(`"${String(T)}" is not a hexadecimal string`);
  }
  K.ensureHexString = _;
  function h(T, H = !1) {
    let V = _(T, !1);
    return V.length % 2 === 1 && (V = (0, e.HexString)(`0${V}`)), H ? (0, e.HexString)(`0x${V}`) : V;
  }
  K.ensureEvenLengthHexString = h;
  function p(T) {
    if (typeof T == "string") {
      const H = f(T).toLowerCase();
      if (r(H) && H.length === 40)
        return (0, e.AddressString)(o(H));
    }
    throw i.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(T)}`);
  }
  K.ensureAddressString = p;
  function E(T) {
    if (Buffer.isBuffer(T))
      return T;
    if (typeof T == "string") {
      if (r(T)) {
        const H = h(T, !1);
        return Buffer.from(H, "hex");
      }
      return Buffer.from(T, "utf8");
    }
    throw i.standardErrors.rpc.invalidParams(`Not binary data: ${String(T)}`);
  }
  K.ensureBuffer = E;
  function I(T) {
    if (typeof T == "number" && Number.isInteger(T))
      return (0, e.IntNumber)(T);
    if (typeof T == "string") {
      if (a.test(T))
        return (0, e.IntNumber)(Number(T));
      if (r(T))
        return (0, e.IntNumber)(Number(BigInt(h(T, !0))));
    }
    throw i.standardErrors.rpc.invalidParams(`Not an integer: ${String(T)}`);
  }
  K.ensureIntNumber = I;
  function C(T) {
    if (T instanceof RegExp)
      return (0, e.RegExpString)(T.toString());
    throw i.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(T)}`);
  }
  K.ensureRegExpString = C;
  function R(T) {
    if (T !== null && (typeof T == "bigint" || P(T)))
      return BigInt(T.toString(10));
    if (typeof T == "number")
      return BigInt(I(T));
    if (typeof T == "string") {
      if (a.test(T))
        return BigInt(T);
      if (r(T))
        return BigInt(h(T, !0));
    }
    throw i.standardErrors.rpc.invalidParams(`Not an integer: ${String(T)}`);
  }
  K.ensureBigInt = R;
  function A(T) {
    if (typeof T == "string")
      return JSON.parse(T);
    if (typeof T == "object")
      return T;
    throw i.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(T)}`);
  }
  K.ensureParsedJSONObject = A;
  function P(T) {
    if (T == null || typeof T.constructor != "function")
      return !1;
    const { constructor: H } = T;
    return typeof H.config == "function" && typeof H.EUCLID == "number";
  }
  K.isBigNumber = P;
  function D(T, H) {
    return Array.from({ length: H - T }, (V, Y) => T + Y);
  }
  K.range = D;
  function q() {
    const T = document.querySelector('link[sizes="192x192"]') || document.querySelector('link[sizes="180x180"]') || document.querySelector('link[rel="icon"]') || document.querySelector('link[rel="shortcut icon"]'), { protocol: H, host: V } = document.location, Y = T ? T.getAttribute("href") : null;
    return !Y || Y.startsWith("javascript:") || Y.startsWith("vbscript:") ? null : Y.startsWith("http://") || Y.startsWith("https://") || Y.startsWith("data:") ? Y : Y.startsWith("//") ? H + Y : `${H}//${V}${Y}`;
  }
  K.getFavicon = q;
  function F(T, H) {
    return T.length === H.length && T.every((V, Y) => V === H[Y]);
  }
  return K.areAddressArraysEqual = F, K;
}
var Ce = {}, at = {}, ct = {}, le = {}, Vn;
function Rs() {
  if (Vn) return le;
  Vn = 1, Object.defineProperty(le, "__esModule", { value: !0 }), le.decryptContent = le.encryptContent = le.importKeyFromHexString = le.exportKeyToHexString = le.decrypt = le.encrypt = le.deriveSharedSecret = le.generateKeyPair = void 0;
  const i = /* @__PURE__ */ Oe();
  async function e() {
    return crypto.subtle.generateKey({
      name: "ECDH",
      namedCurve: "P-256"
    }, !0, ["deriveKey"]);
  }
  le.generateKeyPair = e;
  async function a(b, g) {
    return crypto.subtle.deriveKey({
      name: "ECDH",
      public: g
    }, b, {
      name: "AES-GCM",
      length: 256
    }, !1, ["encrypt", "decrypt"]);
  }
  le.deriveSharedSecret = a;
  async function u(b, g) {
    const f = crypto.getRandomValues(new Uint8Array(12)), o = await crypto.subtle.encrypt({
      name: "AES-GCM",
      iv: f
    }, b, new TextEncoder().encode(g));
    return { iv: f, cipherText: o };
  }
  le.encrypt = u;
  async function m(b, { iv: g, cipherText: f }) {
    const o = await crypto.subtle.decrypt({
      name: "AES-GCM",
      iv: g
    }, b, f);
    return new TextDecoder().decode(o);
  }
  le.decrypt = m;
  function l(b) {
    switch (b) {
      case "public":
        return "spki";
      case "private":
        return "pkcs8";
    }
  }
  async function y(b, g) {
    const f = l(b), o = await crypto.subtle.exportKey(f, g);
    return (0, i.uint8ArrayToHex)(new Uint8Array(o));
  }
  le.exportKeyToHexString = y;
  async function t(b, g) {
    const f = l(b), o = (0, i.hexStringToUint8Array)(g).buffer;
    return await crypto.subtle.importKey(f, o, {
      name: "ECDH",
      namedCurve: "P-256"
    }, !0, b === "private" ? ["deriveKey"] : []);
  }
  le.importKeyFromHexString = t;
  async function c(b, g) {
    const f = JSON.stringify(b, (o, r) => {
      if (!(r instanceof Error))
        return r;
      const _ = r;
      return Object.assign(Object.assign({}, _.code ? { code: _.code } : {}), { message: _.message });
    });
    return u(g, f);
  }
  le.encryptContent = c;
  async function d(b, g) {
    return JSON.parse(await m(g, b));
  }
  return le.decryptContent = d, le;
}
var ut = {}, Gn;
function Ke() {
  if (Gn) return ut;
  Gn = 1, Object.defineProperty(ut, "__esModule", { value: !0 }), ut.ScopedLocalStorage = void 0;
  let i = class yn {
    constructor(a, u) {
      this.scope = a, this.module = u;
    }
    setItem(a, u) {
      localStorage.setItem(this.scopedKey(a), u);
    }
    getItem(a) {
      return localStorage.getItem(this.scopedKey(a));
    }
    removeItem(a) {
      localStorage.removeItem(this.scopedKey(a));
    }
    clear() {
      const a = this.scopedKey(""), u = [];
      for (let m = 0; m < localStorage.length; m++) {
        const l = localStorage.key(m);
        typeof l == "string" && l.startsWith(a) && u.push(l);
      }
      u.forEach((m) => localStorage.removeItem(m));
    }
    scopedKey(a) {
      return `-${this.scope}${this.module ? `:${this.module}` : ""}:${a}`;
    }
    static clearAll() {
      new yn("CBWSDK").clear(), new yn("walletlink").clear();
    }
  };
  return ut.ScopedLocalStorage = i, ut;
}
var Zn;
function mo() {
  if (Zn) return ct;
  Zn = 1, Object.defineProperty(ct, "__esModule", { value: !0 }), ct.SCWKeyManager = void 0;
  const i = /* @__PURE__ */ Rs(), e = /* @__PURE__ */ Ke(), a = {
    storageKey: "ownPrivateKey",
    keyType: "private"
  }, u = {
    storageKey: "ownPublicKey",
    keyType: "public"
  }, m = {
    storageKey: "peerPublicKey",
    keyType: "public"
  };
  let l = class {
    constructor() {
      this.storage = new e.ScopedLocalStorage("CBWSDK", "SCWKeyManager"), this.ownPrivateKey = null, this.ownPublicKey = null, this.peerPublicKey = null, this.sharedSecret = null;
    }
    async getOwnPublicKey() {
      return await this.loadKeysIfNeeded(), this.ownPublicKey;
    }
    // returns null if the shared secret is not yet derived
    async getSharedSecret() {
      return await this.loadKeysIfNeeded(), this.sharedSecret;
    }
    async setPeerPublicKey(t) {
      this.sharedSecret = null, this.peerPublicKey = t, await this.storeKey(m, t), await this.loadKeysIfNeeded();
    }
    async clear() {
      this.ownPrivateKey = null, this.ownPublicKey = null, this.peerPublicKey = null, this.sharedSecret = null, this.storage.removeItem(u.storageKey), this.storage.removeItem(a.storageKey), this.storage.removeItem(m.storageKey);
    }
    async generateKeyPair() {
      const t = await (0, i.generateKeyPair)();
      this.ownPrivateKey = t.privateKey, this.ownPublicKey = t.publicKey, await this.storeKey(a, t.privateKey), await this.storeKey(u, t.publicKey);
    }
    async loadKeysIfNeeded() {
      if (this.ownPrivateKey === null && (this.ownPrivateKey = await this.loadKey(a)), this.ownPublicKey === null && (this.ownPublicKey = await this.loadKey(u)), (this.ownPrivateKey === null || this.ownPublicKey === null) && await this.generateKeyPair(), this.peerPublicKey === null && (this.peerPublicKey = await this.loadKey(m)), this.sharedSecret === null) {
        if (this.ownPrivateKey === null || this.peerPublicKey === null)
          return;
        this.sharedSecret = await (0, i.deriveSharedSecret)(this.ownPrivateKey, this.peerPublicKey);
      }
    }
    // storage methods
    async loadKey(t) {
      const c = this.storage.getItem(t.storageKey);
      return c ? (0, i.importKeyFromHexString)(t.keyType, c) : null;
    }
    async storeKey(t, c) {
      const d = await (0, i.exportKeyToHexString)(t.keyType, c);
      this.storage.setItem(t.storageKey, d);
    }
  };
  return ct.SCWKeyManager = l, ct;
}
var lt = {}, Yn;
function wo() {
  if (Yn) return lt;
  Yn = 1, Object.defineProperty(lt, "__esModule", { value: !0 }), lt.SCWStateManager = void 0;
  const i = /* @__PURE__ */ Ke(), e = "accounts", a = "activeChain", u = "availableChains", m = "walletCapabilities";
  let l = class {
    get accounts() {
      return this._accounts;
    }
    get activeChain() {
      return this._activeChain;
    }
    get walletCapabilities() {
      return this._walletCapabilities;
    }
    constructor(t) {
      var c, d;
      this.storage = new i.ScopedLocalStorage("CBWSDK", "SCWStateManager"), this.updateListener = t.updateListener, this.availableChains = this.loadItemFromStorage(u), this._walletCapabilities = this.loadItemFromStorage(m);
      const b = this.loadItemFromStorage(e), g = this.loadItemFromStorage(a);
      b && this.updateListener.onAccountsUpdate({
        accounts: b,
        source: "storage"
      }), g && this.updateListener.onChainUpdate({
        chain: g,
        source: "storage"
      }), this._accounts = b || [], this._activeChain = g || { id: (d = (c = t.appChainIds) === null || c === void 0 ? void 0 : c[0]) !== null && d !== void 0 ? d : 1 };
    }
    updateAccounts(t) {
      this._accounts = t, this.storeItemToStorage(e, t), this.updateListener.onAccountsUpdate({
        accounts: t,
        source: "wallet"
      });
    }
    switchChain(t) {
      var c;
      const d = (c = this.availableChains) === null || c === void 0 ? void 0 : c.find((b) => b.id === t);
      return d ? (d === this._activeChain || (this._activeChain = d, this.storeItemToStorage(a, d), this.updateListener.onChainUpdate({
        chain: d,
        source: "wallet"
      })), !0) : !1;
    }
    updateAvailableChains(t) {
      if (!t || Object.keys(t).length === 0)
        return;
      const c = Object.entries(t).map(([d, b]) => ({ id: Number(d), rpcUrl: b }));
      this.availableChains = c, this.storeItemToStorage(u, c), this.switchChain(this._activeChain.id);
    }
    updateWalletCapabilities(t) {
      this._walletCapabilities = t, this.storeItemToStorage(m, t);
    }
    storeItemToStorage(t, c) {
      this.storage.setItem(t, JSON.stringify(c));
    }
    loadItemFromStorage(t) {
      const c = this.storage.getItem(t);
      return c ? JSON.parse(c) : void 0;
    }
    clear() {
      this.storage.clear();
    }
  };
  return lt.SCWStateManager = l, lt;
}
var Jn;
function vo() {
  if (Jn) return at;
  Jn = 1, Object.defineProperty(at, "__esModule", { value: !0 }), at.SCWSigner = void 0;
  const i = /* @__PURE__ */ mo(), e = /* @__PURE__ */ wo(), a = /* @__PURE__ */ Ne(), u = /* @__PURE__ */ Oe(), m = /* @__PURE__ */ Rs();
  let l = class {
    constructor(t) {
      this.metadata = t.metadata, this.communicator = t.communicator, this.keyManager = new i.SCWKeyManager(), this.stateManager = new e.SCWStateManager({
        appChainIds: this.metadata.appChainIds,
        updateListener: t.updateListener
      }), this.handshake = this.handshake.bind(this), this.request = this.request.bind(this), this.createRequestMessage = this.createRequestMessage.bind(this), this.decryptResponseMessage = this.decryptResponseMessage.bind(this);
    }
    async handshake() {
      const t = await this.createRequestMessage({
        handshake: {
          method: "eth_requestAccounts",
          params: this.metadata
        }
      }), c = await this.communicator.postRequestAndWaitForResponse(t);
      if ("failure" in c.content)
        throw c.content.failure;
      const d = await (0, m.importKeyFromHexString)("public", c.sender);
      await this.keyManager.setPeerPublicKey(d);
      const b = await this.decryptResponseMessage(c);
      this.updateInternalState({ method: "eth_requestAccounts" }, b);
      const g = b.result;
      if ("error" in g)
        throw g.error;
      return this.stateManager.accounts;
    }
    async request(t) {
      const c = this.tryLocalHandling(t);
      if (c !== void 0) {
        if (c instanceof Error)
          throw c;
        return c;
      }
      await this.communicator.waitForPopupLoaded();
      const d = await this.sendEncryptedRequest(t), b = await this.decryptResponseMessage(d);
      this.updateInternalState(t, b);
      const g = b.result;
      if ("error" in g)
        throw g.error;
      return g.value;
    }
    async disconnect() {
      this.stateManager.clear(), await this.keyManager.clear();
    }
    tryLocalHandling(t) {
      var c;
      switch (t.method) {
        case "wallet_switchEthereumChain": {
          const d = t.params;
          if (!d || !(!((c = d[0]) === null || c === void 0) && c.chainId))
            throw a.standardErrors.rpc.invalidParams();
          const b = (0, u.ensureIntNumber)(d[0].chainId);
          return this.stateManager.switchChain(b) ? null : void 0;
        }
        case "wallet_getCapabilities": {
          const d = this.stateManager.walletCapabilities;
          if (!d)
            throw a.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");
          return d;
        }
        default:
          return;
      }
    }
    async sendEncryptedRequest(t) {
      const c = await this.keyManager.getSharedSecret();
      if (!c)
        throw a.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");
      const d = await (0, m.encryptContent)({
        action: t,
        chainId: this.stateManager.activeChain.id
      }, c), b = await this.createRequestMessage({ encrypted: d });
      return this.communicator.postRequestAndWaitForResponse(b);
    }
    async createRequestMessage(t) {
      const c = await (0, m.exportKeyToHexString)("public", await this.keyManager.getOwnPublicKey());
      return {
        id: crypto.randomUUID(),
        sender: c,
        content: t,
        timestamp: /* @__PURE__ */ new Date()
      };
    }
    async decryptResponseMessage(t) {
      const c = t.content;
      if ("failure" in c)
        throw c.failure;
      const d = await this.keyManager.getSharedSecret();
      if (!d)
        throw a.standardErrors.provider.unauthorized("Invalid session");
      return (0, m.decryptContent)(c.encrypted, d);
    }
    updateInternalState(t, c) {
      var d, b;
      const g = (d = c.data) === null || d === void 0 ? void 0 : d.chains;
      g && this.stateManager.updateAvailableChains(g);
      const f = (b = c.data) === null || b === void 0 ? void 0 : b.capabilities;
      f && this.stateManager.updateWalletCapabilities(f);
      const o = c.result;
      if (!("error" in o))
        switch (t.method) {
          case "eth_requestAccounts": {
            const r = o.value;
            this.stateManager.updateAccounts(r);
            break;
          }
          case "wallet_switchEthereumChain": {
            if (o.value !== null)
              return;
            const r = t.params, _ = (0, u.ensureIntNumber)(r[0].chainId);
            this.stateManager.switchChain(_);
            break;
          }
        }
    }
  };
  return at.SCWSigner = l, at;
}
var ze = {}, It = { exports: {} }, kt = { exports: {} }, Qn;
function Is() {
  if (Qn) return kt.exports;
  Qn = 1;
  var i = typeof Reflect == "object" ? Reflect : null, e = i && typeof i.apply == "function" ? i.apply : function(R, A, P) {
    return Function.prototype.apply.call(R, A, P);
  }, a;
  i && typeof i.ownKeys == "function" ? a = i.ownKeys : Object.getOwnPropertySymbols ? a = function(R) {
    return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R));
  } : a = function(R) {
    return Object.getOwnPropertyNames(R);
  };
  function u(C) {
    console && console.warn && console.warn(C);
  }
  var m = Number.isNaN || function(R) {
    return R !== R;
  };
  function l() {
    l.init.call(this);
  }
  kt.exports = l, kt.exports.once = p, l.EventEmitter = l, l.prototype._events = void 0, l.prototype._eventsCount = 0, l.prototype._maxListeners = void 0;
  var y = 10;
  function t(C) {
    if (typeof C != "function")
      throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof C);
  }
  Object.defineProperty(l, "defaultMaxListeners", {
    enumerable: !0,
    get: function() {
      return y;
    },
    set: function(C) {
      if (typeof C != "number" || C < 0 || m(C))
        throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + C + ".");
      y = C;
    }
  }), l.init = function() {
    (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  }, l.prototype.setMaxListeners = function(R) {
    if (typeof R != "number" || R < 0 || m(R))
      throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + R + ".");
    return this._maxListeners = R, this;
  };
  function c(C) {
    return C._maxListeners === void 0 ? l.defaultMaxListeners : C._maxListeners;
  }
  l.prototype.getMaxListeners = function() {
    return c(this);
  }, l.prototype.emit = function(R) {
    for (var A = [], P = 1; P < arguments.length; P++) A.push(arguments[P]);
    var D = R === "error", q = this._events;
    if (q !== void 0)
      D = D && q.error === void 0;
    else if (!D)
      return !1;
    if (D) {
      var F;
      if (A.length > 0 && (F = A[0]), F instanceof Error)
        throw F;
      var T = new Error("Unhandled error." + (F ? " (" + F.message + ")" : ""));
      throw T.context = F, T;
    }
    var H = q[R];
    if (H === void 0)
      return !1;
    if (typeof H == "function")
      e(H, this, A);
    else
      for (var V = H.length, Y = r(H, V), P = 0; P < V; ++P)
        e(Y[P], this, A);
    return !0;
  };
  function d(C, R, A, P) {
    var D, q, F;
    if (t(A), q = C._events, q === void 0 ? (q = C._events = /* @__PURE__ */ Object.create(null), C._eventsCount = 0) : (q.newListener !== void 0 && (C.emit(
      "newListener",
      R,
      A.listener ? A.listener : A
    ), q = C._events), F = q[R]), F === void 0)
      F = q[R] = A, ++C._eventsCount;
    else if (typeof F == "function" ? F = q[R] = P ? [A, F] : [F, A] : P ? F.unshift(A) : F.push(A), D = c(C), D > 0 && F.length > D && !F.warned) {
      F.warned = !0;
      var T = new Error("Possible EventEmitter memory leak detected. " + F.length + " " + String(R) + " listeners added. Use emitter.setMaxListeners() to increase limit");
      T.name = "MaxListenersExceededWarning", T.emitter = C, T.type = R, T.count = F.length, u(T);
    }
    return C;
  }
  l.prototype.addListener = function(R, A) {
    return d(this, R, A, !1);
  }, l.prototype.on = l.prototype.addListener, l.prototype.prependListener = function(R, A) {
    return d(this, R, A, !0);
  };
  function b() {
    if (!this.fired)
      return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
  }
  function g(C, R, A) {
    var P = { fired: !1, wrapFn: void 0, target: C, type: R, listener: A }, D = b.bind(P);
    return D.listener = A, P.wrapFn = D, D;
  }
  l.prototype.once = function(R, A) {
    return t(A), this.on(R, g(this, R, A)), this;
  }, l.prototype.prependOnceListener = function(R, A) {
    return t(A), this.prependListener(R, g(this, R, A)), this;
  }, l.prototype.removeListener = function(R, A) {
    var P, D, q, F, T;
    if (t(A), D = this._events, D === void 0)
      return this;
    if (P = D[R], P === void 0)
      return this;
    if (P === A || P.listener === A)
      --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete D[R], D.removeListener && this.emit("removeListener", R, P.listener || A));
    else if (typeof P != "function") {
      for (q = -1, F = P.length - 1; F >= 0; F--)
        if (P[F] === A || P[F].listener === A) {
          T = P[F].listener, q = F;
          break;
        }
      if (q < 0)
        return this;
      q === 0 ? P.shift() : _(P, q), P.length === 1 && (D[R] = P[0]), D.removeListener !== void 0 && this.emit("removeListener", R, T || A);
    }
    return this;
  }, l.prototype.off = l.prototype.removeListener, l.prototype.removeAllListeners = function(R) {
    var A, P, D;
    if (P = this._events, P === void 0)
      return this;
    if (P.removeListener === void 0)
      return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : P[R] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete P[R]), this;
    if (arguments.length === 0) {
      var q = Object.keys(P), F;
      for (D = 0; D < q.length; ++D)
        F = q[D], F !== "removeListener" && this.removeAllListeners(F);
      return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
    }
    if (A = P[R], typeof A == "function")
      this.removeListener(R, A);
    else if (A !== void 0)
      for (D = A.length - 1; D >= 0; D--)
        this.removeListener(R, A[D]);
    return this;
  };
  function f(C, R, A) {
    var P = C._events;
    if (P === void 0)
      return [];
    var D = P[R];
    return D === void 0 ? [] : typeof D == "function" ? A ? [D.listener || D] : [D] : A ? h(D) : r(D, D.length);
  }
  l.prototype.listeners = function(R) {
    return f(this, R, !0);
  }, l.prototype.rawListeners = function(R) {
    return f(this, R, !1);
  }, l.listenerCount = function(C, R) {
    return typeof C.listenerCount == "function" ? C.listenerCount(R) : o.call(C, R);
  }, l.prototype.listenerCount = o;
  function o(C) {
    var R = this._events;
    if (R !== void 0) {
      var A = R[C];
      if (typeof A == "function")
        return 1;
      if (A !== void 0)
        return A.length;
    }
    return 0;
  }
  l.prototype.eventNames = function() {
    return this._eventsCount > 0 ? a(this._events) : [];
  };
  function r(C, R) {
    for (var A = new Array(R), P = 0; P < R; ++P)
      A[P] = C[P];
    return A;
  }
  function _(C, R) {
    for (; R + 1 < C.length; R++)
      C[R] = C[R + 1];
    C.pop();
  }
  function h(C) {
    for (var R = new Array(C.length), A = 0; A < R.length; ++A)
      R[A] = C[A].listener || C[A];
    return R;
  }
  function p(C, R) {
    return new Promise(function(A, P) {
      function D(F) {
        C.removeListener(R, q), P(F);
      }
      function q() {
        typeof C.removeListener == "function" && C.removeListener("error", D), A([].slice.call(arguments));
      }
      I(C, R, q, { once: !0 }), R !== "error" && E(C, D, { once: !0 });
    });
  }
  function E(C, R, A) {
    typeof C.on == "function" && I(C, "error", R, A);
  }
  function I(C, R, A, P) {
    if (typeof C.on == "function")
      P.once ? C.once(R, A) : C.on(R, A);
    else if (typeof C.addEventListener == "function")
      C.addEventListener(R, function D(q) {
        P.once && C.removeEventListener(R, D), A(q);
      });
    else
      throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof C);
  }
  return kt.exports;
}
var Nr, Xn;
function ks() {
  return Xn || (Xn = 1, Nr = Is().EventEmitter), Nr;
}
var Or = {}, ht = {}, ei;
function Eo() {
  if (ei) return ht;
  ei = 1, ht.byteLength = t, ht.toByteArray = d, ht.fromByteArray = f;
  for (var i = [], e = [], a = typeof Uint8Array < "u" ? Uint8Array : Array, u = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", m = 0, l = u.length; m < l; ++m)
    i[m] = u[m], e[u.charCodeAt(m)] = m;
  e[45] = 62, e[95] = 63;
  function y(o) {
    var r = o.length;
    if (r % 4 > 0)
      throw new Error("Invalid string. Length must be a multiple of 4");
    var _ = o.indexOf("=");
    _ === -1 && (_ = r);
    var h = _ === r ? 0 : 4 - _ % 4;
    return [_, h];
  }
  function t(o) {
    var r = y(o), _ = r[0], h = r[1];
    return (_ + h) * 3 / 4 - h;
  }
  function c(o, r, _) {
    return (r + _) * 3 / 4 - _;
  }
  function d(o) {
    var r, _ = y(o), h = _[0], p = _[1], E = new a(c(o, h, p)), I = 0, C = p > 0 ? h - 4 : h, R;
    for (R = 0; R < C; R += 4)
      r = e[o.charCodeAt(R)] << 18 | e[o.charCodeAt(R + 1)] << 12 | e[o.charCodeAt(R + 2)] << 6 | e[o.charCodeAt(R + 3)], E[I++] = r >> 16 & 255, E[I++] = r >> 8 & 255, E[I++] = r & 255;
    return p === 2 && (r = e[o.charCodeAt(R)] << 2 | e[o.charCodeAt(R + 1)] >> 4, E[I++] = r & 255), p === 1 && (r = e[o.charCodeAt(R)] << 10 | e[o.charCodeAt(R + 1)] << 4 | e[o.charCodeAt(R + 2)] >> 2, E[I++] = r >> 8 & 255, E[I++] = r & 255), E;
  }
  function b(o) {
    return i[o >> 18 & 63] + i[o >> 12 & 63] + i[o >> 6 & 63] + i[o & 63];
  }
  function g(o, r, _) {
    for (var h, p = [], E = r; E < _; E += 3)
      h = (o[E] << 16 & 16711680) + (o[E + 1] << 8 & 65280) + (o[E + 2] & 255), p.push(b(h));
    return p.join("");
  }
  function f(o) {
    for (var r, _ = o.length, h = _ % 3, p = [], E = 16383, I = 0, C = _ - h; I < C; I += E)
      p.push(g(o, I, I + E > C ? C : I + E));
    return h === 1 ? (r = o[_ - 1], p.push(
      i[r >> 2] + i[r << 4 & 63] + "=="
    )) : h === 2 && (r = (o[_ - 2] << 8) + o[_ - 1], p.push(
      i[r >> 10] + i[r >> 4 & 63] + i[r << 2 & 63] + "="
    )), p.join("");
  }
  return ht;
}
var At = {};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
var ti;
function So() {
  return ti || (ti = 1, At.read = function(i, e, a, u, m) {
    var l, y, t = m * 8 - u - 1, c = (1 << t) - 1, d = c >> 1, b = -7, g = a ? m - 1 : 0, f = a ? -1 : 1, o = i[e + g];
    for (g += f, l = o & (1 << -b) - 1, o >>= -b, b += t; b > 0; l = l * 256 + i[e + g], g += f, b -= 8)
      ;
    for (y = l & (1 << -b) - 1, l >>= -b, b += u; b > 0; y = y * 256 + i[e + g], g += f, b -= 8)
      ;
    if (l === 0)
      l = 1 - d;
    else {
      if (l === c)
        return y ? NaN : (o ? -1 : 1) * (1 / 0);
      y = y + Math.pow(2, u), l = l - d;
    }
    return (o ? -1 : 1) * y * Math.pow(2, l - u);
  }, At.write = function(i, e, a, u, m, l) {
    var y, t, c, d = l * 8 - m - 1, b = (1 << d) - 1, g = b >> 1, f = m === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, o = u ? 0 : l - 1, r = u ? 1 : -1, _ = e < 0 || e === 0 && 1 / e < 0 ? 1 : 0;
    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (t = isNaN(e) ? 1 : 0, y = b) : (y = Math.floor(Math.log(e) / Math.LN2), e * (c = Math.pow(2, -y)) < 1 && (y--, c *= 2), y + g >= 1 ? e += f / c : e += f * Math.pow(2, 1 - g), e * c >= 2 && (y++, c /= 2), y + g >= b ? (t = 0, y = b) : y + g >= 1 ? (t = (e * c - 1) * Math.pow(2, m), y = y + g) : (t = e * Math.pow(2, g - 1) * Math.pow(2, m), y = 0)); m >= 8; i[a + o] = t & 255, o += r, t /= 256, m -= 8)
      ;
    for (y = y << m | t, d += m; d > 0; i[a + o] = y & 255, o += r, y /= 256, d -= 8)
      ;
    i[a + o - r] |= _ * 128;
  }), At;
}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
var ri;
function jt() {
  return ri || (ri = 1, function(i) {
    const e = Eo(), a = So(), u = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
    i.Buffer = t, i.SlowBuffer = E, i.INSPECT_MAX_BYTES = 50;
    const m = 2147483647;
    i.kMaxLength = m, t.TYPED_ARRAY_SUPPORT = l(), !t.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
      "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
    );
    function l() {
      try {
        const w = new Uint8Array(1), n = { foo: function() {
          return 42;
        } };
        return Object.setPrototypeOf(n, Uint8Array.prototype), Object.setPrototypeOf(w, n), w.foo() === 42;
      } catch {
        return !1;
      }
    }
    Object.defineProperty(t.prototype, "parent", {
      enumerable: !0,
      get: function() {
        if (t.isBuffer(this))
          return this.buffer;
      }
    }), Object.defineProperty(t.prototype, "offset", {
      enumerable: !0,
      get: function() {
        if (t.isBuffer(this))
          return this.byteOffset;
      }
    });
    function y(w) {
      if (w > m)
        throw new RangeError('The value "' + w + '" is invalid for option "size"');
      const n = new Uint8Array(w);
      return Object.setPrototypeOf(n, t.prototype), n;
    }
    function t(w, n, s) {
      if (typeof w == "number") {
        if (typeof n == "string")
          throw new TypeError(
            'The "string" argument must be of type string. Received type number'
          );
        return g(w);
      }
      return c(w, n, s);
    }
    t.poolSize = 8192;
    function c(w, n, s) {
      if (typeof w == "string")
        return f(w, n);
      if (ArrayBuffer.isView(w))
        return r(w);
      if (w == null)
        throw new TypeError(
          "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof w
        );
      if (oe(w, ArrayBuffer) || w && oe(w.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (oe(w, SharedArrayBuffer) || w && oe(w.buffer, SharedArrayBuffer)))
        return _(w, n, s);
      if (typeof w == "number")
        throw new TypeError(
          'The "value" argument must not be of type number. Received type number'
        );
      const v = w.valueOf && w.valueOf();
      if (v != null && v !== w)
        return t.from(v, n, s);
      const k = h(w);
      if (k) return k;
      if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof w[Symbol.toPrimitive] == "function")
        return t.from(w[Symbol.toPrimitive]("string"), n, s);
      throw new TypeError(
        "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof w
      );
    }
    t.from = function(w, n, s) {
      return c(w, n, s);
    }, Object.setPrototypeOf(t.prototype, Uint8Array.prototype), Object.setPrototypeOf(t, Uint8Array);
    function d(w) {
      if (typeof w != "number")
        throw new TypeError('"size" argument must be of type number');
      if (w < 0)
        throw new RangeError('The value "' + w + '" is invalid for option "size"');
    }
    function b(w, n, s) {
      return d(w), w <= 0 ? y(w) : n !== void 0 ? typeof s == "string" ? y(w).fill(n, s) : y(w).fill(n) : y(w);
    }
    t.alloc = function(w, n, s) {
      return b(w, n, s);
    };
    function g(w) {
      return d(w), y(w < 0 ? 0 : p(w) | 0);
    }
    t.allocUnsafe = function(w) {
      return g(w);
    }, t.allocUnsafeSlow = function(w) {
      return g(w);
    };
    function f(w, n) {
      if ((typeof n != "string" || n === "") && (n = "utf8"), !t.isEncoding(n))
        throw new TypeError("Unknown encoding: " + n);
      const s = I(w, n) | 0;
      let v = y(s);
      const k = v.write(w, n);
      return k !== s && (v = v.slice(0, k)), v;
    }
    function o(w) {
      const n = w.length < 0 ? 0 : p(w.length) | 0, s = y(n);
      for (let v = 0; v < n; v += 1)
        s[v] = w[v] & 255;
      return s;
    }
    function r(w) {
      if (oe(w, Uint8Array)) {
        const n = new Uint8Array(w);
        return _(n.buffer, n.byteOffset, n.byteLength);
      }
      return o(w);
    }
    function _(w, n, s) {
      if (n < 0 || w.byteLength < n)
        throw new RangeError('"offset" is outside of buffer bounds');
      if (w.byteLength < n + (s || 0))
        throw new RangeError('"length" is outside of buffer bounds');
      let v;
      return n === void 0 && s === void 0 ? v = new Uint8Array(w) : s === void 0 ? v = new Uint8Array(w, n) : v = new Uint8Array(w, n, s), Object.setPrototypeOf(v, t.prototype), v;
    }
    function h(w) {
      if (t.isBuffer(w)) {
        const n = p(w.length) | 0, s = y(n);
        return s.length === 0 || w.copy(s, 0, 0, n), s;
      }
      if (w.length !== void 0)
        return typeof w.length != "number" || me(w.length) ? y(0) : o(w);
      if (w.type === "Buffer" && Array.isArray(w.data))
        return o(w.data);
    }
    function p(w) {
      if (w >= m)
        throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + m.toString(16) + " bytes");
      return w | 0;
    }
    function E(w) {
      return +w != w && (w = 0), t.alloc(+w);
    }
    t.isBuffer = function(n) {
      return n != null && n._isBuffer === !0 && n !== t.prototype;
    }, t.compare = function(n, s) {
      if (oe(n, Uint8Array) && (n = t.from(n, n.offset, n.byteLength)), oe(s, Uint8Array) && (s = t.from(s, s.offset, s.byteLength)), !t.isBuffer(n) || !t.isBuffer(s))
        throw new TypeError(
          'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
        );
      if (n === s) return 0;
      let v = n.length, k = s.length;
      for (let M = 0, N = Math.min(v, k); M < N; ++M)
        if (n[M] !== s[M]) {
          v = n[M], k = s[M];
          break;
        }
      return v < k ? -1 : k < v ? 1 : 0;
    }, t.isEncoding = function(n) {
      switch (String(n).toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "latin1":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return !0;
        default:
          return !1;
      }
    }, t.concat = function(n, s) {
      if (!Array.isArray(n))
        throw new TypeError('"list" argument must be an Array of Buffers');
      if (n.length === 0)
        return t.alloc(0);
      let v;
      if (s === void 0)
        for (s = 0, v = 0; v < n.length; ++v)
          s += n[v].length;
      const k = t.allocUnsafe(s);
      let M = 0;
      for (v = 0; v < n.length; ++v) {
        let N = n[v];
        if (oe(N, Uint8Array))
          M + N.length > k.length ? (t.isBuffer(N) || (N = t.from(N)), N.copy(k, M)) : Uint8Array.prototype.set.call(
            k,
            N,
            M
          );
        else if (t.isBuffer(N))
          N.copy(k, M);
        else
          throw new TypeError('"list" argument must be an Array of Buffers');
        M += N.length;
      }
      return k;
    };
    function I(w, n) {
      if (t.isBuffer(w))
        return w.length;
      if (ArrayBuffer.isView(w) || oe(w, ArrayBuffer))
        return w.byteLength;
      if (typeof w != "string")
        throw new TypeError(
          'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof w
        );
      const s = w.length, v = arguments.length > 2 && arguments[2] === !0;
      if (!v && s === 0) return 0;
      let k = !1;
      for (; ; )
        switch (n) {
          case "ascii":
          case "latin1":
          case "binary":
            return s;
          case "utf8":
          case "utf-8":
            return Z(w).length;
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return s * 2;
          case "hex":
            return s >>> 1;
          case "base64":
            return xe(w).length;
          default:
            if (k)
              return v ? -1 : Z(w).length;
            n = ("" + n).toLowerCase(), k = !0;
        }
    }
    t.byteLength = I;
    function C(w, n, s) {
      let v = !1;
      if ((n === void 0 || n < 0) && (n = 0), n > this.length || ((s === void 0 || s > this.length) && (s = this.length), s <= 0) || (s >>>= 0, n >>>= 0, s <= n))
        return "";
      for (w || (w = "utf8"); ; )
        switch (w) {
          case "hex":
            return he(this, n, s);
          case "utf8":
          case "utf-8":
            return Y(this, n, s);
          case "ascii":
            return J(this, n, s);
          case "latin1":
          case "binary":
            return pe(this, n, s);
          case "base64":
            return V(this, n, s);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return we(this, n, s);
          default:
            if (v) throw new TypeError("Unknown encoding: " + w);
            w = (w + "").toLowerCase(), v = !0;
        }
    }
    t.prototype._isBuffer = !0;
    function R(w, n, s) {
      const v = w[n];
      w[n] = w[s], w[s] = v;
    }
    t.prototype.swap16 = function() {
      const n = this.length;
      if (n % 2 !== 0)
        throw new RangeError("Buffer size must be a multiple of 16-bits");
      for (let s = 0; s < n; s += 2)
        R(this, s, s + 1);
      return this;
    }, t.prototype.swap32 = function() {
      const n = this.length;
      if (n % 4 !== 0)
        throw new RangeError("Buffer size must be a multiple of 32-bits");
      for (let s = 0; s < n; s += 4)
        R(this, s, s + 3), R(this, s + 1, s + 2);
      return this;
    }, t.prototype.swap64 = function() {
      const n = this.length;
      if (n % 8 !== 0)
        throw new RangeError("Buffer size must be a multiple of 64-bits");
      for (let s = 0; s < n; s += 8)
        R(this, s, s + 7), R(this, s + 1, s + 6), R(this, s + 2, s + 5), R(this, s + 3, s + 4);
      return this;
    }, t.prototype.toString = function() {
      const n = this.length;
      return n === 0 ? "" : arguments.length === 0 ? Y(this, 0, n) : C.apply(this, arguments);
    }, t.prototype.toLocaleString = t.prototype.toString, t.prototype.equals = function(n) {
      if (!t.isBuffer(n)) throw new TypeError("Argument must be a Buffer");
      return this === n ? !0 : t.compare(this, n) === 0;
    }, t.prototype.inspect = function() {
      let n = "";
      const s = i.INSPECT_MAX_BYTES;
      return n = this.toString("hex", 0, s).replace(/(.{2})/g, "$1 ").trim(), this.length > s && (n += " ... "), "<Buffer " + n + ">";
    }, u && (t.prototype[u] = t.prototype.inspect), t.prototype.compare = function(n, s, v, k, M) {
      if (oe(n, Uint8Array) && (n = t.from(n, n.offset, n.byteLength)), !t.isBuffer(n))
        throw new TypeError(
          'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof n
        );
      if (s === void 0 && (s = 0), v === void 0 && (v = n ? n.length : 0), k === void 0 && (k = 0), M === void 0 && (M = this.length), s < 0 || v > n.length || k < 0 || M > this.length)
        throw new RangeError("out of range index");
      if (k >= M && s >= v)
        return 0;
      if (k >= M)
        return -1;
      if (s >= v)
        return 1;
      if (s >>>= 0, v >>>= 0, k >>>= 0, M >>>= 0, this === n) return 0;
      let N = M - k, G = v - s;
      const ne = Math.min(N, G), te = this.slice(k, M), ie = n.slice(s, v);
      for (let Q = 0; Q < ne; ++Q)
        if (te[Q] !== ie[Q]) {
          N = te[Q], G = ie[Q];
          break;
        }
      return N < G ? -1 : G < N ? 1 : 0;
    };
    function A(w, n, s, v, k) {
      if (w.length === 0) return -1;
      if (typeof s == "string" ? (v = s, s = 0) : s > 2147483647 ? s = 2147483647 : s < -2147483648 && (s = -2147483648), s = +s, me(s) && (s = k ? 0 : w.length - 1), s < 0 && (s = w.length + s), s >= w.length) {
        if (k) return -1;
        s = w.length - 1;
      } else if (s < 0)
        if (k) s = 0;
        else return -1;
      if (typeof n == "string" && (n = t.from(n, v)), t.isBuffer(n))
        return n.length === 0 ? -1 : P(w, n, s, v, k);
      if (typeof n == "number")
        return n = n & 255, typeof Uint8Array.prototype.indexOf == "function" ? k ? Uint8Array.prototype.indexOf.call(w, n, s) : Uint8Array.prototype.lastIndexOf.call(w, n, s) : P(w, [n], s, v, k);
      throw new TypeError("val must be string, number or Buffer");
    }
    function P(w, n, s, v, k) {
      let M = 1, N = w.length, G = n.length;
      if (v !== void 0 && (v = String(v).toLowerCase(), v === "ucs2" || v === "ucs-2" || v === "utf16le" || v === "utf-16le")) {
        if (w.length < 2 || n.length < 2)
          return -1;
        M = 2, N /= 2, G /= 2, s /= 2;
      }
      function ne(ie, Q) {
        return M === 1 ? ie[Q] : ie.readUInt16BE(Q * M);
      }
      let te;
      if (k) {
        let ie = -1;
        for (te = s; te < N; te++)
          if (ne(w, te) === ne(n, ie === -1 ? 0 : te - ie)) {
            if (ie === -1 && (ie = te), te - ie + 1 === G) return ie * M;
          } else
            ie !== -1 && (te -= te - ie), ie = -1;
      } else
        for (s + G > N && (s = N - G), te = s; te >= 0; te--) {
          let ie = !0;
          for (let Q = 0; Q < G; Q++)
            if (ne(w, te + Q) !== ne(n, Q)) {
              ie = !1;
              break;
            }
          if (ie) return te;
        }
      return -1;
    }
    t.prototype.includes = function(n, s, v) {
      return this.indexOf(n, s, v) !== -1;
    }, t.prototype.indexOf = function(n, s, v) {
      return A(this, n, s, v, !0);
    }, t.prototype.lastIndexOf = function(n, s, v) {
      return A(this, n, s, v, !1);
    };
    function D(w, n, s, v) {
      s = Number(s) || 0;
      const k = w.length - s;
      v ? (v = Number(v), v > k && (v = k)) : v = k;
      const M = n.length;
      v > M / 2 && (v = M / 2);
      let N;
      for (N = 0; N < v; ++N) {
        const G = parseInt(n.substr(N * 2, 2), 16);
        if (me(G)) return N;
        w[s + N] = G;
      }
      return N;
    }
    function q(w, n, s, v) {
      return ce(Z(n, w.length - s), w, s, v);
    }
    function F(w, n, s, v) {
      return ce(be(n), w, s, v);
    }
    function T(w, n, s, v) {
      return ce(xe(n), w, s, v);
    }
    function H(w, n, s, v) {
      return ce(Se(n, w.length - s), w, s, v);
    }
    t.prototype.write = function(n, s, v, k) {
      if (s === void 0)
        k = "utf8", v = this.length, s = 0;
      else if (v === void 0 && typeof s == "string")
        k = s, v = this.length, s = 0;
      else if (isFinite(s))
        s = s >>> 0, isFinite(v) ? (v = v >>> 0, k === void 0 && (k = "utf8")) : (k = v, v = void 0);
      else
        throw new Error(
          "Buffer.write(string, encoding, offset[, length]) is no longer supported"
        );
      const M = this.length - s;
      if ((v === void 0 || v > M) && (v = M), n.length > 0 && (v < 0 || s < 0) || s > this.length)
        throw new RangeError("Attempt to write outside buffer bounds");
      k || (k = "utf8");
      let N = !1;
      for (; ; )
        switch (k) {
          case "hex":
            return D(this, n, s, v);
          case "utf8":
          case "utf-8":
            return q(this, n, s, v);
          case "ascii":
          case "latin1":
          case "binary":
            return F(this, n, s, v);
          case "base64":
            return T(this, n, s, v);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return H(this, n, s, v);
          default:
            if (N) throw new TypeError("Unknown encoding: " + k);
            k = ("" + k).toLowerCase(), N = !0;
        }
    }, t.prototype.toJSON = function() {
      return {
        type: "Buffer",
        data: Array.prototype.slice.call(this._arr || this, 0)
      };
    };
    function V(w, n, s) {
      return n === 0 && s === w.length ? e.fromByteArray(w) : e.fromByteArray(w.slice(n, s));
    }
    function Y(w, n, s) {
      s = Math.min(w.length, s);
      const v = [];
      let k = n;
      for (; k < s; ) {
        const M = w[k];
        let N = null, G = M > 239 ? 4 : M > 223 ? 3 : M > 191 ? 2 : 1;
        if (k + G <= s) {
          let ne, te, ie, Q;
          switch (G) {
            case 1:
              M < 128 && (N = M);
              break;
            case 2:
              ne = w[k + 1], (ne & 192) === 128 && (Q = (M & 31) << 6 | ne & 63, Q > 127 && (N = Q));
              break;
            case 3:
              ne = w[k + 1], te = w[k + 2], (ne & 192) === 128 && (te & 192) === 128 && (Q = (M & 15) << 12 | (ne & 63) << 6 | te & 63, Q > 2047 && (Q < 55296 || Q > 57343) && (N = Q));
              break;
            case 4:
              ne = w[k + 1], te = w[k + 2], ie = w[k + 3], (ne & 192) === 128 && (te & 192) === 128 && (ie & 192) === 128 && (Q = (M & 15) << 18 | (ne & 63) << 12 | (te & 63) << 6 | ie & 63, Q > 65535 && Q < 1114112 && (N = Q));
          }
        }
        N === null ? (N = 65533, G = 1) : N > 65535 && (N -= 65536, v.push(N >>> 10 & 1023 | 55296), N = 56320 | N & 1023), v.push(N), k += G;
      }
      return ye(v);
    }
    const de = 4096;
    function ye(w) {
      const n = w.length;
      if (n <= de)
        return String.fromCharCode.apply(String, w);
      let s = "", v = 0;
      for (; v < n; )
        s += String.fromCharCode.apply(
          String,
          w.slice(v, v += de)
        );
      return s;
    }
    function J(w, n, s) {
      let v = "";
      s = Math.min(w.length, s);
      for (let k = n; k < s; ++k)
        v += String.fromCharCode(w[k] & 127);
      return v;
    }
    function pe(w, n, s) {
      let v = "";
      s = Math.min(w.length, s);
      for (let k = n; k < s; ++k)
        v += String.fromCharCode(w[k]);
      return v;
    }
    function he(w, n, s) {
      const v = w.length;
      (!n || n < 0) && (n = 0), (!s || s < 0 || s > v) && (s = v);
      let k = "";
      for (let M = n; M < s; ++M)
        k += Ae[w[M]];
      return k;
    }
    function we(w, n, s) {
      const v = w.slice(n, s);
      let k = "";
      for (let M = 0; M < v.length - 1; M += 2)
        k += String.fromCharCode(v[M] + v[M + 1] * 256);
      return k;
    }
    t.prototype.slice = function(n, s) {
      const v = this.length;
      n = ~~n, s = s === void 0 ? v : ~~s, n < 0 ? (n += v, n < 0 && (n = 0)) : n > v && (n = v), s < 0 ? (s += v, s < 0 && (s = 0)) : s > v && (s = v), s < n && (s = n);
      const k = this.subarray(n, s);
      return Object.setPrototypeOf(k, t.prototype), k;
    };
    function ee(w, n, s) {
      if (w % 1 !== 0 || w < 0) throw new RangeError("offset is not uint");
      if (w + n > s) throw new RangeError("Trying to access beyond buffer length");
    }
    t.prototype.readUintLE = t.prototype.readUIntLE = function(n, s, v) {
      n = n >>> 0, s = s >>> 0, v || ee(n, s, this.length);
      let k = this[n], M = 1, N = 0;
      for (; ++N < s && (M *= 256); )
        k += this[n + N] * M;
      return k;
    }, t.prototype.readUintBE = t.prototype.readUIntBE = function(n, s, v) {
      n = n >>> 0, s = s >>> 0, v || ee(n, s, this.length);
      let k = this[n + --s], M = 1;
      for (; s > 0 && (M *= 256); )
        k += this[n + --s] * M;
      return k;
    }, t.prototype.readUint8 = t.prototype.readUInt8 = function(n, s) {
      return n = n >>> 0, s || ee(n, 1, this.length), this[n];
    }, t.prototype.readUint16LE = t.prototype.readUInt16LE = function(n, s) {
      return n = n >>> 0, s || ee(n, 2, this.length), this[n] | this[n + 1] << 8;
    }, t.prototype.readUint16BE = t.prototype.readUInt16BE = function(n, s) {
      return n = n >>> 0, s || ee(n, 2, this.length), this[n] << 8 | this[n + 1];
    }, t.prototype.readUint32LE = t.prototype.readUInt32LE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), (this[n] | this[n + 1] << 8 | this[n + 2] << 16) + this[n + 3] * 16777216;
    }, t.prototype.readUint32BE = t.prototype.readUInt32BE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), this[n] * 16777216 + (this[n + 1] << 16 | this[n + 2] << 8 | this[n + 3]);
    }, t.prototype.readBigUInt64LE = _e(function(n) {
      n = n >>> 0, O(n, "offset");
      const s = this[n], v = this[n + 7];
      (s === void 0 || v === void 0) && W(n, this.length - 8);
      const k = s + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + this[++n] * 2 ** 24, M = this[++n] + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + v * 2 ** 24;
      return BigInt(k) + (BigInt(M) << BigInt(32));
    }), t.prototype.readBigUInt64BE = _e(function(n) {
      n = n >>> 0, O(n, "offset");
      const s = this[n], v = this[n + 7];
      (s === void 0 || v === void 0) && W(n, this.length - 8);
      const k = s * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + this[++n], M = this[++n] * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + v;
      return (BigInt(k) << BigInt(32)) + BigInt(M);
    }), t.prototype.readIntLE = function(n, s, v) {
      n = n >>> 0, s = s >>> 0, v || ee(n, s, this.length);
      let k = this[n], M = 1, N = 0;
      for (; ++N < s && (M *= 256); )
        k += this[n + N] * M;
      return M *= 128, k >= M && (k -= Math.pow(2, 8 * s)), k;
    }, t.prototype.readIntBE = function(n, s, v) {
      n = n >>> 0, s = s >>> 0, v || ee(n, s, this.length);
      let k = s, M = 1, N = this[n + --k];
      for (; k > 0 && (M *= 256); )
        N += this[n + --k] * M;
      return M *= 128, N >= M && (N -= Math.pow(2, 8 * s)), N;
    }, t.prototype.readInt8 = function(n, s) {
      return n = n >>> 0, s || ee(n, 1, this.length), this[n] & 128 ? (255 - this[n] + 1) * -1 : this[n];
    }, t.prototype.readInt16LE = function(n, s) {
      n = n >>> 0, s || ee(n, 2, this.length);
      const v = this[n] | this[n + 1] << 8;
      return v & 32768 ? v | 4294901760 : v;
    }, t.prototype.readInt16BE = function(n, s) {
      n = n >>> 0, s || ee(n, 2, this.length);
      const v = this[n + 1] | this[n] << 8;
      return v & 32768 ? v | 4294901760 : v;
    }, t.prototype.readInt32LE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), this[n] | this[n + 1] << 8 | this[n + 2] << 16 | this[n + 3] << 24;
    }, t.prototype.readInt32BE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), this[n] << 24 | this[n + 1] << 16 | this[n + 2] << 8 | this[n + 3];
    }, t.prototype.readBigInt64LE = _e(function(n) {
      n = n >>> 0, O(n, "offset");
      const s = this[n], v = this[n + 7];
      (s === void 0 || v === void 0) && W(n, this.length - 8);
      const k = this[n + 4] + this[n + 5] * 2 ** 8 + this[n + 6] * 2 ** 16 + (v << 24);
      return (BigInt(k) << BigInt(32)) + BigInt(s + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + this[++n] * 2 ** 24);
    }), t.prototype.readBigInt64BE = _e(function(n) {
      n = n >>> 0, O(n, "offset");
      const s = this[n], v = this[n + 7];
      (s === void 0 || v === void 0) && W(n, this.length - 8);
      const k = (s << 24) + // Overflow
      this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + this[++n];
      return (BigInt(k) << BigInt(32)) + BigInt(this[++n] * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + v);
    }), t.prototype.readFloatLE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), a.read(this, n, !0, 23, 4);
    }, t.prototype.readFloatBE = function(n, s) {
      return n = n >>> 0, s || ee(n, 4, this.length), a.read(this, n, !1, 23, 4);
    }, t.prototype.readDoubleLE = function(n, s) {
      return n = n >>> 0, s || ee(n, 8, this.length), a.read(this, n, !0, 52, 8);
    }, t.prototype.readDoubleBE = function(n, s) {
      return n = n >>> 0, s || ee(n, 8, this.length), a.read(this, n, !1, 52, 8);
    };
    function ae(w, n, s, v, k, M) {
      if (!t.isBuffer(w)) throw new TypeError('"buffer" argument must be a Buffer instance');
      if (n > k || n < M) throw new RangeError('"value" argument is out of bounds');
      if (s + v > w.length) throw new RangeError("Index out of range");
    }
    t.prototype.writeUintLE = t.prototype.writeUIntLE = function(n, s, v, k) {
      if (n = +n, s = s >>> 0, v = v >>> 0, !k) {
        const G = Math.pow(2, 8 * v) - 1;
        ae(this, n, s, v, G, 0);
      }
      let M = 1, N = 0;
      for (this[s] = n & 255; ++N < v && (M *= 256); )
        this[s + N] = n / M & 255;
      return s + v;
    }, t.prototype.writeUintBE = t.prototype.writeUIntBE = function(n, s, v, k) {
      if (n = +n, s = s >>> 0, v = v >>> 0, !k) {
        const G = Math.pow(2, 8 * v) - 1;
        ae(this, n, s, v, G, 0);
      }
      let M = v - 1, N = 1;
      for (this[s + M] = n & 255; --M >= 0 && (N *= 256); )
        this[s + M] = n / N & 255;
      return s + v;
    }, t.prototype.writeUint8 = t.prototype.writeUInt8 = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 1, 255, 0), this[s] = n & 255, s + 1;
    }, t.prototype.writeUint16LE = t.prototype.writeUInt16LE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 2, 65535, 0), this[s] = n & 255, this[s + 1] = n >>> 8, s + 2;
    }, t.prototype.writeUint16BE = t.prototype.writeUInt16BE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 2, 65535, 0), this[s] = n >>> 8, this[s + 1] = n & 255, s + 2;
    }, t.prototype.writeUint32LE = t.prototype.writeUInt32LE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 4, 4294967295, 0), this[s + 3] = n >>> 24, this[s + 2] = n >>> 16, this[s + 1] = n >>> 8, this[s] = n & 255, s + 4;
    }, t.prototype.writeUint32BE = t.prototype.writeUInt32BE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 4, 4294967295, 0), this[s] = n >>> 24, this[s + 1] = n >>> 16, this[s + 2] = n >>> 8, this[s + 3] = n & 255, s + 4;
    };
    function fe(w, n, s, v, k) {
      x(n, v, k, w, s, 7);
      let M = Number(n & BigInt(4294967295));
      w[s++] = M, M = M >> 8, w[s++] = M, M = M >> 8, w[s++] = M, M = M >> 8, w[s++] = M;
      let N = Number(n >> BigInt(32) & BigInt(4294967295));
      return w[s++] = N, N = N >> 8, w[s++] = N, N = N >> 8, w[s++] = N, N = N >> 8, w[s++] = N, s;
    }
    function ve(w, n, s, v, k) {
      x(n, v, k, w, s, 7);
      let M = Number(n & BigInt(4294967295));
      w[s + 7] = M, M = M >> 8, w[s + 6] = M, M = M >> 8, w[s + 5] = M, M = M >> 8, w[s + 4] = M;
      let N = Number(n >> BigInt(32) & BigInt(4294967295));
      return w[s + 3] = N, N = N >> 8, w[s + 2] = N, N = N >> 8, w[s + 1] = N, N = N >> 8, w[s] = N, s + 8;
    }
    t.prototype.writeBigUInt64LE = _e(function(n, s = 0) {
      return fe(this, n, s, BigInt(0), BigInt("0xffffffffffffffff"));
    }), t.prototype.writeBigUInt64BE = _e(function(n, s = 0) {
      return ve(this, n, s, BigInt(0), BigInt("0xffffffffffffffff"));
    }), t.prototype.writeIntLE = function(n, s, v, k) {
      if (n = +n, s = s >>> 0, !k) {
        const ne = Math.pow(2, 8 * v - 1);
        ae(this, n, s, v, ne - 1, -ne);
      }
      let M = 0, N = 1, G = 0;
      for (this[s] = n & 255; ++M < v && (N *= 256); )
        n < 0 && G === 0 && this[s + M - 1] !== 0 && (G = 1), this[s + M] = (n / N >> 0) - G & 255;
      return s + v;
    }, t.prototype.writeIntBE = function(n, s, v, k) {
      if (n = +n, s = s >>> 0, !k) {
        const ne = Math.pow(2, 8 * v - 1);
        ae(this, n, s, v, ne - 1, -ne);
      }
      let M = v - 1, N = 1, G = 0;
      for (this[s + M] = n & 255; --M >= 0 && (N *= 256); )
        n < 0 && G === 0 && this[s + M + 1] !== 0 && (G = 1), this[s + M] = (n / N >> 0) - G & 255;
      return s + v;
    }, t.prototype.writeInt8 = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 1, 127, -128), n < 0 && (n = 255 + n + 1), this[s] = n & 255, s + 1;
    }, t.prototype.writeInt16LE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 2, 32767, -32768), this[s] = n & 255, this[s + 1] = n >>> 8, s + 2;
    }, t.prototype.writeInt16BE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 2, 32767, -32768), this[s] = n >>> 8, this[s + 1] = n & 255, s + 2;
    }, t.prototype.writeInt32LE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 4, 2147483647, -2147483648), this[s] = n & 255, this[s + 1] = n >>> 8, this[s + 2] = n >>> 16, this[s + 3] = n >>> 24, s + 4;
    }, t.prototype.writeInt32BE = function(n, s, v) {
      return n = +n, s = s >>> 0, v || ae(this, n, s, 4, 2147483647, -2147483648), n < 0 && (n = 4294967295 + n + 1), this[s] = n >>> 24, this[s + 1] = n >>> 16, this[s + 2] = n >>> 8, this[s + 3] = n & 255, s + 4;
    }, t.prototype.writeBigInt64LE = _e(function(n, s = 0) {
      return fe(this, n, s, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
    }), t.prototype.writeBigInt64BE = _e(function(n, s = 0) {
      return ve(this, n, s, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
    });
    function Ee(w, n, s, v, k, M) {
      if (s + v > w.length) throw new RangeError("Index out of range");
      if (s < 0) throw new RangeError("Index out of range");
    }
    function B(w, n, s, v, k) {
      return n = +n, s = s >>> 0, k || Ee(w, n, s, 4), a.write(w, n, s, v, 23, 4), s + 4;
    }
    t.prototype.writeFloatLE = function(n, s, v) {
      return B(this, n, s, !0, v);
    }, t.prototype.writeFloatBE = function(n, s, v) {
      return B(this, n, s, !1, v);
    };
    function L(w, n, s, v, k) {
      return n = +n, s = s >>> 0, k || Ee(w, n, s, 8), a.write(w, n, s, v, 52, 8), s + 8;
    }
    t.prototype.writeDoubleLE = function(n, s, v) {
      return L(this, n, s, !0, v);
    }, t.prototype.writeDoubleBE = function(n, s, v) {
      return L(this, n, s, !1, v);
    }, t.prototype.copy = function(n, s, v, k) {
      if (!t.isBuffer(n)) throw new TypeError("argument should be a Buffer");
      if (v || (v = 0), !k && k !== 0 && (k = this.length), s >= n.length && (s = n.length), s || (s = 0), k > 0 && k < v && (k = v), k === v || n.length === 0 || this.length === 0) return 0;
      if (s < 0)
        throw new RangeError("targetStart out of bounds");
      if (v < 0 || v >= this.length) throw new RangeError("Index out of range");
      if (k < 0) throw new RangeError("sourceEnd out of bounds");
      k > this.length && (k = this.length), n.length - s < k - v && (k = n.length - s + v);
      const M = k - v;
      return this === n && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(s, v, k) : Uint8Array.prototype.set.call(
        n,
        this.subarray(v, k),
        s
      ), M;
    }, t.prototype.fill = function(n, s, v, k) {
      if (typeof n == "string") {
        if (typeof s == "string" ? (k = s, s = 0, v = this.length) : typeof v == "string" && (k = v, v = this.length), k !== void 0 && typeof k != "string")
          throw new TypeError("encoding must be a string");
        if (typeof k == "string" && !t.isEncoding(k))
          throw new TypeError("Unknown encoding: " + k);
        if (n.length === 1) {
          const N = n.charCodeAt(0);
          (k === "utf8" && N < 128 || k === "latin1") && (n = N);
        }
      } else typeof n == "number" ? n = n & 255 : typeof n == "boolean" && (n = Number(n));
      if (s < 0 || this.length < s || this.length < v)
        throw new RangeError("Out of range index");
      if (v <= s)
        return this;
      s = s >>> 0, v = v === void 0 ? this.length : v >>> 0, n || (n = 0);
      let M;
      if (typeof n == "number")
        for (M = s; M < v; ++M)
          this[M] = n;
      else {
        const N = t.isBuffer(n) ? n : t.from(n, k), G = N.length;
        if (G === 0)
          throw new TypeError('The value "' + n + '" is invalid for argument "value"');
        for (M = 0; M < v - s; ++M)
          this[M + s] = N[M % G];
      }
      return this;
    };
    const U = {};
    function j(w, n, s) {
      U[w] = class extends s {
        constructor() {
          super(), Object.defineProperty(this, "message", {
            value: n.apply(this, arguments),
            writable: !0,
            configurable: !0
          }), this.name = `${this.name} [${w}]`, this.stack, delete this.name;
        }
        get code() {
          return w;
        }
        set code(k) {
          Object.defineProperty(this, "code", {
            configurable: !0,
            enumerable: !0,
            value: k,
            writable: !0
          });
        }
        toString() {
          return `${this.name} [${w}]: ${this.message}`;
        }
      };
    }
    j(
      "ERR_BUFFER_OUT_OF_BOUNDS",
      function(w) {
        return w ? `${w} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds";
      },
      RangeError
    ), j(
      "ERR_INVALID_ARG_TYPE",
      function(w, n) {
        return `The "${w}" argument must be of type number. Received type ${typeof n}`;
      },
      TypeError
    ), j(
      "ERR_OUT_OF_RANGE",
      function(w, n, s) {
        let v = `The value of "${w}" is out of range.`, k = s;
        return Number.isInteger(s) && Math.abs(s) > 2 ** 32 ? k = $(String(s)) : typeof s == "bigint" && (k = String(s), (s > BigInt(2) ** BigInt(32) || s < -(BigInt(2) ** BigInt(32))) && (k = $(k)), k += "n"), v += ` It must be ${n}. Received ${k}`, v;
      },
      RangeError
    );
    function $(w) {
      let n = "", s = w.length;
      const v = w[0] === "-" ? 1 : 0;
      for (; s >= v + 4; s -= 3)
        n = `_${w.slice(s - 3, s)}${n}`;
      return `${w.slice(0, s)}${n}`;
    }
    function S(w, n, s) {
      O(n, "offset"), (w[n] === void 0 || w[n + s] === void 0) && W(n, w.length - (s + 1));
    }
    function x(w, n, s, v, k, M) {
      if (w > s || w < n) {
        const N = typeof n == "bigint" ? "n" : "";
        let G;
        throw n === 0 || n === BigInt(0) ? G = `>= 0${N} and < 2${N} ** ${(M + 1) * 8}${N}` : G = `>= -(2${N} ** ${(M + 1) * 8 - 1}${N}) and < 2 ** ${(M + 1) * 8 - 1}${N}`, new U.ERR_OUT_OF_RANGE("value", G, w);
      }
      S(v, k, M);
    }
    function O(w, n) {
      if (typeof w != "number")
        throw new U.ERR_INVALID_ARG_TYPE(n, "number", w);
    }
    function W(w, n, s) {
      throw Math.floor(w) !== w ? (O(w, s), new U.ERR_OUT_OF_RANGE("offset", "an integer", w)) : n < 0 ? new U.ERR_BUFFER_OUT_OF_BOUNDS() : new U.ERR_OUT_OF_RANGE(
        "offset",
        `>= 0 and <= ${n}`,
        w
      );
    }
    const X = /[^+/0-9A-Za-z-_]/g;
    function z(w) {
      if (w = w.split("=")[0], w = w.trim().replace(X, ""), w.length < 2) return "";
      for (; w.length % 4 !== 0; )
        w = w + "=";
      return w;
    }
    function Z(w, n) {
      n = n || 1 / 0;
      let s;
      const v = w.length;
      let k = null;
      const M = [];
      for (let N = 0; N < v; ++N) {
        if (s = w.charCodeAt(N), s > 55295 && s < 57344) {
          if (!k) {
            if (s > 56319) {
              (n -= 3) > -1 && M.push(239, 191, 189);
              continue;
            } else if (N + 1 === v) {
              (n -= 3) > -1 && M.push(239, 191, 189);
              continue;
            }
            k = s;
            continue;
          }
          if (s < 56320) {
            (n -= 3) > -1 && M.push(239, 191, 189), k = s;
            continue;
          }
          s = (k - 55296 << 10 | s - 56320) + 65536;
        } else k && (n -= 3) > -1 && M.push(239, 191, 189);
        if (k = null, s < 128) {
          if ((n -= 1) < 0) break;
          M.push(s);
        } else if (s < 2048) {
          if ((n -= 2) < 0) break;
          M.push(
            s >> 6 | 192,
            s & 63 | 128
          );
        } else if (s < 65536) {
          if ((n -= 3) < 0) break;
          M.push(
            s >> 12 | 224,
            s >> 6 & 63 | 128,
            s & 63 | 128
          );
        } else if (s < 1114112) {
          if ((n -= 4) < 0) break;
          M.push(
            s >> 18 | 240,
            s >> 12 & 63 | 128,
            s >> 6 & 63 | 128,
            s & 63 | 128
          );
        } else
          throw new Error("Invalid code point");
      }
      return M;
    }
    function be(w) {
      const n = [];
      for (let s = 0; s < w.length; ++s)
        n.push(w.charCodeAt(s) & 255);
      return n;
    }
    function Se(w, n) {
      let s, v, k;
      const M = [];
      for (let N = 0; N < w.length && !((n -= 2) < 0); ++N)
        s = w.charCodeAt(N), v = s >> 8, k = s % 256, M.push(k), M.push(v);
      return M;
    }
    function xe(w) {
      return e.toByteArray(z(w));
    }
    function ce(w, n, s, v) {
      let k;
      for (k = 0; k < v && !(k + s >= n.length || k >= w.length); ++k)
        n[k + s] = w[k];
      return k;
    }
    function oe(w, n) {
      return w instanceof n || w != null && w.constructor != null && w.constructor.name != null && w.constructor.name === n.name;
    }
    function me(w) {
      return w !== w;
    }
    const Ae = function() {
      const w = "0123456789abcdef", n = new Array(256);
      for (let s = 0; s < 16; ++s) {
        const v = s * 16;
        for (let k = 0; k < 16; ++k)
          n[v + k] = w[s] + w[k];
      }
      return n;
    }();
    function _e(w) {
      return typeof BigInt > "u" ? Le : w;
    }
    function Le() {
      throw new Error("BigInt not supported");
    }
  }(Or)), Or;
}
const xo = {}, Co = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: xo
}, Symbol.toStringTag, { value: "Module" })), As = /* @__PURE__ */ qt(Co);
var Dr, ni;
function Ro() {
  if (ni) return Dr;
  ni = 1;
  function i(r, _) {
    var h = Object.keys(r);
    if (Object.getOwnPropertySymbols) {
      var p = Object.getOwnPropertySymbols(r);
      _ && (p = p.filter(function(E) {
        return Object.getOwnPropertyDescriptor(r, E).enumerable;
      })), h.push.apply(h, p);
    }
    return h;
  }
  function e(r) {
    for (var _ = 1; _ < arguments.length; _++) {
      var h = arguments[_] != null ? arguments[_] : {};
      _ % 2 ? i(Object(h), !0).forEach(function(p) {
        a(r, p, h[p]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(h)) : i(Object(h)).forEach(function(p) {
        Object.defineProperty(r, p, Object.getOwnPropertyDescriptor(h, p));
      });
    }
    return r;
  }
  function a(r, _, h) {
    return _ = y(_), _ in r ? Object.defineProperty(r, _, { value: h, enumerable: !0, configurable: !0, writable: !0 }) : r[_] = h, r;
  }
  function u(r, _) {
    if (!(r instanceof _))
      throw new TypeError("Cannot call a class as a function");
  }
  function m(r, _) {
    for (var h = 0; h < _.length; h++) {
      var p = _[h];
      p.enumerable = p.enumerable || !1, p.configurable = !0, "value" in p && (p.writable = !0), Object.defineProperty(r, y(p.key), p);
    }
  }
  function l(r, _, h) {
    return m(r.prototype, _), Object.defineProperty(r, "prototype", { writable: !1 }), r;
  }
  function y(r) {
    var _ = t(r, "string");
    return typeof _ == "symbol" ? _ : String(_);
  }
  function t(r, _) {
    if (typeof r != "object" || r === null) return r;
    var h = r[Symbol.toPrimitive];
    if (h !== void 0) {
      var p = h.call(r, _);
      if (typeof p != "object") return p;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return String(r);
  }
  var c = jt(), d = c.Buffer, b = As, g = b.inspect, f = g && g.custom || "inspect";
  function o(r, _, h) {
    d.prototype.copy.call(r, _, h);
  }
  return Dr = /* @__PURE__ */ function() {
    function r() {
      u(this, r), this.head = null, this.tail = null, this.length = 0;
    }
    return l(r, [{
      key: "push",
      value: function(h) {
        var p = {
          data: h,
          next: null
        };
        this.length > 0 ? this.tail.next = p : this.head = p, this.tail = p, ++this.length;
      }
    }, {
      key: "unshift",
      value: function(h) {
        var p = {
          data: h,
          next: this.head
        };
        this.length === 0 && (this.tail = p), this.head = p, ++this.length;
      }
    }, {
      key: "shift",
      value: function() {
        if (this.length !== 0) {
          var h = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, h;
        }
      }
    }, {
      key: "clear",
      value: function() {
        this.head = this.tail = null, this.length = 0;
      }
    }, {
      key: "join",
      value: function(h) {
        if (this.length === 0) return "";
        for (var p = this.head, E = "" + p.data; p = p.next; ) E += h + p.data;
        return E;
      }
    }, {
      key: "concat",
      value: function(h) {
        if (this.length === 0) return d.alloc(0);
        for (var p = d.allocUnsafe(h >>> 0), E = this.head, I = 0; E; )
          o(E.data, p, I), I += E.data.length, E = E.next;
        return p;
      }
      // Consumes a specified amount of bytes or characters from the buffered data.
    }, {
      key: "consume",
      value: function(h, p) {
        var E;
        return h < this.head.data.length ? (E = this.head.data.slice(0, h), this.head.data = this.head.data.slice(h)) : h === this.head.data.length ? E = this.shift() : E = p ? this._getString(h) : this._getBuffer(h), E;
      }
    }, {
      key: "first",
      value: function() {
        return this.head.data;
      }
      // Consumes a specified amount of characters from the buffered data.
    }, {
      key: "_getString",
      value: function(h) {
        var p = this.head, E = 1, I = p.data;
        for (h -= I.length; p = p.next; ) {
          var C = p.data, R = h > C.length ? C.length : h;
          if (R === C.length ? I += C : I += C.slice(0, h), h -= R, h === 0) {
            R === C.length ? (++E, p.next ? this.head = p.next : this.head = this.tail = null) : (this.head = p, p.data = C.slice(R));
            break;
          }
          ++E;
        }
        return this.length -= E, I;
      }
      // Consumes a specified amount of bytes from the buffered data.
    }, {
      key: "_getBuffer",
      value: function(h) {
        var p = d.allocUnsafe(h), E = this.head, I = 1;
        for (E.data.copy(p), h -= E.data.length; E = E.next; ) {
          var C = E.data, R = h > C.length ? C.length : h;
          if (C.copy(p, p.length - h, 0, R), h -= R, h === 0) {
            R === C.length ? (++I, E.next ? this.head = E.next : this.head = this.tail = null) : (this.head = E, E.data = C.slice(R));
            break;
          }
          ++I;
        }
        return this.length -= I, p;
      }
      // Make sure the linked list only shows the minimal necessary information.
    }, {
      key: f,
      value: function(h, p) {
        return g(this, e(e({}, p), {}, {
          // Only inspect one level.
          depth: 0,
          // It should not recurse.
          customInspect: !1
        }));
      }
    }]), r;
  }(), Dr;
}
var Ur, ii;
function Ls() {
  if (ii) return Ur;
  ii = 1;
  function i(y, t) {
    var c = this, d = this._readableState && this._readableState.destroyed, b = this._writableState && this._writableState.destroyed;
    return d || b ? (t ? t(y) : y && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, process.nextTick(m, this, y)) : process.nextTick(m, this, y)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(y || null, function(g) {
      !t && g ? c._writableState ? c._writableState.errorEmitted ? process.nextTick(a, c) : (c._writableState.errorEmitted = !0, process.nextTick(e, c, g)) : process.nextTick(e, c, g) : t ? (process.nextTick(a, c), t(g)) : process.nextTick(a, c);
    }), this);
  }
  function e(y, t) {
    m(y, t), a(y);
  }
  function a(y) {
    y._writableState && !y._writableState.emitClose || y._readableState && !y._readableState.emitClose || y.emit("close");
  }
  function u() {
    this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
  }
  function m(y, t) {
    y.emit("error", t);
  }
  function l(y, t) {
    var c = y._readableState, d = y._writableState;
    c && c.autoDestroy || d && d.autoDestroy ? y.destroy(t) : y.emit("error", t);
  }
  return Ur = {
    destroy: i,
    undestroy: u,
    errorOrDestroy: l
  }, Ur;
}
var qr = {}, si;
function Xe() {
  if (si) return qr;
  si = 1;
  function i(t, c) {
    t.prototype = Object.create(c.prototype), t.prototype.constructor = t, t.__proto__ = c;
  }
  var e = {};
  function a(t, c, d) {
    d || (d = Error);
    function b(f, o, r) {
      return typeof c == "string" ? c : c(f, o, r);
    }
    var g = /* @__PURE__ */ function(f) {
      i(o, f);
      function o(r, _, h) {
        return f.call(this, b(r, _, h)) || this;
      }
      return o;
    }(d);
    g.prototype.name = d.name, g.prototype.code = t, e[t] = g;
  }
  function u(t, c) {
    if (Array.isArray(t)) {
      var d = t.length;
      return t = t.map(function(b) {
        return String(b);
      }), d > 2 ? "one of ".concat(c, " ").concat(t.slice(0, d - 1).join(", "), ", or ") + t[d - 1] : d === 2 ? "one of ".concat(c, " ").concat(t[0], " or ").concat(t[1]) : "of ".concat(c, " ").concat(t[0]);
    } else
      return "of ".concat(c, " ").concat(String(t));
  }
  function m(t, c, d) {
    return t.substr(0, c.length) === c;
  }
  function l(t, c, d) {
    return (d === void 0 || d > t.length) && (d = t.length), t.substring(d - c.length, d) === c;
  }
  function y(t, c, d) {
    return typeof d != "number" && (d = 0), d + c.length > t.length ? !1 : t.indexOf(c, d) !== -1;
  }
  return a("ERR_INVALID_OPT_VALUE", function(t, c) {
    return 'The value "' + c + '" is invalid for option "' + t + '"';
  }, TypeError), a("ERR_INVALID_ARG_TYPE", function(t, c, d) {
    var b;
    typeof c == "string" && m(c, "not ") ? (b = "must not be", c = c.replace(/^not /, "")) : b = "must be";
    var g;
    if (l(t, " argument"))
      g = "The ".concat(t, " ").concat(b, " ").concat(u(c, "type"));
    else {
      var f = y(t, ".") ? "property" : "argument";
      g = 'The "'.concat(t, '" ').concat(f, " ").concat(b, " ").concat(u(c, "type"));
    }
    return g += ". Received type ".concat(typeof d), g;
  }, TypeError), a("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), a("ERR_METHOD_NOT_IMPLEMENTED", function(t) {
    return "The " + t + " method is not implemented";
  }), a("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), a("ERR_STREAM_DESTROYED", function(t) {
    return "Cannot call " + t + " after a stream was destroyed";
  }), a("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), a("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), a("ERR_STREAM_WRITE_AFTER_END", "write after end"), a("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), a("ERR_UNKNOWN_ENCODING", function(t) {
    return "Unknown encoding: " + t;
  }, TypeError), a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), qr.codes = e, qr;
}
var Wr, oi;
function Ms() {
  if (oi) return Wr;
  oi = 1;
  var i = Xe().codes.ERR_INVALID_OPT_VALUE;
  function e(u, m, l) {
    return u.highWaterMark != null ? u.highWaterMark : m ? u[l] : null;
  }
  function a(u, m, l, y) {
    var t = e(m, y, l);
    if (t != null) {
      if (!(isFinite(t) && Math.floor(t) === t) || t < 0) {
        var c = y ? l : "highWaterMark";
        throw new i(c, t);
      }
      return Math.floor(t);
    }
    return u.objectMode ? 16 : 16 * 1024;
  }
  return Wr = {
    getHighWaterMark: a
  }, Wr;
}
var Lt = { exports: {} }, ai;
function ke() {
  return ai || (ai = 1, typeof Object.create == "function" ? Lt.exports = function(e, a) {
    a && (e.super_ = a, e.prototype = Object.create(a.prototype, {
      constructor: {
        value: e,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }));
  } : Lt.exports = function(e, a) {
    if (a) {
      e.super_ = a;
      var u = function() {
      };
      u.prototype = a.prototype, e.prototype = new u(), e.prototype.constructor = e;
    }
  }), Lt.exports;
}
var Fr, ci;
function Io() {
  if (ci) return Fr;
  ci = 1, Fr = i;
  function i(a, u) {
    if (e("noDeprecation"))
      return a;
    var m = !1;
    function l() {
      if (!m) {
        if (e("throwDeprecation"))
          throw new Error(u);
        e("traceDeprecation") ? console.trace(u) : console.warn(u), m = !0;
      }
      return a.apply(this, arguments);
    }
    return l;
  }
  function e(a) {
    try {
      if (!Ze.localStorage) return !1;
    } catch {
      return !1;
    }
    var u = Ze.localStorage[a];
    return u == null ? !1 : String(u).toLowerCase() === "true";
  }
  return Fr;
}
var jr, ui;
function Bs() {
  if (ui) return jr;
  ui = 1, jr = D;
  function i(B) {
    var L = this;
    this.next = null, this.entry = null, this.finish = function() {
      Ee(L, B);
    };
  }
  var e;
  D.WritableState = A;
  var a = {
    deprecate: Io()
  }, u = ks(), m = jt().Buffer, l = (typeof Ze < "u" ? Ze : typeof window < "u" ? window : typeof self < "u" ? self : {}).Uint8Array || function() {
  };
  function y(B) {
    return m.from(B);
  }
  function t(B) {
    return m.isBuffer(B) || B instanceof l;
  }
  var c = Ls(), d = Ms(), b = d.getHighWaterMark, g = Xe().codes, f = g.ERR_INVALID_ARG_TYPE, o = g.ERR_METHOD_NOT_IMPLEMENTED, r = g.ERR_MULTIPLE_CALLBACK, _ = g.ERR_STREAM_CANNOT_PIPE, h = g.ERR_STREAM_DESTROYED, p = g.ERR_STREAM_NULL_VALUES, E = g.ERR_STREAM_WRITE_AFTER_END, I = g.ERR_UNKNOWN_ENCODING, C = c.errorOrDestroy;
  ke()(D, u);
  function R() {
  }
  function A(B, L, U) {
    e = e || Ye(), B = B || {}, typeof U != "boolean" && (U = L instanceof e), this.objectMode = !!B.objectMode, U && (this.objectMode = this.objectMode || !!B.writableObjectMode), this.highWaterMark = b(this, B, "writableHighWaterMark", U), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
    var j = B.decodeStrings === !1;
    this.decodeStrings = !j, this.defaultEncoding = B.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function($) {
      ye(L, $);
    }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = B.emitClose !== !1, this.autoDestroy = !!B.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new i(this);
  }
  A.prototype.getBuffer = function() {
    for (var L = this.bufferedRequest, U = []; L; )
      U.push(L), L = L.next;
    return U;
  }, function() {
    try {
      Object.defineProperty(A.prototype, "buffer", {
        get: a.deprecate(function() {
          return this.getBuffer();
        }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
      });
    } catch {
    }
  }();
  var P;
  typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (P = Function.prototype[Symbol.hasInstance], Object.defineProperty(D, Symbol.hasInstance, {
    value: function(L) {
      return P.call(this, L) ? !0 : this !== D ? !1 : L && L._writableState instanceof A;
    }
  })) : P = function(L) {
    return L instanceof this;
  };
  function D(B) {
    e = e || Ye();
    var L = this instanceof e;
    if (!L && !P.call(D, this)) return new D(B);
    this._writableState = new A(B, this, L), this.writable = !0, B && (typeof B.write == "function" && (this._write = B.write), typeof B.writev == "function" && (this._writev = B.writev), typeof B.destroy == "function" && (this._destroy = B.destroy), typeof B.final == "function" && (this._final = B.final)), u.call(this);
  }
  D.prototype.pipe = function() {
    C(this, new _());
  };
  function q(B, L) {
    var U = new E();
    C(B, U), process.nextTick(L, U);
  }
  function F(B, L, U, j) {
    var $;
    return U === null ? $ = new p() : typeof U != "string" && !L.objectMode && ($ = new f("chunk", ["string", "Buffer"], U)), $ ? (C(B, $), process.nextTick(j, $), !1) : !0;
  }
  D.prototype.write = function(B, L, U) {
    var j = this._writableState, $ = !1, S = !j.objectMode && t(B);
    return S && !m.isBuffer(B) && (B = y(B)), typeof L == "function" && (U = L, L = null), S ? L = "buffer" : L || (L = j.defaultEncoding), typeof U != "function" && (U = R), j.ending ? q(this, U) : (S || F(this, j, B, U)) && (j.pendingcb++, $ = H(this, j, S, B, L, U)), $;
  }, D.prototype.cork = function() {
    this._writableState.corked++;
  }, D.prototype.uncork = function() {
    var B = this._writableState;
    B.corked && (B.corked--, !B.writing && !B.corked && !B.bufferProcessing && B.bufferedRequest && he(this, B));
  }, D.prototype.setDefaultEncoding = function(L) {
    if (typeof L == "string" && (L = L.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((L + "").toLowerCase()) > -1)) throw new I(L);
    return this._writableState.defaultEncoding = L, this;
  }, Object.defineProperty(D.prototype, "writableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState && this._writableState.getBuffer();
    }
  });
  function T(B, L, U) {
    return !B.objectMode && B.decodeStrings !== !1 && typeof L == "string" && (L = m.from(L, U)), L;
  }
  Object.defineProperty(D.prototype, "writableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.highWaterMark;
    }
  });
  function H(B, L, U, j, $, S) {
    if (!U) {
      var x = T(L, j, $);
      j !== x && (U = !0, $ = "buffer", j = x);
    }
    var O = L.objectMode ? 1 : j.length;
    L.length += O;
    var W = L.length < L.highWaterMark;
    if (W || (L.needDrain = !0), L.writing || L.corked) {
      var X = L.lastBufferedRequest;
      L.lastBufferedRequest = {
        chunk: j,
        encoding: $,
        isBuf: U,
        callback: S,
        next: null
      }, X ? X.next = L.lastBufferedRequest : L.bufferedRequest = L.lastBufferedRequest, L.bufferedRequestCount += 1;
    } else
      V(B, L, !1, O, j, $, S);
    return W;
  }
  function V(B, L, U, j, $, S, x) {
    L.writelen = j, L.writecb = x, L.writing = !0, L.sync = !0, L.destroyed ? L.onwrite(new h("write")) : U ? B._writev($, L.onwrite) : B._write($, S, L.onwrite), L.sync = !1;
  }
  function Y(B, L, U, j, $) {
    --L.pendingcb, U ? (process.nextTick($, j), process.nextTick(fe, B, L), B._writableState.errorEmitted = !0, C(B, j)) : ($(j), B._writableState.errorEmitted = !0, C(B, j), fe(B, L));
  }
  function de(B) {
    B.writing = !1, B.writecb = null, B.length -= B.writelen, B.writelen = 0;
  }
  function ye(B, L) {
    var U = B._writableState, j = U.sync, $ = U.writecb;
    if (typeof $ != "function") throw new r();
    if (de(U), L) Y(B, U, j, L, $);
    else {
      var S = we(U) || B.destroyed;
      !S && !U.corked && !U.bufferProcessing && U.bufferedRequest && he(B, U), j ? process.nextTick(J, B, U, S, $) : J(B, U, S, $);
    }
  }
  function J(B, L, U, j) {
    U || pe(B, L), L.pendingcb--, j(), fe(B, L);
  }
  function pe(B, L) {
    L.length === 0 && L.needDrain && (L.needDrain = !1, B.emit("drain"));
  }
  function he(B, L) {
    L.bufferProcessing = !0;
    var U = L.bufferedRequest;
    if (B._writev && U && U.next) {
      var j = L.bufferedRequestCount, $ = new Array(j), S = L.corkedRequestsFree;
      S.entry = U;
      for (var x = 0, O = !0; U; )
        $[x] = U, U.isBuf || (O = !1), U = U.next, x += 1;
      $.allBuffers = O, V(B, L, !0, L.length, $, "", S.finish), L.pendingcb++, L.lastBufferedRequest = null, S.next ? (L.corkedRequestsFree = S.next, S.next = null) : L.corkedRequestsFree = new i(L), L.bufferedRequestCount = 0;
    } else {
      for (; U; ) {
        var W = U.chunk, X = U.encoding, z = U.callback, Z = L.objectMode ? 1 : W.length;
        if (V(B, L, !1, Z, W, X, z), U = U.next, L.bufferedRequestCount--, L.writing)
          break;
      }
      U === null && (L.lastBufferedRequest = null);
    }
    L.bufferedRequest = U, L.bufferProcessing = !1;
  }
  D.prototype._write = function(B, L, U) {
    U(new o("_write()"));
  }, D.prototype._writev = null, D.prototype.end = function(B, L, U) {
    var j = this._writableState;
    return typeof B == "function" ? (U = B, B = null, L = null) : typeof L == "function" && (U = L, L = null), B != null && this.write(B, L), j.corked && (j.corked = 1, this.uncork()), j.ending || ve(this, j, U), this;
  }, Object.defineProperty(D.prototype, "writableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.length;
    }
  });
  function we(B) {
    return B.ending && B.length === 0 && B.bufferedRequest === null && !B.finished && !B.writing;
  }
  function ee(B, L) {
    B._final(function(U) {
      L.pendingcb--, U && C(B, U), L.prefinished = !0, B.emit("prefinish"), fe(B, L);
    });
  }
  function ae(B, L) {
    !L.prefinished && !L.finalCalled && (typeof B._final == "function" && !L.destroyed ? (L.pendingcb++, L.finalCalled = !0, process.nextTick(ee, B, L)) : (L.prefinished = !0, B.emit("prefinish")));
  }
  function fe(B, L) {
    var U = we(L);
    if (U && (ae(B, L), L.pendingcb === 0 && (L.finished = !0, B.emit("finish"), L.autoDestroy))) {
      var j = B._readableState;
      (!j || j.autoDestroy && j.endEmitted) && B.destroy();
    }
    return U;
  }
  function ve(B, L, U) {
    L.ending = !0, fe(B, L), U && (L.finished ? process.nextTick(U) : B.once("finish", U)), L.ended = !0, B.writable = !1;
  }
  function Ee(B, L, U) {
    var j = B.entry;
    for (B.entry = null; j; ) {
      var $ = j.callback;
      L.pendingcb--, $(U), j = j.next;
    }
    L.corkedRequestsFree.next = B;
  }
  return Object.defineProperty(D.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState === void 0 ? !1 : this._writableState.destroyed;
    },
    set: function(L) {
      this._writableState && (this._writableState.destroyed = L);
    }
  }), D.prototype.destroy = c.destroy, D.prototype._undestroy = c.undestroy, D.prototype._destroy = function(B, L) {
    L(B);
  }, jr;
}
var Hr, li;
function Ye() {
  if (li) return Hr;
  li = 1;
  var i = Object.keys || function(d) {
    var b = [];
    for (var g in d) b.push(g);
    return b;
  };
  Hr = y;
  var e = Ts(), a = Bs();
  ke()(y, e);
  for (var u = i(a.prototype), m = 0; m < u.length; m++) {
    var l = u[m];
    y.prototype[l] || (y.prototype[l] = a.prototype[l]);
  }
  function y(d) {
    if (!(this instanceof y)) return new y(d);
    e.call(this, d), a.call(this, d), this.allowHalfOpen = !0, d && (d.readable === !1 && (this.readable = !1), d.writable === !1 && (this.writable = !1), d.allowHalfOpen === !1 && (this.allowHalfOpen = !1, this.once("end", t)));
  }
  Object.defineProperty(y.prototype, "writableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.highWaterMark;
    }
  }), Object.defineProperty(y.prototype, "writableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState && this._writableState.getBuffer();
    }
  }), Object.defineProperty(y.prototype, "writableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.length;
    }
  });
  function t() {
    this._writableState.ended || process.nextTick(c, this);
  }
  function c(d) {
    d.end();
  }
  return Object.defineProperty(y.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
    },
    set: function(b) {
      this._readableState === void 0 || this._writableState === void 0 || (this._readableState.destroyed = b, this._writableState.destroyed = b);
    }
  }), Hr;
}
var Kr = {}, Mt = { exports: {} };
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var hi;
function De() {
  return hi || (hi = 1, function(i, e) {
    var a = jt(), u = a.Buffer;
    function m(y, t) {
      for (var c in y)
        t[c] = y[c];
    }
    u.from && u.alloc && u.allocUnsafe && u.allocUnsafeSlow ? i.exports = a : (m(a, e), e.Buffer = l);
    function l(y, t, c) {
      return u(y, t, c);
    }
    l.prototype = Object.create(u.prototype), m(u, l), l.from = function(y, t, c) {
      if (typeof y == "number")
        throw new TypeError("Argument must not be a number");
      return u(y, t, c);
    }, l.alloc = function(y, t, c) {
      if (typeof y != "number")
        throw new TypeError("Argument must be a number");
      var d = u(y);
      return t !== void 0 ? typeof c == "string" ? d.fill(t, c) : d.fill(t) : d.fill(0), d;
    }, l.allocUnsafe = function(y) {
      if (typeof y != "number")
        throw new TypeError("Argument must be a number");
      return u(y);
    }, l.allocUnsafeSlow = function(y) {
      if (typeof y != "number")
        throw new TypeError("Argument must be a number");
      return a.SlowBuffer(y);
    };
  }(Mt, Mt.exports)), Mt.exports;
}
var di;
function fi() {
  if (di) return Kr;
  di = 1;
  var i = De().Buffer, e = i.isEncoding || function(p) {
    switch (p = "" + p, p && p.toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
      case "raw":
        return !0;
      default:
        return !1;
    }
  };
  function a(p) {
    if (!p) return "utf8";
    for (var E; ; )
      switch (p) {
        case "utf8":
        case "utf-8":
          return "utf8";
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return "utf16le";
        case "latin1":
        case "binary":
          return "latin1";
        case "base64":
        case "ascii":
        case "hex":
          return p;
        default:
          if (E) return;
          p = ("" + p).toLowerCase(), E = !0;
      }
  }
  function u(p) {
    var E = a(p);
    if (typeof E != "string" && (i.isEncoding === e || !e(p))) throw new Error("Unknown encoding: " + p);
    return E || p;
  }
  Kr.StringDecoder = m;
  function m(p) {
    this.encoding = u(p);
    var E;
    switch (this.encoding) {
      case "utf16le":
        this.text = g, this.end = f, E = 4;
        break;
      case "utf8":
        this.fillLast = c, E = 4;
        break;
      case "base64":
        this.text = o, this.end = r, E = 3;
        break;
      default:
        this.write = _, this.end = h;
        return;
    }
    this.lastNeed = 0, this.lastTotal = 0, this.lastChar = i.allocUnsafe(E);
  }
  m.prototype.write = function(p) {
    if (p.length === 0) return "";
    var E, I;
    if (this.lastNeed) {
      if (E = this.fillLast(p), E === void 0) return "";
      I = this.lastNeed, this.lastNeed = 0;
    } else
      I = 0;
    return I < p.length ? E ? E + this.text(p, I) : this.text(p, I) : E || "";
  }, m.prototype.end = b, m.prototype.text = d, m.prototype.fillLast = function(p) {
    if (this.lastNeed <= p.length)
      return p.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    p.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, p.length), this.lastNeed -= p.length;
  };
  function l(p) {
    return p <= 127 ? 0 : p >> 5 === 6 ? 2 : p >> 4 === 14 ? 3 : p >> 3 === 30 ? 4 : p >> 6 === 2 ? -1 : -2;
  }
  function y(p, E, I) {
    var C = E.length - 1;
    if (C < I) return 0;
    var R = l(E[C]);
    return R >= 0 ? (R > 0 && (p.lastNeed = R - 1), R) : --C < I || R === -2 ? 0 : (R = l(E[C]), R >= 0 ? (R > 0 && (p.lastNeed = R - 2), R) : --C < I || R === -2 ? 0 : (R = l(E[C]), R >= 0 ? (R > 0 && (R === 2 ? R = 0 : p.lastNeed = R - 3), R) : 0));
  }
  function t(p, E, I) {
    if ((E[0] & 192) !== 128)
      return p.lastNeed = 0, "�";
    if (p.lastNeed > 1 && E.length > 1) {
      if ((E[1] & 192) !== 128)
        return p.lastNeed = 1, "�";
      if (p.lastNeed > 2 && E.length > 2 && (E[2] & 192) !== 128)
        return p.lastNeed = 2, "�";
    }
  }
  function c(p) {
    var E = this.lastTotal - this.lastNeed, I = t(this, p);
    if (I !== void 0) return I;
    if (this.lastNeed <= p.length)
      return p.copy(this.lastChar, E, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    p.copy(this.lastChar, E, 0, p.length), this.lastNeed -= p.length;
  }
  function d(p, E) {
    var I = y(this, p, E);
    if (!this.lastNeed) return p.toString("utf8", E);
    this.lastTotal = I;
    var C = p.length - (I - this.lastNeed);
    return p.copy(this.lastChar, 0, C), p.toString("utf8", E, C);
  }
  function b(p) {
    var E = p && p.length ? this.write(p) : "";
    return this.lastNeed ? E + "�" : E;
  }
  function g(p, E) {
    if ((p.length - E) % 2 === 0) {
      var I = p.toString("utf16le", E);
      if (I) {
        var C = I.charCodeAt(I.length - 1);
        if (C >= 55296 && C <= 56319)
          return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = p[p.length - 2], this.lastChar[1] = p[p.length - 1], I.slice(0, -1);
      }
      return I;
    }
    return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = p[p.length - 1], p.toString("utf16le", E, p.length - 1);
  }
  function f(p) {
    var E = p && p.length ? this.write(p) : "";
    if (this.lastNeed) {
      var I = this.lastTotal - this.lastNeed;
      return E + this.lastChar.toString("utf16le", 0, I);
    }
    return E;
  }
  function o(p, E) {
    var I = (p.length - E) % 3;
    return I === 0 ? p.toString("base64", E) : (this.lastNeed = 3 - I, this.lastTotal = 3, I === 1 ? this.lastChar[0] = p[p.length - 1] : (this.lastChar[0] = p[p.length - 2], this.lastChar[1] = p[p.length - 1]), p.toString("base64", E, p.length - I));
  }
  function r(p) {
    var E = p && p.length ? this.write(p) : "";
    return this.lastNeed ? E + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : E;
  }
  function _(p) {
    return p.toString(this.encoding);
  }
  function h(p) {
    return p && p.length ? this.write(p) : "";
  }
  return Kr;
}
var $r, pi;
function Rn() {
  if (pi) return $r;
  pi = 1;
  var i = Xe().codes.ERR_STREAM_PREMATURE_CLOSE;
  function e(l) {
    var y = !1;
    return function() {
      if (!y) {
        y = !0;
        for (var t = arguments.length, c = new Array(t), d = 0; d < t; d++)
          c[d] = arguments[d];
        l.apply(this, c);
      }
    };
  }
  function a() {
  }
  function u(l) {
    return l.setHeader && typeof l.abort == "function";
  }
  function m(l, y, t) {
    if (typeof y == "function") return m(l, null, y);
    y || (y = {}), t = e(t || a);
    var c = y.readable || y.readable !== !1 && l.readable, d = y.writable || y.writable !== !1 && l.writable, b = function() {
      l.writable || f();
    }, g = l._writableState && l._writableState.finished, f = function() {
      d = !1, g = !0, c || t.call(l);
    }, o = l._readableState && l._readableState.endEmitted, r = function() {
      c = !1, o = !0, d || t.call(l);
    }, _ = function(I) {
      t.call(l, I);
    }, h = function() {
      var I;
      if (c && !o)
        return (!l._readableState || !l._readableState.ended) && (I = new i()), t.call(l, I);
      if (d && !g)
        return (!l._writableState || !l._writableState.ended) && (I = new i()), t.call(l, I);
    }, p = function() {
      l.req.on("finish", f);
    };
    return u(l) ? (l.on("complete", f), l.on("abort", h), l.req ? p() : l.on("request", p)) : d && !l._writableState && (l.on("end", b), l.on("close", b)), l.on("end", r), l.on("finish", f), y.error !== !1 && l.on("error", _), l.on("close", h), function() {
      l.removeListener("complete", f), l.removeListener("abort", h), l.removeListener("request", p), l.req && l.req.removeListener("finish", f), l.removeListener("end", b), l.removeListener("close", b), l.removeListener("finish", f), l.removeListener("end", r), l.removeListener("error", _), l.removeListener("close", h);
    };
  }
  return $r = m, $r;
}
var zr, _i;
function ko() {
  if (_i) return zr;
  _i = 1;
  var i;
  function e(I, C, R) {
    return C = a(C), C in I ? Object.defineProperty(I, C, { value: R, enumerable: !0, configurable: !0, writable: !0 }) : I[C] = R, I;
  }
  function a(I) {
    var C = u(I, "string");
    return typeof C == "symbol" ? C : String(C);
  }
  function u(I, C) {
    if (typeof I != "object" || I === null) return I;
    var R = I[Symbol.toPrimitive];
    if (R !== void 0) {
      var A = R.call(I, C || "default");
      if (typeof A != "object") return A;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (C === "string" ? String : Number)(I);
  }
  var m = Rn(), l = Symbol("lastResolve"), y = Symbol("lastReject"), t = Symbol("error"), c = Symbol("ended"), d = Symbol("lastPromise"), b = Symbol("handlePromise"), g = Symbol("stream");
  function f(I, C) {
    return {
      value: I,
      done: C
    };
  }
  function o(I) {
    var C = I[l];
    if (C !== null) {
      var R = I[g].read();
      R !== null && (I[d] = null, I[l] = null, I[y] = null, C(f(R, !1)));
    }
  }
  function r(I) {
    process.nextTick(o, I);
  }
  function _(I, C) {
    return function(R, A) {
      I.then(function() {
        if (C[c]) {
          R(f(void 0, !0));
          return;
        }
        C[b](R, A);
      }, A);
    };
  }
  var h = Object.getPrototypeOf(function() {
  }), p = Object.setPrototypeOf((i = {
    get stream() {
      return this[g];
    },
    next: function() {
      var C = this, R = this[t];
      if (R !== null)
        return Promise.reject(R);
      if (this[c])
        return Promise.resolve(f(void 0, !0));
      if (this[g].destroyed)
        return new Promise(function(q, F) {
          process.nextTick(function() {
            C[t] ? F(C[t]) : q(f(void 0, !0));
          });
        });
      var A = this[d], P;
      if (A)
        P = new Promise(_(A, this));
      else {
        var D = this[g].read();
        if (D !== null)
          return Promise.resolve(f(D, !1));
        P = new Promise(this[b]);
      }
      return this[d] = P, P;
    }
  }, e(i, Symbol.asyncIterator, function() {
    return this;
  }), e(i, "return", function() {
    var C = this;
    return new Promise(function(R, A) {
      C[g].destroy(null, function(P) {
        if (P) {
          A(P);
          return;
        }
        R(f(void 0, !0));
      });
    });
  }), i), h), E = function(C) {
    var R, A = Object.create(p, (R = {}, e(R, g, {
      value: C,
      writable: !0
    }), e(R, l, {
      value: null,
      writable: !0
    }), e(R, y, {
      value: null,
      writable: !0
    }), e(R, t, {
      value: null,
      writable: !0
    }), e(R, c, {
      value: C._readableState.endEmitted,
      writable: !0
    }), e(R, b, {
      value: function(D, q) {
        var F = A[g].read();
        F ? (A[d] = null, A[l] = null, A[y] = null, D(f(F, !1))) : (A[l] = D, A[y] = q);
      },
      writable: !0
    }), R));
    return A[d] = null, m(C, function(P) {
      if (P && P.code !== "ERR_STREAM_PREMATURE_CLOSE") {
        var D = A[y];
        D !== null && (A[d] = null, A[l] = null, A[y] = null, D(P)), A[t] = P;
        return;
      }
      var q = A[l];
      q !== null && (A[d] = null, A[l] = null, A[y] = null, q(f(void 0, !0))), A[c] = !0;
    }), C.on("readable", r.bind(null, A)), A;
  };
  return zr = E, zr;
}
var Vr, gi;
function Ao() {
  return gi || (gi = 1, Vr = function() {
    throw new Error("Readable.from is not available in the browser");
  }), Vr;
}
var Gr, yi;
function Ts() {
  if (yi) return Gr;
  yi = 1, Gr = q;
  var i;
  q.ReadableState = D, Is().EventEmitter;
  var e = function(x, O) {
    return x.listeners(O).length;
  }, a = ks(), u = jt().Buffer, m = (typeof Ze < "u" ? Ze : typeof window < "u" ? window : typeof self < "u" ? self : {}).Uint8Array || function() {
  };
  function l(S) {
    return u.from(S);
  }
  function y(S) {
    return u.isBuffer(S) || S instanceof m;
  }
  var t = As, c;
  t && t.debuglog ? c = t.debuglog("stream") : c = function() {
  };
  var d = Ro(), b = Ls(), g = Ms(), f = g.getHighWaterMark, o = Xe().codes, r = o.ERR_INVALID_ARG_TYPE, _ = o.ERR_STREAM_PUSH_AFTER_EOF, h = o.ERR_METHOD_NOT_IMPLEMENTED, p = o.ERR_STREAM_UNSHIFT_AFTER_END_EVENT, E, I, C;
  ke()(q, a);
  var R = b.errorOrDestroy, A = ["error", "close", "destroy", "pause", "resume"];
  function P(S, x, O) {
    if (typeof S.prependListener == "function") return S.prependListener(x, O);
    !S._events || !S._events[x] ? S.on(x, O) : Array.isArray(S._events[x]) ? S._events[x].unshift(O) : S._events[x] = [O, S._events[x]];
  }
  function D(S, x, O) {
    i = i || Ye(), S = S || {}, typeof O != "boolean" && (O = x instanceof i), this.objectMode = !!S.objectMode, O && (this.objectMode = this.objectMode || !!S.readableObjectMode), this.highWaterMark = f(this, S, "readableHighWaterMark", O), this.buffer = new d(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = S.emitClose !== !1, this.autoDestroy = !!S.autoDestroy, this.destroyed = !1, this.defaultEncoding = S.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, S.encoding && (E || (E = fi().StringDecoder), this.decoder = new E(S.encoding), this.encoding = S.encoding);
  }
  function q(S) {
    if (i = i || Ye(), !(this instanceof q)) return new q(S);
    var x = this instanceof i;
    this._readableState = new D(S, this, x), this.readable = !0, S && (typeof S.read == "function" && (this._read = S.read), typeof S.destroy == "function" && (this._destroy = S.destroy)), a.call(this);
  }
  Object.defineProperty(q.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState === void 0 ? !1 : this._readableState.destroyed;
    },
    set: function(x) {
      this._readableState && (this._readableState.destroyed = x);
    }
  }), q.prototype.destroy = b.destroy, q.prototype._undestroy = b.undestroy, q.prototype._destroy = function(S, x) {
    x(S);
  }, q.prototype.push = function(S, x) {
    var O = this._readableState, W;
    return O.objectMode ? W = !0 : typeof S == "string" && (x = x || O.defaultEncoding, x !== O.encoding && (S = u.from(S, x), x = ""), W = !0), F(this, S, x, !1, W);
  }, q.prototype.unshift = function(S) {
    return F(this, S, null, !0, !1);
  };
  function F(S, x, O, W, X) {
    c("readableAddChunk", x);
    var z = S._readableState;
    if (x === null)
      z.reading = !1, ye(S, z);
    else {
      var Z;
      if (X || (Z = H(z, x)), Z)
        R(S, Z);
      else if (z.objectMode || x && x.length > 0)
        if (typeof x != "string" && !z.objectMode && Object.getPrototypeOf(x) !== u.prototype && (x = l(x)), W)
          z.endEmitted ? R(S, new p()) : T(S, z, x, !0);
        else if (z.ended)
          R(S, new _());
        else {
          if (z.destroyed)
            return !1;
          z.reading = !1, z.decoder && !O ? (x = z.decoder.write(x), z.objectMode || x.length !== 0 ? T(S, z, x, !1) : he(S, z)) : T(S, z, x, !1);
        }
      else W || (z.reading = !1, he(S, z));
    }
    return !z.ended && (z.length < z.highWaterMark || z.length === 0);
  }
  function T(S, x, O, W) {
    x.flowing && x.length === 0 && !x.sync ? (x.awaitDrain = 0, S.emit("data", O)) : (x.length += x.objectMode ? 1 : O.length, W ? x.buffer.unshift(O) : x.buffer.push(O), x.needReadable && J(S)), he(S, x);
  }
  function H(S, x) {
    var O;
    return !y(x) && typeof x != "string" && x !== void 0 && !S.objectMode && (O = new r("chunk", ["string", "Buffer", "Uint8Array"], x)), O;
  }
  q.prototype.isPaused = function() {
    return this._readableState.flowing === !1;
  }, q.prototype.setEncoding = function(S) {
    E || (E = fi().StringDecoder);
    var x = new E(S);
    this._readableState.decoder = x, this._readableState.encoding = this._readableState.decoder.encoding;
    for (var O = this._readableState.buffer.head, W = ""; O !== null; )
      W += x.write(O.data), O = O.next;
    return this._readableState.buffer.clear(), W !== "" && this._readableState.buffer.push(W), this._readableState.length = W.length, this;
  };
  var V = 1073741824;
  function Y(S) {
    return S >= V ? S = V : (S--, S |= S >>> 1, S |= S >>> 2, S |= S >>> 4, S |= S >>> 8, S |= S >>> 16, S++), S;
  }
  function de(S, x) {
    return S <= 0 || x.length === 0 && x.ended ? 0 : x.objectMode ? 1 : S !== S ? x.flowing && x.length ? x.buffer.head.data.length : x.length : (S > x.highWaterMark && (x.highWaterMark = Y(S)), S <= x.length ? S : x.ended ? x.length : (x.needReadable = !0, 0));
  }
  q.prototype.read = function(S) {
    c("read", S), S = parseInt(S, 10);
    var x = this._readableState, O = S;
    if (S !== 0 && (x.emittedReadable = !1), S === 0 && x.needReadable && ((x.highWaterMark !== 0 ? x.length >= x.highWaterMark : x.length > 0) || x.ended))
      return c("read: emitReadable", x.length, x.ended), x.length === 0 && x.ended ? U(this) : J(this), null;
    if (S = de(S, x), S === 0 && x.ended)
      return x.length === 0 && U(this), null;
    var W = x.needReadable;
    c("need readable", W), (x.length === 0 || x.length - S < x.highWaterMark) && (W = !0, c("length less than watermark", W)), x.ended || x.reading ? (W = !1, c("reading or ended", W)) : W && (c("do read"), x.reading = !0, x.sync = !0, x.length === 0 && (x.needReadable = !0), this._read(x.highWaterMark), x.sync = !1, x.reading || (S = de(O, x)));
    var X;
    return S > 0 ? X = L(S, x) : X = null, X === null ? (x.needReadable = x.length <= x.highWaterMark, S = 0) : (x.length -= S, x.awaitDrain = 0), x.length === 0 && (x.ended || (x.needReadable = !0), O !== S && x.ended && U(this)), X !== null && this.emit("data", X), X;
  };
  function ye(S, x) {
    if (c("onEofChunk"), !x.ended) {
      if (x.decoder) {
        var O = x.decoder.end();
        O && O.length && (x.buffer.push(O), x.length += x.objectMode ? 1 : O.length);
      }
      x.ended = !0, x.sync ? J(S) : (x.needReadable = !1, x.emittedReadable || (x.emittedReadable = !0, pe(S)));
    }
  }
  function J(S) {
    var x = S._readableState;
    c("emitReadable", x.needReadable, x.emittedReadable), x.needReadable = !1, x.emittedReadable || (c("emitReadable", x.flowing), x.emittedReadable = !0, process.nextTick(pe, S));
  }
  function pe(S) {
    var x = S._readableState;
    c("emitReadable_", x.destroyed, x.length, x.ended), !x.destroyed && (x.length || x.ended) && (S.emit("readable"), x.emittedReadable = !1), x.needReadable = !x.flowing && !x.ended && x.length <= x.highWaterMark, B(S);
  }
  function he(S, x) {
    x.readingMore || (x.readingMore = !0, process.nextTick(we, S, x));
  }
  function we(S, x) {
    for (; !x.reading && !x.ended && (x.length < x.highWaterMark || x.flowing && x.length === 0); ) {
      var O = x.length;
      if (c("maybeReadMore read 0"), S.read(0), O === x.length)
        break;
    }
    x.readingMore = !1;
  }
  q.prototype._read = function(S) {
    R(this, new h("_read()"));
  }, q.prototype.pipe = function(S, x) {
    var O = this, W = this._readableState;
    switch (W.pipesCount) {
      case 0:
        W.pipes = S;
        break;
      case 1:
        W.pipes = [W.pipes, S];
        break;
      default:
        W.pipes.push(S);
        break;
    }
    W.pipesCount += 1, c("pipe count=%d opts=%j", W.pipesCount, x);
    var X = (!x || x.end !== !1) && S !== process.stdout && S !== process.stderr, z = X ? be : Le;
    W.endEmitted ? process.nextTick(z) : O.once("end", z), S.on("unpipe", Z);
    function Z(w, n) {
      c("onunpipe"), w === O && n && n.hasUnpiped === !1 && (n.hasUnpiped = !0, ce());
    }
    function be() {
      c("onend"), S.end();
    }
    var Se = ee(O);
    S.on("drain", Se);
    var xe = !1;
    function ce() {
      c("cleanup"), S.removeListener("close", Ae), S.removeListener("finish", _e), S.removeListener("drain", Se), S.removeListener("error", me), S.removeListener("unpipe", Z), O.removeListener("end", be), O.removeListener("end", Le), O.removeListener("data", oe), xe = !0, W.awaitDrain && (!S._writableState || S._writableState.needDrain) && Se();
    }
    O.on("data", oe);
    function oe(w) {
      c("ondata");
      var n = S.write(w);
      c("dest.write", n), n === !1 && ((W.pipesCount === 1 && W.pipes === S || W.pipesCount > 1 && $(W.pipes, S) !== -1) && !xe && (c("false write response, pause", W.awaitDrain), W.awaitDrain++), O.pause());
    }
    function me(w) {
      c("onerror", w), Le(), S.removeListener("error", me), e(S, "error") === 0 && R(S, w);
    }
    P(S, "error", me);
    function Ae() {
      S.removeListener("finish", _e), Le();
    }
    S.once("close", Ae);
    function _e() {
      c("onfinish"), S.removeListener("close", Ae), Le();
    }
    S.once("finish", _e);
    function Le() {
      c("unpipe"), O.unpipe(S);
    }
    return S.emit("pipe", O), W.flowing || (c("pipe resume"), O.resume()), S;
  };
  function ee(S) {
    return function() {
      var O = S._readableState;
      c("pipeOnDrain", O.awaitDrain), O.awaitDrain && O.awaitDrain--, O.awaitDrain === 0 && e(S, "data") && (O.flowing = !0, B(S));
    };
  }
  q.prototype.unpipe = function(S) {
    var x = this._readableState, O = {
      hasUnpiped: !1
    };
    if (x.pipesCount === 0) return this;
    if (x.pipesCount === 1)
      return S && S !== x.pipes ? this : (S || (S = x.pipes), x.pipes = null, x.pipesCount = 0, x.flowing = !1, S && S.emit("unpipe", this, O), this);
    if (!S) {
      var W = x.pipes, X = x.pipesCount;
      x.pipes = null, x.pipesCount = 0, x.flowing = !1;
      for (var z = 0; z < X; z++) W[z].emit("unpipe", this, {
        hasUnpiped: !1
      });
      return this;
    }
    var Z = $(x.pipes, S);
    return Z === -1 ? this : (x.pipes.splice(Z, 1), x.pipesCount -= 1, x.pipesCount === 1 && (x.pipes = x.pipes[0]), S.emit("unpipe", this, O), this);
  }, q.prototype.on = function(S, x) {
    var O = a.prototype.on.call(this, S, x), W = this._readableState;
    return S === "data" ? (W.readableListening = this.listenerCount("readable") > 0, W.flowing !== !1 && this.resume()) : S === "readable" && !W.endEmitted && !W.readableListening && (W.readableListening = W.needReadable = !0, W.flowing = !1, W.emittedReadable = !1, c("on readable", W.length, W.reading), W.length ? J(this) : W.reading || process.nextTick(fe, this)), O;
  }, q.prototype.addListener = q.prototype.on, q.prototype.removeListener = function(S, x) {
    var O = a.prototype.removeListener.call(this, S, x);
    return S === "readable" && process.nextTick(ae, this), O;
  }, q.prototype.removeAllListeners = function(S) {
    var x = a.prototype.removeAllListeners.apply(this, arguments);
    return (S === "readable" || S === void 0) && process.nextTick(ae, this), x;
  };
  function ae(S) {
    var x = S._readableState;
    x.readableListening = S.listenerCount("readable") > 0, x.resumeScheduled && !x.paused ? x.flowing = !0 : S.listenerCount("data") > 0 && S.resume();
  }
  function fe(S) {
    c("readable nexttick read 0"), S.read(0);
  }
  q.prototype.resume = function() {
    var S = this._readableState;
    return S.flowing || (c("resume"), S.flowing = !S.readableListening, ve(this, S)), S.paused = !1, this;
  };
  function ve(S, x) {
    x.resumeScheduled || (x.resumeScheduled = !0, process.nextTick(Ee, S, x));
  }
  function Ee(S, x) {
    c("resume", x.reading), x.reading || S.read(0), x.resumeScheduled = !1, S.emit("resume"), B(S), x.flowing && !x.reading && S.read(0);
  }
  q.prototype.pause = function() {
    return c("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (c("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
  };
  function B(S) {
    var x = S._readableState;
    for (c("flow", x.flowing); x.flowing && S.read() !== null; ) ;
  }
  q.prototype.wrap = function(S) {
    var x = this, O = this._readableState, W = !1;
    S.on("end", function() {
      if (c("wrapped end"), O.decoder && !O.ended) {
        var Z = O.decoder.end();
        Z && Z.length && x.push(Z);
      }
      x.push(null);
    }), S.on("data", function(Z) {
      if (c("wrapped data"), O.decoder && (Z = O.decoder.write(Z)), !(O.objectMode && Z == null) && !(!O.objectMode && (!Z || !Z.length))) {
        var be = x.push(Z);
        be || (W = !0, S.pause());
      }
    });
    for (var X in S)
      this[X] === void 0 && typeof S[X] == "function" && (this[X] = /* @__PURE__ */ function(be) {
        return function() {
          return S[be].apply(S, arguments);
        };
      }(X));
    for (var z = 0; z < A.length; z++)
      S.on(A[z], this.emit.bind(this, A[z]));
    return this._read = function(Z) {
      c("wrapped _read", Z), W && (W = !1, S.resume());
    }, this;
  }, typeof Symbol == "function" && (q.prototype[Symbol.asyncIterator] = function() {
    return I === void 0 && (I = ko()), I(this);
  }), Object.defineProperty(q.prototype, "readableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.highWaterMark;
    }
  }), Object.defineProperty(q.prototype, "readableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState && this._readableState.buffer;
    }
  }), Object.defineProperty(q.prototype, "readableFlowing", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.flowing;
    },
    set: function(x) {
      this._readableState && (this._readableState.flowing = x);
    }
  }), q._fromList = L, Object.defineProperty(q.prototype, "readableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.length;
    }
  });
  function L(S, x) {
    if (x.length === 0) return null;
    var O;
    return x.objectMode ? O = x.buffer.shift() : !S || S >= x.length ? (x.decoder ? O = x.buffer.join("") : x.buffer.length === 1 ? O = x.buffer.first() : O = x.buffer.concat(x.length), x.buffer.clear()) : O = x.buffer.consume(S, x.decoder), O;
  }
  function U(S) {
    var x = S._readableState;
    c("endReadable", x.endEmitted), x.endEmitted || (x.ended = !0, process.nextTick(j, x, S));
  }
  function j(S, x) {
    if (c("endReadableNT", S.endEmitted, S.length), !S.endEmitted && S.length === 0 && (S.endEmitted = !0, x.readable = !1, x.emit("end"), S.autoDestroy)) {
      var O = x._writableState;
      (!O || O.autoDestroy && O.finished) && x.destroy();
    }
  }
  typeof Symbol == "function" && (q.from = function(S, x) {
    return C === void 0 && (C = Ao()), C(q, S, x);
  });
  function $(S, x) {
    for (var O = 0, W = S.length; O < W; O++)
      if (S[O] === x) return O;
    return -1;
  }
  return Gr;
}
var Zr, bi;
function Ps() {
  if (bi) return Zr;
  bi = 1, Zr = t;
  var i = Xe().codes, e = i.ERR_METHOD_NOT_IMPLEMENTED, a = i.ERR_MULTIPLE_CALLBACK, u = i.ERR_TRANSFORM_ALREADY_TRANSFORMING, m = i.ERR_TRANSFORM_WITH_LENGTH_0, l = Ye();
  ke()(t, l);
  function y(b, g) {
    var f = this._transformState;
    f.transforming = !1;
    var o = f.writecb;
    if (o === null)
      return this.emit("error", new a());
    f.writechunk = null, f.writecb = null, g != null && this.push(g), o(b);
    var r = this._readableState;
    r.reading = !1, (r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark);
  }
  function t(b) {
    if (!(this instanceof t)) return new t(b);
    l.call(this, b), this._transformState = {
      afterTransform: y.bind(this),
      needTransform: !1,
      transforming: !1,
      writecb: null,
      writechunk: null,
      writeencoding: null
    }, this._readableState.needReadable = !0, this._readableState.sync = !1, b && (typeof b.transform == "function" && (this._transform = b.transform), typeof b.flush == "function" && (this._flush = b.flush)), this.on("prefinish", c);
  }
  function c() {
    var b = this;
    typeof this._flush == "function" && !this._readableState.destroyed ? this._flush(function(g, f) {
      d(b, g, f);
    }) : d(this, null, null);
  }
  t.prototype.push = function(b, g) {
    return this._transformState.needTransform = !1, l.prototype.push.call(this, b, g);
  }, t.prototype._transform = function(b, g, f) {
    f(new e("_transform()"));
  }, t.prototype._write = function(b, g, f) {
    var o = this._transformState;
    if (o.writecb = f, o.writechunk = b, o.writeencoding = g, !o.transforming) {
      var r = this._readableState;
      (o.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark);
    }
  }, t.prototype._read = function(b) {
    var g = this._transformState;
    g.writechunk !== null && !g.transforming ? (g.transforming = !0, this._transform(g.writechunk, g.writeencoding, g.afterTransform)) : g.needTransform = !0;
  }, t.prototype._destroy = function(b, g) {
    l.prototype._destroy.call(this, b, function(f) {
      g(f);
    });
  };
  function d(b, g, f) {
    if (g) return b.emit("error", g);
    if (f != null && b.push(f), b._writableState.length) throw new m();
    if (b._transformState.transforming) throw new u();
    return b.push(null);
  }
  return Zr;
}
var Yr, mi;
function Lo() {
  if (mi) return Yr;
  mi = 1, Yr = e;
  var i = Ps();
  ke()(e, i);
  function e(a) {
    if (!(this instanceof e)) return new e(a);
    i.call(this, a);
  }
  return e.prototype._transform = function(a, u, m) {
    m(null, a);
  }, Yr;
}
var Jr, wi;
function Mo() {
  if (wi) return Jr;
  wi = 1;
  var i;
  function e(f) {
    var o = !1;
    return function() {
      o || (o = !0, f.apply(void 0, arguments));
    };
  }
  var a = Xe().codes, u = a.ERR_MISSING_ARGS, m = a.ERR_STREAM_DESTROYED;
  function l(f) {
    if (f) throw f;
  }
  function y(f) {
    return f.setHeader && typeof f.abort == "function";
  }
  function t(f, o, r, _) {
    _ = e(_);
    var h = !1;
    f.on("close", function() {
      h = !0;
    }), i === void 0 && (i = Rn()), i(f, {
      readable: o,
      writable: r
    }, function(E) {
      if (E) return _(E);
      h = !0, _();
    });
    var p = !1;
    return function(E) {
      if (!h && !p) {
        if (p = !0, y(f)) return f.abort();
        if (typeof f.destroy == "function") return f.destroy();
        _(E || new m("pipe"));
      }
    };
  }
  function c(f) {
    f();
  }
  function d(f, o) {
    return f.pipe(o);
  }
  function b(f) {
    return !f.length || typeof f[f.length - 1] != "function" ? l : f.pop();
  }
  function g() {
    for (var f = arguments.length, o = new Array(f), r = 0; r < f; r++)
      o[r] = arguments[r];
    var _ = b(o);
    if (Array.isArray(o[0]) && (o = o[0]), o.length < 2)
      throw new u("streams");
    var h, p = o.map(function(E, I) {
      var C = I < o.length - 1, R = I > 0;
      return t(E, C, R, function(A) {
        h || (h = A), A && p.forEach(c), !C && (p.forEach(c), _(h));
      });
    });
    return o.reduce(d);
  }
  return Jr = g, Jr;
}
var vi;
function Ns() {
  return vi || (vi = 1, function(i, e) {
    e = i.exports = Ts(), e.Stream = e, e.Readable = e, e.Writable = Bs(), e.Duplex = Ye(), e.Transform = Ps(), e.PassThrough = Lo(), e.finished = Rn(), e.pipeline = Mo();
  }(It, It.exports)), It.exports;
}
var Qr, Ei;
function Bo() {
  if (Ei) return Qr;
  Ei = 1;
  const { Transform: i } = Ns();
  return Qr = (e) => class Os extends i {
    constructor(u, m, l, y, t) {
      super(t), this._rate = u, this._capacity = m, this._delimitedSuffix = l, this._hashBitLength = y, this._options = t, this._state = new e(), this._state.initialize(u, m), this._finalized = !1;
    }
    _transform(u, m, l) {
      let y = null;
      try {
        this.update(u, m);
      } catch (t) {
        y = t;
      }
      l(y);
    }
    _flush(u) {
      let m = null;
      try {
        this.push(this.digest());
      } catch (l) {
        m = l;
      }
      u(m);
    }
    update(u, m) {
      if (!Buffer.isBuffer(u) && typeof u != "string") throw new TypeError("Data must be a string or a buffer");
      if (this._finalized) throw new Error("Digest already called");
      return Buffer.isBuffer(u) || (u = Buffer.from(u, m)), this._state.absorb(u), this;
    }
    digest(u) {
      if (this._finalized) throw new Error("Digest already called");
      this._finalized = !0, this._delimitedSuffix && this._state.absorbLastFewBits(this._delimitedSuffix);
      let m = this._state.squeeze(this._hashBitLength / 8);
      return u !== void 0 && (m = m.toString(u)), this._resetState(), m;
    }
    // remove result from memory
    _resetState() {
      return this._state.initialize(this._rate, this._capacity), this;
    }
    // because sometimes we need hash right now and little later
    _clone() {
      const u = new Os(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options);
      return this._state.copy(u._state), u._finalized = this._finalized, u;
    }
  }, Qr;
}
var Xr, Si;
function To() {
  if (Si) return Xr;
  Si = 1;
  const { Transform: i } = Ns();
  return Xr = (e) => class Ds extends i {
    constructor(u, m, l, y) {
      super(y), this._rate = u, this._capacity = m, this._delimitedSuffix = l, this._options = y, this._state = new e(), this._state.initialize(u, m), this._finalized = !1;
    }
    _transform(u, m, l) {
      let y = null;
      try {
        this.update(u, m);
      } catch (t) {
        y = t;
      }
      l(y);
    }
    _flush() {
    }
    _read(u) {
      this.push(this.squeeze(u));
    }
    update(u, m) {
      if (!Buffer.isBuffer(u) && typeof u != "string") throw new TypeError("Data must be a string or a buffer");
      if (this._finalized) throw new Error("Squeeze already called");
      return Buffer.isBuffer(u) || (u = Buffer.from(u, m)), this._state.absorb(u), this;
    }
    squeeze(u, m) {
      this._finalized || (this._finalized = !0, this._state.absorbLastFewBits(this._delimitedSuffix));
      let l = this._state.squeeze(u);
      return m !== void 0 && (l = l.toString(m)), l;
    }
    _resetState() {
      return this._state.initialize(this._rate, this._capacity), this;
    }
    _clone() {
      const u = new Ds(this._rate, this._capacity, this._delimitedSuffix, this._options);
      return this._state.copy(u._state), u._finalized = this._finalized, u;
    }
  }, Xr;
}
var en, xi;
function Po() {
  if (xi) return en;
  xi = 1;
  const i = Bo(), e = To();
  return en = function(a) {
    const u = i(a), m = e(a);
    return function(l, y) {
      switch (typeof l == "string" ? l.toLowerCase() : l) {
        case "keccak224":
          return new u(1152, 448, null, 224, y);
        case "keccak256":
          return new u(1088, 512, null, 256, y);
        case "keccak384":
          return new u(832, 768, null, 384, y);
        case "keccak512":
          return new u(576, 1024, null, 512, y);
        case "sha3-224":
          return new u(1152, 448, 6, 224, y);
        case "sha3-256":
          return new u(1088, 512, 6, 256, y);
        case "sha3-384":
          return new u(832, 768, 6, 384, y);
        case "sha3-512":
          return new u(576, 1024, 6, 512, y);
        case "shake128":
          return new m(1344, 256, 31, y);
        case "shake256":
          return new m(1088, 512, 31, y);
        default:
          throw new Error("Invald algorithm: " + l);
      }
    };
  }, en;
}
var tn = {}, Ci;
function No() {
  if (Ci) return tn;
  Ci = 1;
  const i = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648];
  return tn.p1600 = function(e) {
    for (let a = 0; a < 24; ++a) {
      const u = e[0] ^ e[10] ^ e[20] ^ e[30] ^ e[40], m = e[1] ^ e[11] ^ e[21] ^ e[31] ^ e[41], l = e[2] ^ e[12] ^ e[22] ^ e[32] ^ e[42], y = e[3] ^ e[13] ^ e[23] ^ e[33] ^ e[43], t = e[4] ^ e[14] ^ e[24] ^ e[34] ^ e[44], c = e[5] ^ e[15] ^ e[25] ^ e[35] ^ e[45], d = e[6] ^ e[16] ^ e[26] ^ e[36] ^ e[46], b = e[7] ^ e[17] ^ e[27] ^ e[37] ^ e[47], g = e[8] ^ e[18] ^ e[28] ^ e[38] ^ e[48], f = e[9] ^ e[19] ^ e[29] ^ e[39] ^ e[49];
      let o = g ^ (l << 1 | y >>> 31), r = f ^ (y << 1 | l >>> 31);
      const _ = e[0] ^ o, h = e[1] ^ r, p = e[10] ^ o, E = e[11] ^ r, I = e[20] ^ o, C = e[21] ^ r, R = e[30] ^ o, A = e[31] ^ r, P = e[40] ^ o, D = e[41] ^ r;
      o = u ^ (t << 1 | c >>> 31), r = m ^ (c << 1 | t >>> 31);
      const q = e[2] ^ o, F = e[3] ^ r, T = e[12] ^ o, H = e[13] ^ r, V = e[22] ^ o, Y = e[23] ^ r, de = e[32] ^ o, ye = e[33] ^ r, J = e[42] ^ o, pe = e[43] ^ r;
      o = l ^ (d << 1 | b >>> 31), r = y ^ (b << 1 | d >>> 31);
      const he = e[4] ^ o, we = e[5] ^ r, ee = e[14] ^ o, ae = e[15] ^ r, fe = e[24] ^ o, ve = e[25] ^ r, Ee = e[34] ^ o, B = e[35] ^ r, L = e[44] ^ o, U = e[45] ^ r;
      o = t ^ (g << 1 | f >>> 31), r = c ^ (f << 1 | g >>> 31);
      const j = e[6] ^ o, $ = e[7] ^ r, S = e[16] ^ o, x = e[17] ^ r, O = e[26] ^ o, W = e[27] ^ r, X = e[36] ^ o, z = e[37] ^ r, Z = e[46] ^ o, be = e[47] ^ r;
      o = d ^ (u << 1 | m >>> 31), r = b ^ (m << 1 | u >>> 31);
      const Se = e[8] ^ o, xe = e[9] ^ r, ce = e[18] ^ o, oe = e[19] ^ r, me = e[28] ^ o, Ae = e[29] ^ r, _e = e[38] ^ o, Le = e[39] ^ r, w = e[48] ^ o, n = e[49] ^ r, s = _, v = h, k = E << 4 | p >>> 28, M = p << 4 | E >>> 28, N = I << 3 | C >>> 29, G = C << 3 | I >>> 29, ne = A << 9 | R >>> 23, te = R << 9 | A >>> 23, ie = P << 18 | D >>> 14, Q = D << 18 | P >>> 14, $t = q << 1 | F >>> 31, zt = F << 1 | q >>> 31, Vt = H << 12 | T >>> 20, Gt = T << 12 | H >>> 20, Zt = V << 10 | Y >>> 22, Yt = Y << 10 | V >>> 22, Jt = ye << 13 | de >>> 19, Qt = de << 13 | ye >>> 19, Xt = J << 2 | pe >>> 30, er = pe << 2 | J >>> 30, tr = we << 30 | he >>> 2, rr = he << 30 | we >>> 2, nr = ee << 6 | ae >>> 26, ir = ae << 6 | ee >>> 26, sr = ve << 11 | fe >>> 21, or = fe << 11 | ve >>> 21, ar = Ee << 15 | B >>> 17, cr = B << 15 | Ee >>> 17, ur = U << 29 | L >>> 3, lr = L << 29 | U >>> 3, hr = j << 28 | $ >>> 4, dr = $ << 28 | j >>> 4, fr = x << 23 | S >>> 9, pr = S << 23 | x >>> 9, _r = O << 25 | W >>> 7, gr = W << 25 | O >>> 7, yr = X << 21 | z >>> 11, br = z << 21 | X >>> 11, mr = be << 24 | Z >>> 8, wr = Z << 24 | be >>> 8, vr = Se << 27 | xe >>> 5, Er = xe << 27 | Se >>> 5, Sr = ce << 20 | oe >>> 12, xr = oe << 20 | ce >>> 12, Cr = Ae << 7 | me >>> 25, Rr = me << 7 | Ae >>> 25, Ir = _e << 8 | Le >>> 24, kr = Le << 8 | _e >>> 24, Ar = w << 14 | n >>> 18, Lr = n << 14 | w >>> 18;
      e[0] = s ^ ~Vt & sr, e[1] = v ^ ~Gt & or, e[10] = hr ^ ~Sr & N, e[11] = dr ^ ~xr & G, e[20] = $t ^ ~nr & _r, e[21] = zt ^ ~ir & gr, e[30] = vr ^ ~k & Zt, e[31] = Er ^ ~M & Yt, e[40] = tr ^ ~fr & Cr, e[41] = rr ^ ~pr & Rr, e[2] = Vt ^ ~sr & yr, e[3] = Gt ^ ~or & br, e[12] = Sr ^ ~N & Jt, e[13] = xr ^ ~G & Qt, e[22] = nr ^ ~_r & Ir, e[23] = ir ^ ~gr & kr, e[32] = k ^ ~Zt & ar, e[33] = M ^ ~Yt & cr, e[42] = fr ^ ~Cr & ne, e[43] = pr ^ ~Rr & te, e[4] = sr ^ ~yr & Ar, e[5] = or ^ ~br & Lr, e[14] = N ^ ~Jt & ur, e[15] = G ^ ~Qt & lr, e[24] = _r ^ ~Ir & ie, e[25] = gr ^ ~kr & Q, e[34] = Zt ^ ~ar & mr, e[35] = Yt ^ ~cr & wr, e[44] = Cr ^ ~ne & Xt, e[45] = Rr ^ ~te & er, e[6] = yr ^ ~Ar & s, e[7] = br ^ ~Lr & v, e[16] = Jt ^ ~ur & hr, e[17] = Qt ^ ~lr & dr, e[26] = Ir ^ ~ie & $t, e[27] = kr ^ ~Q & zt, e[36] = ar ^ ~mr & vr, e[37] = cr ^ ~wr & Er, e[46] = ne ^ ~Xt & tr, e[47] = te ^ ~er & rr, e[8] = Ar ^ ~s & Vt, e[9] = Lr ^ ~v & Gt, e[18] = ur ^ ~hr & Sr, e[19] = lr ^ ~dr & xr, e[28] = ie ^ ~$t & nr, e[29] = Q ^ ~zt & ir, e[38] = mr ^ ~vr & k, e[39] = wr ^ ~Er & M, e[48] = Xt ^ ~tr & fr, e[49] = er ^ ~rr & pr, e[0] ^= i[a * 2], e[1] ^= i[a * 2 + 1];
    }
  }, tn;
}
var rn, Ri;
function Oo() {
  if (Ri) return rn;
  Ri = 1;
  const i = No();
  function e() {
    this.state = [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0
    ], this.blockSize = null, this.count = 0, this.squeezing = !1;
  }
  return e.prototype.initialize = function(a, u) {
    for (let m = 0; m < 50; ++m) this.state[m] = 0;
    this.blockSize = a / 8, this.count = 0, this.squeezing = !1;
  }, e.prototype.absorb = function(a) {
    for (let u = 0; u < a.length; ++u)
      this.state[~~(this.count / 4)] ^= a[u] << 8 * (this.count % 4), this.count += 1, this.count === this.blockSize && (i.p1600(this.state), this.count = 0);
  }, e.prototype.absorbLastFewBits = function(a) {
    this.state[~~(this.count / 4)] ^= a << 8 * (this.count % 4), a & 128 && this.count === this.blockSize - 1 && i.p1600(this.state), this.state[~~((this.blockSize - 1) / 4)] ^= 128 << 8 * ((this.blockSize - 1) % 4), i.p1600(this.state), this.count = 0, this.squeezing = !0;
  }, e.prototype.squeeze = function(a) {
    this.squeezing || this.absorbLastFewBits(1);
    const u = Buffer.alloc(a);
    for (let m = 0; m < a; ++m)
      u[m] = this.state[~~(this.count / 4)] >>> 8 * (this.count % 4) & 255, this.count += 1, this.count === this.blockSize && (i.p1600(this.state), this.count = 0);
    return u;
  }, e.prototype.copy = function(a) {
    for (let u = 0; u < 50; ++u) a.state[u] = this.state[u];
    a.blockSize = this.blockSize, a.count = this.count, a.squeezing = this.squeezing;
  }, rn = e, rn;
}
var nn, Ii;
function Do() {
  return Ii || (Ii = 1, nn = Po()(Oo())), nn;
}
var sn, ki;
function Us() {
  if (ki) return sn;
  ki = 1;
  const i = Do();
  function e(o) {
    return Buffer.allocUnsafe(o).fill(0);
  }
  function a(o) {
    return o.toString(2).length;
  }
  function u(o, r) {
    let _ = o.toString(16);
    _.length % 2 !== 0 && (_ = "0" + _);
    const h = _.match(/.{1,2}/g).map((p) => parseInt(p, 16));
    for (; h.length < r; )
      h.unshift(0);
    return Buffer.from(h);
  }
  function m(o, r) {
    const _ = o < 0n;
    let h;
    if (_) {
      const p = (1n << BigInt(r)) - 1n;
      h = (~o & p) + 1n;
    } else
      h = o;
    return h &= (1n << BigInt(r)) - 1n, h;
  }
  function l(o, r, _) {
    const h = e(r);
    return o = t(o), _ ? o.length < r ? (o.copy(h), h) : o.slice(0, r) : o.length < r ? (o.copy(h, r - o.length), h) : o.slice(-r);
  }
  function y(o, r) {
    return l(o, r, !0);
  }
  function t(o) {
    if (!Buffer.isBuffer(o))
      if (Array.isArray(o))
        o = Buffer.from(o);
      else if (typeof o == "string")
        g(o) ? o = Buffer.from(b(f(o)), "hex") : o = Buffer.from(o);
      else if (typeof o == "number")
        o = intToBuffer(o);
      else if (o == null)
        o = Buffer.allocUnsafe(0);
      else if (typeof o == "bigint")
        o = u(o);
      else if (o.toArray)
        o = Buffer.from(o.toArray());
      else
        throw new Error("invalid type");
    return o;
  }
  function c(o) {
    return o = t(o), "0x" + o.toString("hex");
  }
  function d(o, r) {
    return o = t(o), r || (r = 256), i("keccak" + r).update(o).digest();
  }
  function b(o) {
    return o.length % 2 ? "0" + o : o;
  }
  function g(o) {
    return typeof o == "string" && o.match(/^0x[0-9A-Fa-f]*$/);
  }
  function f(o) {
    return typeof o == "string" && o.startsWith("0x") ? o.slice(2) : o;
  }
  return sn = {
    zeros: e,
    setLength: l,
    setLengthRight: y,
    isHexString: g,
    stripHexPrefix: f,
    toBuffer: t,
    bufferToHex: c,
    keccak: d,
    bitLengthFromBigInt: a,
    bufferBEFromBigInt: u,
    twosFromBigInt: m
  }, sn;
}
var on, Ai;
function Uo() {
  if (Ai) return on;
  Ai = 1;
  const i = /* @__PURE__ */ Us();
  function e(f) {
    return f.startsWith("int[") ? "int256" + f.slice(3) : f === "int" ? "int256" : f.startsWith("uint[") ? "uint256" + f.slice(4) : f === "uint" ? "uint256" : f.startsWith("fixed[") ? "fixed128x128" + f.slice(5) : f === "fixed" ? "fixed128x128" : f.startsWith("ufixed[") ? "ufixed128x128" + f.slice(6) : f === "ufixed" ? "ufixed128x128" : f;
  }
  function a(f) {
    return parseInt(/^\D+(\d+)$/.exec(f)[1], 10);
  }
  function u(f) {
    var o = /^\D+(\d+)x(\d+)$/.exec(f);
    return [parseInt(o[1], 10), parseInt(o[2], 10)];
  }
  function m(f) {
    var o = f.match(/(.*)\[(.*?)\]$/);
    return o ? o[2] === "" ? "dynamic" : parseInt(o[2], 10) : null;
  }
  function l(f) {
    var o = typeof f;
    if (o === "string" || o === "number")
      return BigInt(f);
    if (o === "bigint")
      return f;
    throw new Error("Argument is not a number");
  }
  function y(f, o) {
    var r, _, h, p;
    if (f === "address")
      return y("uint160", l(o));
    if (f === "bool")
      return y("uint8", o ? 1 : 0);
    if (f === "string")
      return y("bytes", new Buffer(o, "utf8"));
    if (c(f)) {
      if (typeof o.length > "u")
        throw new Error("Not an array?");
      if (r = m(f), r !== "dynamic" && r !== 0 && o.length > r)
        throw new Error("Elements exceed array size: " + r);
      h = [], f = f.slice(0, f.lastIndexOf("[")), typeof o == "string" && (o = JSON.parse(o));
      for (p in o)
        h.push(y(f, o[p]));
      if (r === "dynamic") {
        var E = y("uint256", o.length);
        h.unshift(E);
      }
      return Buffer.concat(h);
    } else {
      if (f === "bytes")
        return o = new Buffer(o), h = Buffer.concat([y("uint256", o.length), o]), o.length % 32 !== 0 && (h = Buffer.concat([h, i.zeros(32 - o.length % 32)])), h;
      if (f.startsWith("bytes")) {
        if (r = a(f), r < 1 || r > 32)
          throw new Error("Invalid bytes<N> width: " + r);
        return i.setLengthRight(o, 32);
      } else if (f.startsWith("uint")) {
        if (r = a(f), r % 8 || r < 8 || r > 256)
          throw new Error("Invalid uint<N> width: " + r);
        _ = l(o);
        const I = i.bitLengthFromBigInt(_);
        if (I > r)
          throw new Error("Supplied uint exceeds width: " + r + " vs " + I);
        if (_ < 0)
          throw new Error("Supplied uint is negative");
        return i.bufferBEFromBigInt(_, 32);
      } else if (f.startsWith("int")) {
        if (r = a(f), r % 8 || r < 8 || r > 256)
          throw new Error("Invalid int<N> width: " + r);
        _ = l(o);
        const I = i.bitLengthFromBigInt(_);
        if (I > r)
          throw new Error("Supplied int exceeds width: " + r + " vs " + I);
        const C = i.twosFromBigInt(_, 256);
        return i.bufferBEFromBigInt(C, 32);
      } else if (f.startsWith("ufixed")) {
        if (r = u(f), _ = l(o), _ < 0)
          throw new Error("Supplied ufixed is negative");
        return y("uint256", _ * BigInt(2) ** BigInt(r[1]));
      } else if (f.startsWith("fixed"))
        return r = u(f), y("int256", l(o) * BigInt(2) ** BigInt(r[1]));
    }
    throw new Error("Unsupported or invalid type: " + f);
  }
  function t(f) {
    return f === "string" || f === "bytes" || m(f) === "dynamic";
  }
  function c(f) {
    return f.lastIndexOf("]") === f.length - 1;
  }
  function d(f, o) {
    var r = [], _ = [], h = 32 * f.length;
    for (var p in f) {
      var E = e(f[p]), I = o[p], C = y(E, I);
      t(E) ? (r.push(y("uint256", h)), _.push(C), h += C.length) : r.push(C);
    }
    return Buffer.concat(r.concat(_));
  }
  function b(f, o) {
    if (f.length !== o.length)
      throw new Error("Number of types are not matching the values");
    for (var r, _, h = [], p = 0; p < f.length; p++) {
      var E = e(f[p]), I = o[p];
      if (E === "bytes")
        h.push(I);
      else if (E === "string")
        h.push(new Buffer(I, "utf8"));
      else if (E === "bool")
        h.push(new Buffer(I ? "01" : "00", "hex"));
      else if (E === "address")
        h.push(i.setLength(I, 20));
      else if (E.startsWith("bytes")) {
        if (r = a(E), r < 1 || r > 32)
          throw new Error("Invalid bytes<N> width: " + r);
        h.push(i.setLengthRight(I, r));
      } else if (E.startsWith("uint")) {
        if (r = a(E), r % 8 || r < 8 || r > 256)
          throw new Error("Invalid uint<N> width: " + r);
        _ = l(I);
        const C = i.bitLengthFromBigInt(_);
        if (C > r)
          throw new Error("Supplied uint exceeds width: " + r + " vs " + C);
        h.push(i.bufferBEFromBigInt(_, r / 8));
      } else if (E.startsWith("int")) {
        if (r = a(E), r % 8 || r < 8 || r > 256)
          throw new Error("Invalid int<N> width: " + r);
        _ = l(I);
        const C = i.bitLengthFromBigInt(_);
        if (C > r)
          throw new Error("Supplied int exceeds width: " + r + " vs " + C);
        const R = i.twosFromBigInt(_, r);
        h.push(i.bufferBEFromBigInt(R, r / 8));
      } else
        throw new Error("Unsupported or invalid type: " + E);
    }
    return Buffer.concat(h);
  }
  function g(f, o) {
    return i.keccak(b(f, o));
  }
  return on = {
    rawEncode: d,
    solidityPack: b,
    soliditySHA3: g
  }, on;
}
var an, Li;
function qo() {
  if (Li) return an;
  Li = 1;
  const i = /* @__PURE__ */ Us(), e = /* @__PURE__ */ Uo(), a = {
    type: "object",
    properties: {
      types: {
        type: "object",
        additionalProperties: {
          type: "array",
          items: {
            type: "object",
            properties: {
              name: { type: "string" },
              type: { type: "string" }
            },
            required: ["name", "type"]
          }
        }
      },
      primaryType: { type: "string" },
      domain: { type: "object" },
      message: { type: "object" }
    },
    required: ["types", "primaryType", "domain", "message"]
  }, u = {
    /**
     * Encodes an object by encoding and concatenating each of its members
     *
     * @param {string} primaryType - Root type
     * @param {Object} data - Object to encode
     * @param {Object} types - Type definitions
     * @returns {string} - Encoded representation of an object
     */
    encodeData(l, y, t, c = !0) {
      const d = ["bytes32"], b = [this.hashType(l, t)];
      if (c) {
        const g = (f, o, r) => {
          if (t[o] !== void 0)
            return ["bytes32", r == null ? "0x0000000000000000000000000000000000000000000000000000000000000000" : i.keccak(this.encodeData(o, r, t, c))];
          if (r === void 0)
            throw new Error(`missing value for field ${f} of type ${o}`);
          if (o === "bytes")
            return ["bytes32", i.keccak(r)];
          if (o === "string")
            return typeof r == "string" && (r = Buffer.from(r, "utf8")), ["bytes32", i.keccak(r)];
          if (o.lastIndexOf("]") === o.length - 1) {
            const _ = o.slice(0, o.lastIndexOf("[")), h = r.map((p) => g(f, _, p));
            return ["bytes32", i.keccak(e.rawEncode(
              h.map(([p]) => p),
              h.map(([, p]) => p)
            ))];
          }
          return [o, r];
        };
        for (const f of t[l]) {
          const [o, r] = g(f.name, f.type, y[f.name]);
          d.push(o), b.push(r);
        }
      } else
        for (const g of t[l]) {
          let f = y[g.name];
          if (f !== void 0)
            if (g.type === "bytes")
              d.push("bytes32"), f = i.keccak(f), b.push(f);
            else if (g.type === "string")
              d.push("bytes32"), typeof f == "string" && (f = Buffer.from(f, "utf8")), f = i.keccak(f), b.push(f);
            else if (t[g.type] !== void 0)
              d.push("bytes32"), f = i.keccak(this.encodeData(g.type, f, t, c)), b.push(f);
            else {
              if (g.type.lastIndexOf("]") === g.type.length - 1)
                throw new Error("Arrays currently unimplemented in encodeData");
              d.push(g.type), b.push(f);
            }
        }
      return e.rawEncode(d, b);
    },
    /**
     * Encodes the type of an object by encoding a comma delimited list of its members
     *
     * @param {string} primaryType - Root type to encode
     * @param {Object} types - Type definitions
     * @returns {string} - Encoded representation of the type of an object
     */
    encodeType(l, y) {
      let t = "", c = this.findTypeDependencies(l, y).filter((d) => d !== l);
      c = [l].concat(c.sort());
      for (const d of c) {
        if (!y[d])
          throw new Error("No type definition specified: " + d);
        t += d + "(" + y[d].map(({ name: g, type: f }) => f + " " + g).join(",") + ")";
      }
      return t;
    },
    /**
     * Finds all types within a type definition object
     *
     * @param {string} primaryType - Root type
     * @param {Object} types - Type definitions
     * @param {Array} results - current set of accumulated types
     * @returns {Array} - Set of all types found in the type definition
     */
    findTypeDependencies(l, y, t = []) {
      if (l = l.match(/^\w*/)[0], t.includes(l) || y[l] === void 0)
        return t;
      t.push(l);
      for (const c of y[l])
        for (const d of this.findTypeDependencies(c.type, y, t))
          !t.includes(d) && t.push(d);
      return t;
    },
    /**
     * Hashes an object
     *
     * @param {string} primaryType - Root type
     * @param {Object} data - Object to hash
     * @param {Object} types - Type definitions
     * @returns {Buffer} - Hash of an object
     */
    hashStruct(l, y, t, c = !0) {
      return i.keccak(this.encodeData(l, y, t, c));
    },
    /**
     * Hashes the type of an object
     *
     * @param {string} primaryType - Root type to hash
     * @param {Object} types - Type definitions
     * @returns {string} - Hash of an object
     */
    hashType(l, y) {
      return i.keccak(this.encodeType(l, y));
    },
    /**
     * Removes properties from a message object that are not defined per EIP-712
     *
     * @param {Object} data - typed message object
     * @returns {Object} - typed message object with only allowed fields
     */
    sanitizeData(l) {
      const y = {};
      for (const t in a.properties)
        l[t] && (y[t] = l[t]);
      return y.types && (y.types = Object.assign({ EIP712Domain: [] }, y.types)), y;
    },
    /**
     * Returns the hash of a typed message as per EIP-712 for signing
     *
     * @param {Object} typedData - Types message data to sign
     * @returns {string} - sha3 hash for signing
     */
    hash(l, y = !0) {
      const t = this.sanitizeData(l), c = [Buffer.from("1901", "hex")];
      return c.push(this.hashStruct("EIP712Domain", t.domain, t.types, y)), t.primaryType !== "EIP712Domain" && c.push(this.hashStruct(t.primaryType, t.message, t.types, y)), i.keccak(Buffer.concat(c));
    }
  };
  an = {
    TYPED_MESSAGE_SCHEMA: a,
    TypedDataUtils: u,
    hashForSignTypedDataLegacy: function(l) {
      return m(l.data);
    },
    hashForSignTypedData_v3: function(l) {
      return u.hash(l.data, !1);
    },
    hashForSignTypedData_v4: function(l) {
      return u.hash(l.data);
    }
  };
  function m(l) {
    const y = new Error("Expect argument to be non-empty array");
    if (typeof l != "object" || !l.length) throw y;
    const t = l.map(function(b) {
      return b.type === "bytes" ? i.toBuffer(b.value) : b.value;
    }), c = l.map(function(b) {
      return b.type;
    }), d = l.map(function(b) {
      if (!b.name) throw y;
      return b.type + " " + b.name;
    });
    return e.soliditySHA3(
      ["bytes32", "bytes32"],
      [
        e.soliditySHA3(new Array(l.length).fill("string"), d),
        e.soliditySHA3(c, t)
      ]
    );
  }
  return an;
}
var Me = {}, Mi;
function In() {
  return Mi || (Mi = 1, Object.defineProperty(Me, "__esModule", { value: !0 }), Me.APP_VERSION_KEY = Me.LOCAL_STORAGE_ADDRESSES_KEY = Me.WALLET_USER_NAME_KEY = void 0, Me.WALLET_USER_NAME_KEY = "walletUsername", Me.LOCAL_STORAGE_ADDRESSES_KEY = "Addresses", Me.APP_VERSION_KEY = "AppVersion"), Me;
}
var dt = {}, Bi;
function qs() {
  if (Bi) return dt;
  Bi = 1, Object.defineProperty(dt, "__esModule", { value: !0 }), dt.RelayEventManager = void 0;
  const i = /* @__PURE__ */ Oe();
  let e = class {
    constructor() {
      this._nextRequestId = 0, this.callbacks = /* @__PURE__ */ new Map();
    }
    makeRequestId() {
      this._nextRequestId = (this._nextRequestId + 1) % 2147483647;
      const u = this._nextRequestId, m = (0, i.prepend0x)(u.toString(16));
      return this.callbacks.get(m) && this.callbacks.delete(m), u;
    }
  };
  return dt.RelayEventManager = e, dt;
}
var ft = {}, pt = {}, _t = {}, Ti;
function Wo() {
  if (Ti) return _t;
  Ti = 1, Object.defineProperty(_t, "__esModule", { value: !0 }), _t.WalletLinkCipher = void 0;
  const i = /* @__PURE__ */ Oe();
  let e = class {
    // @param secret hex representation of 32-byte secret
    constructor(u) {
      this.secret = u;
    }
    /**
     *
     * @param plainText string to be encrypted
     * returns hex string representation of bytes in the order: initialization vector (iv),
     * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the
     * encrypted plainText.
     */
    async encrypt(u) {
      const m = this.secret;
      if (m.length !== 64)
        throw Error("secret must be 256 bits");
      const l = crypto.getRandomValues(new Uint8Array(12)), y = await crypto.subtle.importKey("raw", (0, i.hexStringToUint8Array)(m), { name: "aes-gcm" }, !1, ["encrypt", "decrypt"]), t = new TextEncoder(), c = await window.crypto.subtle.encrypt({
        name: "AES-GCM",
        iv: l
      }, y, t.encode(u)), d = 16, b = c.slice(c.byteLength - d), g = c.slice(0, c.byteLength - d), f = new Uint8Array(b), o = new Uint8Array(g), r = new Uint8Array([...l, ...f, ...o]);
      return (0, i.uint8ArrayToHex)(r);
    }
    /**
     *
     * @param cipherText hex string representation of bytes in the order: initialization vector (iv),
     * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.
     */
    async decrypt(u) {
      const m = this.secret;
      if (m.length !== 64)
        throw Error("secret must be 256 bits");
      return new Promise((l, y) => {
        (async function() {
          const t = await crypto.subtle.importKey("raw", (0, i.hexStringToUint8Array)(m), { name: "aes-gcm" }, !1, ["encrypt", "decrypt"]), c = (0, i.hexStringToUint8Array)(u), d = c.slice(0, 12), b = c.slice(12, 28), g = c.slice(28), f = new Uint8Array([...g, ...b]), o = {
            name: "AES-GCM",
            iv: new Uint8Array(d)
          };
          try {
            const r = await window.crypto.subtle.decrypt(o, t, f), _ = new TextDecoder();
            l(_.decode(r));
          } catch (r) {
            y(r);
          }
        })();
      });
    }
  };
  return _t.WalletLinkCipher = e, _t;
}
var gt = {}, Pi;
function Fo() {
  if (Pi) return gt;
  Pi = 1, Object.defineProperty(gt, "__esModule", { value: !0 }), gt.WalletLinkHTTP = void 0;
  let i = class {
    constructor(a, u, m) {
      this.linkAPIUrl = a, this.sessionId = u;
      const l = `${u}:${m}`;
      this.auth = `Basic ${btoa(l)}`;
    }
    // mark unseen events as seen
    async markUnseenEventsAsSeen(a) {
      return Promise.all(a.map((u) => fetch(`${this.linkAPIUrl}/events/${u.eventId}/seen`, {
        method: "POST",
        headers: {
          Authorization: this.auth
        }
      }))).catch((u) => console.error("Unabled to mark event as failed:", u));
    }
    async fetchUnseenEvents() {
      var a;
      const u = await fetch(`${this.linkAPIUrl}/events?unseen=true`, {
        headers: {
          Authorization: this.auth
        }
      });
      if (u.ok) {
        const { events: m, error: l } = await u.json();
        if (l)
          throw new Error(`Check unseen events failed: ${l}`);
        const y = (a = m == null ? void 0 : m.filter((t) => t.event === "Web3Response").map((t) => ({
          type: "Event",
          sessionId: this.sessionId,
          eventId: t.id,
          event: t.event,
          data: t.data
        }))) !== null && a !== void 0 ? a : [];
        return this.markUnseenEventsAsSeen(y), y;
      }
      throw new Error(`Check unseen events failed: ${u.status}`);
    }
  };
  return gt.WalletLinkHTTP = i, gt;
}
var We = {}, Ni;
function jo() {
  if (Ni) return We;
  Ni = 1, Object.defineProperty(We, "__esModule", { value: !0 }), We.WalletLinkWebSocket = We.ConnectionState = void 0;
  var i;
  (function(a) {
    a[a.DISCONNECTED = 0] = "DISCONNECTED", a[a.CONNECTING = 1] = "CONNECTING", a[a.CONNECTED = 2] = "CONNECTED";
  })(i || (We.ConnectionState = i = {}));
  let e = class {
    setConnectionStateListener(u) {
      this.connectionStateListener = u;
    }
    setIncomingDataListener(u) {
      this.incomingDataListener = u;
    }
    /**
     * Constructor
     * @param url WebSocket server URL
     * @param [WebSocketClass] Custom WebSocket implementation
     */
    constructor(u, m = WebSocket) {
      this.WebSocketClass = m, this.webSocket = null, this.pendingData = [], this.url = u.replace(/^http/, "ws");
    }
    /**
     * Make a websocket connection
     * @returns a Promise that resolves when connected
     */
    async connect() {
      if (this.webSocket)
        throw new Error("webSocket object is not null");
      return new Promise((u, m) => {
        var l;
        let y;
        try {
          this.webSocket = y = new this.WebSocketClass(this.url);
        } catch (t) {
          m(t);
          return;
        }
        (l = this.connectionStateListener) === null || l === void 0 || l.call(this, i.CONNECTING), y.onclose = (t) => {
          var c;
          this.clearWebSocket(), m(new Error(`websocket error ${t.code}: ${t.reason}`)), (c = this.connectionStateListener) === null || c === void 0 || c.call(this, i.DISCONNECTED);
        }, y.onopen = (t) => {
          var c;
          u(), (c = this.connectionStateListener) === null || c === void 0 || c.call(this, i.CONNECTED), this.pendingData.length > 0 && ([...this.pendingData].forEach((b) => this.sendData(b)), this.pendingData = []);
        }, y.onmessage = (t) => {
          var c, d;
          if (t.data === "h")
            (c = this.incomingDataListener) === null || c === void 0 || c.call(this, {
              type: "Heartbeat"
            });
          else
            try {
              const b = JSON.parse(t.data);
              (d = this.incomingDataListener) === null || d === void 0 || d.call(this, b);
            } catch {
            }
        };
      });
    }
    /**
     * Disconnect from server
     */
    disconnect() {
      var u;
      const { webSocket: m } = this;
      if (m) {
        this.clearWebSocket(), (u = this.connectionStateListener) === null || u === void 0 || u.call(this, i.DISCONNECTED), this.connectionStateListener = void 0, this.incomingDataListener = void 0;
        try {
          m.close();
        } catch {
        }
      }
    }
    /**
     * Send data to server
     * @param data text to send
     */
    sendData(u) {
      const { webSocket: m } = this;
      if (!m) {
        this.pendingData.push(u), this.connect();
        return;
      }
      m.send(u);
    }
    clearWebSocket() {
      const { webSocket: u } = this;
      u && (this.webSocket = null, u.onclose = null, u.onerror = null, u.onmessage = null, u.onopen = null);
    }
  };
  return We.WalletLinkWebSocket = e, We;
}
var Oi;
function Ho() {
  if (Oi) return pt;
  Oi = 1, Object.defineProperty(pt, "__esModule", { value: !0 }), pt.WalletLinkConnection = void 0;
  const i = /* @__PURE__ */ In(), e = /* @__PURE__ */ Wo(), a = /* @__PURE__ */ Fo(), u = /* @__PURE__ */ jo(), m = /* @__PURE__ */ Cn(), l = 1e4, y = 6e4;
  let t = class {
    /**
     * Constructor
     * @param session Session
     * @param linkAPIUrl Coinbase Wallet link server URL
     * @param listener WalletLinkConnectionUpdateListener
     * @param [WebSocketClass] Custom WebSocket implementation
     */
    constructor({ session: d, linkAPIUrl: b, listener: g, WebSocketClass: f = WebSocket }) {
      this.destroyed = !1, this.lastHeartbeatResponse = 0, this.nextReqId = (0, m.IntNumber)(1), this._connected = !1, this._linked = !1, this.shouldFetchUnseenEventsOnConnect = !1, this.requestResolutions = /* @__PURE__ */ new Map(), this.handleSessionMetadataUpdated = (r) => {
        if (!r)
          return;
        (/* @__PURE__ */ new Map([
          ["__destroyed", this.handleDestroyed],
          ["EthereumAddress", this.handleAccountUpdated],
          ["WalletUsername", this.handleWalletUsernameUpdated],
          ["AppVersion", this.handleAppVersionUpdated],
          [
            "ChainId",
            (h) => r.JsonRpcUrl && this.handleChainUpdated(h, r.JsonRpcUrl)
          ]
        ])).forEach((h, p) => {
          const E = r[p];
          E !== void 0 && h(E);
        });
      }, this.handleDestroyed = (r) => {
        var _;
        r === "1" && ((_ = this.listener) === null || _ === void 0 || _.resetAndReload());
      }, this.handleAccountUpdated = async (r) => {
        var _;
        {
          const h = await this.cipher.decrypt(r);
          (_ = this.listener) === null || _ === void 0 || _.accountUpdated(h);
        }
      }, this.handleMetadataUpdated = async (r, _) => {
        var h;
        {
          const p = await this.cipher.decrypt(_);
          (h = this.listener) === null || h === void 0 || h.metadataUpdated(r, p);
        }
      }, this.handleWalletUsernameUpdated = async (r) => {
        this.handleMetadataUpdated(i.WALLET_USER_NAME_KEY, r);
      }, this.handleAppVersionUpdated = async (r) => {
        this.handleMetadataUpdated(i.APP_VERSION_KEY, r);
      }, this.handleChainUpdated = async (r, _) => {
        var h;
        {
          const p = await this.cipher.decrypt(r), E = await this.cipher.decrypt(_);
          (h = this.listener) === null || h === void 0 || h.chainUpdated(p, E);
        }
      }, this.session = d, this.cipher = new e.WalletLinkCipher(d.secret), this.listener = g;
      const o = new u.WalletLinkWebSocket(`${b}/rpc`, f);
      o.setConnectionStateListener(async (r) => {
        let _ = !1;
        switch (r) {
          case u.ConnectionState.DISCONNECTED:
            if (!this.destroyed) {
              const h = async () => {
                await new Promise((p) => setTimeout(p, 5e3)), this.destroyed || o.connect().catch(() => {
                  h();
                });
              };
              h();
            }
            break;
          case u.ConnectionState.CONNECTED:
            try {
              await this.authenticate(), this.sendIsLinked(), this.sendGetSessionConfig(), _ = !0;
            } catch {
            }
            this.updateLastHeartbeat(), setInterval(() => {
              this.heartbeat();
            }, l), this.shouldFetchUnseenEventsOnConnect && this.fetchUnseenEventsAPI();
            break;
          case u.ConnectionState.CONNECTING:
            break;
        }
        this.connected !== _ && (this.connected = _);
      }), o.setIncomingDataListener((r) => {
        var _;
        switch (r.type) {
          // handle server's heartbeat responses
          case "Heartbeat":
            this.updateLastHeartbeat();
            return;
          // handle link status updates
          case "IsLinkedOK":
          case "Linked": {
            const h = r.type === "IsLinkedOK" ? r.linked : void 0;
            this.linked = h || r.onlineGuests > 0;
            break;
          }
          // handle session config updates
          case "GetSessionConfigOK":
          case "SessionConfigUpdated": {
            this.handleSessionMetadataUpdated(r.metadata);
            break;
          }
          case "Event": {
            this.handleIncomingEvent(r);
            break;
          }
        }
        r.id !== void 0 && ((_ = this.requestResolutions.get(r.id)) === null || _ === void 0 || _(r));
      }), this.ws = o, this.http = new a.WalletLinkHTTP(b, d.id, d.key);
    }
    /**
     * Make a connection to the server
     */
    connect() {
      if (this.destroyed)
        throw new Error("instance is destroyed");
      this.ws.connect();
    }
    /**
     * Terminate connection, and mark as destroyed. To reconnect, create a new
     * instance of WalletSDKConnection
     */
    destroy() {
      this.destroyed = !0, this.ws.disconnect(), this.listener = void 0;
    }
    get isDestroyed() {
      return this.destroyed;
    }
    get connected() {
      return this._connected;
    }
    set connected(d) {
      var b;
      this._connected = d, d && ((b = this.onceConnected) === null || b === void 0 || b.call(this));
    }
    setOnceConnected(d) {
      return new Promise((b) => {
        this.connected ? d().then(b) : this.onceConnected = () => {
          d().then(b), this.onceConnected = void 0;
        };
      });
    }
    get linked() {
      return this._linked;
    }
    set linked(d) {
      var b, g;
      this._linked = d, d && ((b = this.onceLinked) === null || b === void 0 || b.call(this)), (g = this.listener) === null || g === void 0 || g.linkedUpdated(d);
    }
    setOnceLinked(d) {
      return new Promise((b) => {
        this.linked ? d().then(b) : this.onceLinked = () => {
          d().then(b), this.onceLinked = void 0;
        };
      });
    }
    async handleIncomingEvent(d) {
      var b;
      if (!(d.type !== "Event" || d.event !== "Web3Response")) {
        const g = await this.cipher.decrypt(d.data), f = JSON.parse(g);
        if (f.type !== "WEB3_RESPONSE")
          return;
        (b = this.listener) === null || b === void 0 || b.handleWeb3ResponseMessage(f);
      }
    }
    async checkUnseenEvents() {
      if (!this.connected) {
        this.shouldFetchUnseenEventsOnConnect = !0;
        return;
      }
      await new Promise((d) => setTimeout(d, 250));
      try {
        await this.fetchUnseenEventsAPI();
      } catch (d) {
        console.error("Unable to check for unseen events", d);
      }
    }
    async fetchUnseenEventsAPI() {
      this.shouldFetchUnseenEventsOnConnect = !1, (await this.http.fetchUnseenEvents()).forEach((b) => this.handleIncomingEvent(b));
    }
    /**
     * Set session metadata in SessionConfig object
     * @param key
     * @param value
     * @returns a Promise that completes when successful
     */
    async setSessionMetadata(d, b) {
      const g = {
        type: "SetSessionConfig",
        id: (0, m.IntNumber)(this.nextReqId++),
        sessionId: this.session.id,
        metadata: { [d]: b }
      };
      return this.setOnceConnected(async () => {
        const f = await this.makeRequest(g);
        if (f.type === "Fail")
          throw new Error(f.error || "failed to set session metadata");
      });
    }
    /**
     * Publish an event and emit event ID when successful
     * @param event event name
     * @param unencryptedData unencrypted event data
     * @param callWebhook whether the webhook should be invoked
     * @returns a Promise that emits event ID when successful
     */
    async publishEvent(d, b, g = !1) {
      const f = await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({}, b), { origin: location.origin, relaySource: "coinbaseWalletExtension" in window && window.coinbaseWalletExtension ? "injected_sdk" : "sdk" }))), o = {
        type: "PublishEvent",
        id: (0, m.IntNumber)(this.nextReqId++),
        sessionId: this.session.id,
        event: d,
        data: f,
        callWebhook: g
      };
      return this.setOnceLinked(async () => {
        const r = await this.makeRequest(o);
        if (r.type === "Fail")
          throw new Error(r.error || "failed to publish event");
        return r.eventId;
      });
    }
    sendData(d) {
      this.ws.sendData(JSON.stringify(d));
    }
    updateLastHeartbeat() {
      this.lastHeartbeatResponse = Date.now();
    }
    heartbeat() {
      if (Date.now() - this.lastHeartbeatResponse > l * 2) {
        this.ws.disconnect();
        return;
      }
      try {
        this.ws.sendData("h");
      } catch {
      }
    }
    async makeRequest(d, b = y) {
      const g = d.id;
      this.sendData(d);
      let f;
      return Promise.race([
        new Promise((o, r) => {
          f = window.setTimeout(() => {
            r(new Error(`request ${g} timed out`));
          }, b);
        }),
        new Promise((o) => {
          this.requestResolutions.set(g, (r) => {
            clearTimeout(f), o(r), this.requestResolutions.delete(g);
          });
        })
      ]);
    }
    async authenticate() {
      const d = {
        type: "HostSession",
        id: (0, m.IntNumber)(this.nextReqId++),
        sessionId: this.session.id,
        sessionKey: this.session.key
      }, b = await this.makeRequest(d);
      if (b.type === "Fail")
        throw new Error(b.error || "failed to authenticate");
    }
    sendIsLinked() {
      const d = {
        type: "IsLinked",
        id: (0, m.IntNumber)(this.nextReqId++),
        sessionId: this.session.id
      };
      this.sendData(d);
    }
    sendGetSessionConfig() {
      const d = {
        type: "GetSessionConfig",
        id: (0, m.IntNumber)(this.nextReqId++),
        sessionId: this.session.id
      };
      this.sendData(d);
    }
  };
  return pt.WalletLinkConnection = t, pt;
}
var yt = {}, cn = { exports: {} }, un, Di;
function et() {
  if (Di) return un;
  Di = 1;
  var i = De().Buffer;
  function e(a, u) {
    this._block = i.alloc(a), this._finalSize = u, this._blockSize = a, this._len = 0;
  }
  return e.prototype.update = function(a, u) {
    typeof a == "string" && (u = u || "utf8", a = i.from(a, u));
    for (var m = this._block, l = this._blockSize, y = a.length, t = this._len, c = 0; c < y; ) {
      for (var d = t % l, b = Math.min(y - c, l - d), g = 0; g < b; g++)
        m[d + g] = a[c + g];
      t += b, c += b, t % l === 0 && this._update(m);
    }
    return this._len += y, this;
  }, e.prototype.digest = function(a) {
    var u = this._len % this._blockSize;
    this._block[u] = 128, this._block.fill(0, u + 1), u >= this._finalSize && (this._update(this._block), this._block.fill(0));
    var m = this._len * 8;
    if (m <= 4294967295)
      this._block.writeUInt32BE(m, this._blockSize - 4);
    else {
      var l = (m & 4294967295) >>> 0, y = (m - l) / 4294967296;
      this._block.writeUInt32BE(y, this._blockSize - 8), this._block.writeUInt32BE(l, this._blockSize - 4);
    }
    this._update(this._block);
    var t = this._hash();
    return a ? t.toString(a) : t;
  }, e.prototype._update = function() {
    throw new Error("_update must be implemented by subclass");
  }, un = e, un;
}
var ln, Ui;
function Ko() {
  if (Ui) return ln;
  Ui = 1;
  var i = ke(), e = et(), a = De().Buffer, u = [
    1518500249,
    1859775393,
    -1894007588,
    -899497514
  ], m = new Array(80);
  function l() {
    this.init(), this._w = m, e.call(this, 64, 56);
  }
  i(l, e), l.prototype.init = function() {
    return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
  };
  function y(d) {
    return d << 5 | d >>> 27;
  }
  function t(d) {
    return d << 30 | d >>> 2;
  }
  function c(d, b, g, f) {
    return d === 0 ? b & g | ~b & f : d === 2 ? b & g | b & f | g & f : b ^ g ^ f;
  }
  return l.prototype._update = function(d) {
    for (var b = this._w, g = this._a | 0, f = this._b | 0, o = this._c | 0, r = this._d | 0, _ = this._e | 0, h = 0; h < 16; ++h) b[h] = d.readInt32BE(h * 4);
    for (; h < 80; ++h) b[h] = b[h - 3] ^ b[h - 8] ^ b[h - 14] ^ b[h - 16];
    for (var p = 0; p < 80; ++p) {
      var E = ~~(p / 20), I = y(g) + c(E, f, o, r) + _ + b[p] + u[E] | 0;
      _ = r, r = o, o = t(f), f = g, g = I;
    }
    this._a = g + this._a | 0, this._b = f + this._b | 0, this._c = o + this._c | 0, this._d = r + this._d | 0, this._e = _ + this._e | 0;
  }, l.prototype._hash = function() {
    var d = a.allocUnsafe(20);
    return d.writeInt32BE(this._a | 0, 0), d.writeInt32BE(this._b | 0, 4), d.writeInt32BE(this._c | 0, 8), d.writeInt32BE(this._d | 0, 12), d.writeInt32BE(this._e | 0, 16), d;
  }, ln = l, ln;
}
var hn, qi;
function $o() {
  if (qi) return hn;
  qi = 1;
  var i = ke(), e = et(), a = De().Buffer, u = [
    1518500249,
    1859775393,
    -1894007588,
    -899497514
  ], m = new Array(80);
  function l() {
    this.init(), this._w = m, e.call(this, 64, 56);
  }
  i(l, e), l.prototype.init = function() {
    return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
  };
  function y(b) {
    return b << 1 | b >>> 31;
  }
  function t(b) {
    return b << 5 | b >>> 27;
  }
  function c(b) {
    return b << 30 | b >>> 2;
  }
  function d(b, g, f, o) {
    return b === 0 ? g & f | ~g & o : b === 2 ? g & f | g & o | f & o : g ^ f ^ o;
  }
  return l.prototype._update = function(b) {
    for (var g = this._w, f = this._a | 0, o = this._b | 0, r = this._c | 0, _ = this._d | 0, h = this._e | 0, p = 0; p < 16; ++p) g[p] = b.readInt32BE(p * 4);
    for (; p < 80; ++p) g[p] = y(g[p - 3] ^ g[p - 8] ^ g[p - 14] ^ g[p - 16]);
    for (var E = 0; E < 80; ++E) {
      var I = ~~(E / 20), C = t(f) + d(I, o, r, _) + h + g[E] + u[I] | 0;
      h = _, _ = r, r = c(o), o = f, f = C;
    }
    this._a = f + this._a | 0, this._b = o + this._b | 0, this._c = r + this._c | 0, this._d = _ + this._d | 0, this._e = h + this._e | 0;
  }, l.prototype._hash = function() {
    var b = a.allocUnsafe(20);
    return b.writeInt32BE(this._a | 0, 0), b.writeInt32BE(this._b | 0, 4), b.writeInt32BE(this._c | 0, 8), b.writeInt32BE(this._d | 0, 12), b.writeInt32BE(this._e | 0, 16), b;
  }, hn = l, hn;
}
var dn, Wi;
function Ws() {
  if (Wi) return dn;
  Wi = 1;
  var i = ke(), e = et(), a = De().Buffer, u = [
    1116352408,
    1899447441,
    3049323471,
    3921009573,
    961987163,
    1508970993,
    2453635748,
    2870763221,
    3624381080,
    310598401,
    607225278,
    1426881987,
    1925078388,
    2162078206,
    2614888103,
    3248222580,
    3835390401,
    4022224774,
    264347078,
    604807628,
    770255983,
    1249150122,
    1555081692,
    1996064986,
    2554220882,
    2821834349,
    2952996808,
    3210313671,
    3336571891,
    3584528711,
    113926993,
    338241895,
    666307205,
    773529912,
    1294757372,
    1396182291,
    1695183700,
    1986661051,
    2177026350,
    2456956037,
    2730485921,
    2820302411,
    3259730800,
    3345764771,
    3516065817,
    3600352804,
    4094571909,
    275423344,
    430227734,
    506948616,
    659060556,
    883997877,
    958139571,
    1322822218,
    1537002063,
    1747873779,
    1955562222,
    2024104815,
    2227730452,
    2361852424,
    2428436474,
    2756734187,
    3204031479,
    3329325298
  ], m = new Array(64);
  function l() {
    this.init(), this._w = m, e.call(this, 64, 56);
  }
  i(l, e), l.prototype.init = function() {
    return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this;
  };
  function y(f, o, r) {
    return r ^ f & (o ^ r);
  }
  function t(f, o, r) {
    return f & o | r & (f | o);
  }
  function c(f) {
    return (f >>> 2 | f << 30) ^ (f >>> 13 | f << 19) ^ (f >>> 22 | f << 10);
  }
  function d(f) {
    return (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);
  }
  function b(f) {
    return (f >>> 7 | f << 25) ^ (f >>> 18 | f << 14) ^ f >>> 3;
  }
  function g(f) {
    return (f >>> 17 | f << 15) ^ (f >>> 19 | f << 13) ^ f >>> 10;
  }
  return l.prototype._update = function(f) {
    for (var o = this._w, r = this._a | 0, _ = this._b | 0, h = this._c | 0, p = this._d | 0, E = this._e | 0, I = this._f | 0, C = this._g | 0, R = this._h | 0, A = 0; A < 16; ++A) o[A] = f.readInt32BE(A * 4);
    for (; A < 64; ++A) o[A] = g(o[A - 2]) + o[A - 7] + b(o[A - 15]) + o[A - 16] | 0;
    for (var P = 0; P < 64; ++P) {
      var D = R + d(E) + y(E, I, C) + u[P] + o[P] | 0, q = c(r) + t(r, _, h) | 0;
      R = C, C = I, I = E, E = p + D | 0, p = h, h = _, _ = r, r = D + q | 0;
    }
    this._a = r + this._a | 0, this._b = _ + this._b | 0, this._c = h + this._c | 0, this._d = p + this._d | 0, this._e = E + this._e | 0, this._f = I + this._f | 0, this._g = C + this._g | 0, this._h = R + this._h | 0;
  }, l.prototype._hash = function() {
    var f = a.allocUnsafe(32);
    return f.writeInt32BE(this._a, 0), f.writeInt32BE(this._b, 4), f.writeInt32BE(this._c, 8), f.writeInt32BE(this._d, 12), f.writeInt32BE(this._e, 16), f.writeInt32BE(this._f, 20), f.writeInt32BE(this._g, 24), f.writeInt32BE(this._h, 28), f;
  }, dn = l, dn;
}
var fn, Fi;
function zo() {
  if (Fi) return fn;
  Fi = 1;
  var i = ke(), e = Ws(), a = et(), u = De().Buffer, m = new Array(64);
  function l() {
    this.init(), this._w = m, a.call(this, 64, 56);
  }
  return i(l, e), l.prototype.init = function() {
    return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this;
  }, l.prototype._hash = function() {
    var y = u.allocUnsafe(28);
    return y.writeInt32BE(this._a, 0), y.writeInt32BE(this._b, 4), y.writeInt32BE(this._c, 8), y.writeInt32BE(this._d, 12), y.writeInt32BE(this._e, 16), y.writeInt32BE(this._f, 20), y.writeInt32BE(this._g, 24), y;
  }, fn = l, fn;
}
var pn, ji;
function Fs() {
  if (ji) return pn;
  ji = 1;
  var i = ke(), e = et(), a = De().Buffer, u = [
    1116352408,
    3609767458,
    1899447441,
    602891725,
    3049323471,
    3964484399,
    3921009573,
    2173295548,
    961987163,
    4081628472,
    1508970993,
    3053834265,
    2453635748,
    2937671579,
    2870763221,
    3664609560,
    3624381080,
    2734883394,
    310598401,
    1164996542,
    607225278,
    1323610764,
    1426881987,
    3590304994,
    1925078388,
    4068182383,
    2162078206,
    991336113,
    2614888103,
    633803317,
    3248222580,
    3479774868,
    3835390401,
    2666613458,
    4022224774,
    944711139,
    264347078,
    2341262773,
    604807628,
    2007800933,
    770255983,
    1495990901,
    1249150122,
    1856431235,
    1555081692,
    3175218132,
    1996064986,
    2198950837,
    2554220882,
    3999719339,
    2821834349,
    766784016,
    2952996808,
    2566594879,
    3210313671,
    3203337956,
    3336571891,
    1034457026,
    3584528711,
    2466948901,
    113926993,
    3758326383,
    338241895,
    168717936,
    666307205,
    1188179964,
    773529912,
    1546045734,
    1294757372,
    1522805485,
    1396182291,
    2643833823,
    1695183700,
    2343527390,
    1986661051,
    1014477480,
    2177026350,
    1206759142,
    2456956037,
    344077627,
    2730485921,
    1290863460,
    2820302411,
    3158454273,
    3259730800,
    3505952657,
    3345764771,
    106217008,
    3516065817,
    3606008344,
    3600352804,
    1432725776,
    4094571909,
    1467031594,
    275423344,
    851169720,
    430227734,
    3100823752,
    506948616,
    1363258195,
    659060556,
    3750685593,
    883997877,
    3785050280,
    958139571,
    3318307427,
    1322822218,
    3812723403,
    1537002063,
    2003034995,
    1747873779,
    3602036899,
    1955562222,
    1575990012,
    2024104815,
    1125592928,
    2227730452,
    2716904306,
    2361852424,
    442776044,
    2428436474,
    593698344,
    2756734187,
    3733110249,
    3204031479,
    2999351573,
    3329325298,
    3815920427,
    3391569614,
    3928383900,
    3515267271,
    566280711,
    3940187606,
    3454069534,
    4118630271,
    4000239992,
    116418474,
    1914138554,
    174292421,
    2731055270,
    289380356,
    3203993006,
    460393269,
    320620315,
    685471733,
    587496836,
    852142971,
    1086792851,
    1017036298,
    365543100,
    1126000580,
    2618297676,
    1288033470,
    3409855158,
    1501505948,
    4234509866,
    1607167915,
    987167468,
    1816402316,
    1246189591
  ], m = new Array(160);
  function l() {
    this.init(), this._w = m, e.call(this, 128, 112);
  }
  i(l, e), l.prototype.init = function() {
    return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this;
  };
  function y(_, h, p) {
    return p ^ _ & (h ^ p);
  }
  function t(_, h, p) {
    return _ & h | p & (_ | h);
  }
  function c(_, h) {
    return (_ >>> 28 | h << 4) ^ (h >>> 2 | _ << 30) ^ (h >>> 7 | _ << 25);
  }
  function d(_, h) {
    return (_ >>> 14 | h << 18) ^ (_ >>> 18 | h << 14) ^ (h >>> 9 | _ << 23);
  }
  function b(_, h) {
    return (_ >>> 1 | h << 31) ^ (_ >>> 8 | h << 24) ^ _ >>> 7;
  }
  function g(_, h) {
    return (_ >>> 1 | h << 31) ^ (_ >>> 8 | h << 24) ^ (_ >>> 7 | h << 25);
  }
  function f(_, h) {
    return (_ >>> 19 | h << 13) ^ (h >>> 29 | _ << 3) ^ _ >>> 6;
  }
  function o(_, h) {
    return (_ >>> 19 | h << 13) ^ (h >>> 29 | _ << 3) ^ (_ >>> 6 | h << 26);
  }
  function r(_, h) {
    return _ >>> 0 < h >>> 0 ? 1 : 0;
  }
  return l.prototype._update = function(_) {
    for (var h = this._w, p = this._ah | 0, E = this._bh | 0, I = this._ch | 0, C = this._dh | 0, R = this._eh | 0, A = this._fh | 0, P = this._gh | 0, D = this._hh | 0, q = this._al | 0, F = this._bl | 0, T = this._cl | 0, H = this._dl | 0, V = this._el | 0, Y = this._fl | 0, de = this._gl | 0, ye = this._hl | 0, J = 0; J < 32; J += 2)
      h[J] = _.readInt32BE(J * 4), h[J + 1] = _.readInt32BE(J * 4 + 4);
    for (; J < 160; J += 2) {
      var pe = h[J - 30], he = h[J - 15 * 2 + 1], we = b(pe, he), ee = g(he, pe);
      pe = h[J - 2 * 2], he = h[J - 2 * 2 + 1];
      var ae = f(pe, he), fe = o(he, pe), ve = h[J - 7 * 2], Ee = h[J - 7 * 2 + 1], B = h[J - 16 * 2], L = h[J - 16 * 2 + 1], U = ee + Ee | 0, j = we + ve + r(U, ee) | 0;
      U = U + fe | 0, j = j + ae + r(U, fe) | 0, U = U + L | 0, j = j + B + r(U, L) | 0, h[J] = j, h[J + 1] = U;
    }
    for (var $ = 0; $ < 160; $ += 2) {
      j = h[$], U = h[$ + 1];
      var S = t(p, E, I), x = t(q, F, T), O = c(p, q), W = c(q, p), X = d(R, V), z = d(V, R), Z = u[$], be = u[$ + 1], Se = y(R, A, P), xe = y(V, Y, de), ce = ye + z | 0, oe = D + X + r(ce, ye) | 0;
      ce = ce + xe | 0, oe = oe + Se + r(ce, xe) | 0, ce = ce + be | 0, oe = oe + Z + r(ce, be) | 0, ce = ce + U | 0, oe = oe + j + r(ce, U) | 0;
      var me = W + x | 0, Ae = O + S + r(me, W) | 0;
      D = P, ye = de, P = A, de = Y, A = R, Y = V, V = H + ce | 0, R = C + oe + r(V, H) | 0, C = I, H = T, I = E, T = F, E = p, F = q, q = ce + me | 0, p = oe + Ae + r(q, ce) | 0;
    }
    this._al = this._al + q | 0, this._bl = this._bl + F | 0, this._cl = this._cl + T | 0, this._dl = this._dl + H | 0, this._el = this._el + V | 0, this._fl = this._fl + Y | 0, this._gl = this._gl + de | 0, this._hl = this._hl + ye | 0, this._ah = this._ah + p + r(this._al, q) | 0, this._bh = this._bh + E + r(this._bl, F) | 0, this._ch = this._ch + I + r(this._cl, T) | 0, this._dh = this._dh + C + r(this._dl, H) | 0, this._eh = this._eh + R + r(this._el, V) | 0, this._fh = this._fh + A + r(this._fl, Y) | 0, this._gh = this._gh + P + r(this._gl, de) | 0, this._hh = this._hh + D + r(this._hl, ye) | 0;
  }, l.prototype._hash = function() {
    var _ = a.allocUnsafe(64);
    function h(p, E, I) {
      _.writeInt32BE(p, I), _.writeInt32BE(E, I + 4);
    }
    return h(this._ah, this._al, 0), h(this._bh, this._bl, 8), h(this._ch, this._cl, 16), h(this._dh, this._dl, 24), h(this._eh, this._el, 32), h(this._fh, this._fl, 40), h(this._gh, this._gl, 48), h(this._hh, this._hl, 56), _;
  }, pn = l, pn;
}
var _n, Hi;
function Vo() {
  if (Hi) return _n;
  Hi = 1;
  var i = ke(), e = Fs(), a = et(), u = De().Buffer, m = new Array(160);
  function l() {
    this.init(), this._w = m, a.call(this, 128, 112);
  }
  return i(l, e), l.prototype.init = function() {
    return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this;
  }, l.prototype._hash = function() {
    var y = u.allocUnsafe(48);
    function t(c, d, b) {
      y.writeInt32BE(c, b), y.writeInt32BE(d, b + 4);
    }
    return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), y;
  }, _n = l, _n;
}
var Ki;
function Go() {
  if (Ki) return cn.exports;
  Ki = 1;
  var i = cn.exports = function(a) {
    a = a.toLowerCase();
    var u = i[a];
    if (!u) throw new Error(a + " is not supported (we accept pull requests)");
    return new u();
  };
  return i.sha = Ko(), i.sha1 = $o(), i.sha224 = zo(), i.sha256 = Ws(), i.sha384 = Vo(), i.sha512 = Fs(), cn.exports;
}
var $i;
function Zo() {
  if ($i) return yt;
  $i = 1, Object.defineProperty(yt, "__esModule", { value: !0 }), yt.WalletLinkSession = void 0;
  const i = Go(), e = /* @__PURE__ */ Oe(), a = "session:id", u = "session:secret", m = "session:linked";
  let l = class js {
    constructor(t, c, d, b) {
      this._storage = t, this._id = c || (0, e.randomBytesHex)(16), this._secret = d || (0, e.randomBytesHex)(32), this._key = new i.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"), this._linked = !!b;
    }
    static load(t) {
      const c = t.getItem(a), d = t.getItem(m), b = t.getItem(u);
      return c && b ? new js(t, c, b, d === "1") : null;
    }
    get id() {
      return this._id;
    }
    get secret() {
      return this._secret;
    }
    get key() {
      return this._key;
    }
    get linked() {
      return this._linked;
    }
    set linked(t) {
      this._linked = t, this.persistLinked();
    }
    save() {
      return this._storage.setItem(a, this._id), this._storage.setItem(u, this._secret), this.persistLinked(), this;
    }
    persistLinked() {
      this._storage.setItem(m, this._linked ? "1" : "0");
    }
  };
  return yt.WalletLinkSession = l, yt;
}
var Re = {}, zi;
function Ht() {
  if (zi) return Re;
  zi = 1, Object.defineProperty(Re, "__esModule", { value: !0 }), Re.isDarkMode = Re.isMobileWeb = Re.getLocation = Re.createQrUrl = void 0;
  function i(l, y, t, c, d, b) {
    const g = c ? "parent-id" : "id", f = new URLSearchParams({
      [g]: l,
      secret: y,
      server: t,
      v: d,
      chainId: b.toString()
    }).toString();
    return `${t}/#/link?${f}`;
  }
  Re.createQrUrl = i;
  function e() {
    try {
      return window.frameElement !== null;
    } catch {
      return !1;
    }
  }
  function a() {
    try {
      return e() && window.top ? window.top.location : window.location;
    } catch {
      return window.location;
    }
  }
  Re.getLocation = a;
  function u() {
    var l;
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((l = window == null ? void 0 : window.navigator) === null || l === void 0 ? void 0 : l.userAgent);
  }
  Re.isMobileWeb = u;
  function m() {
    var l, y;
    return (y = (l = window == null ? void 0 : window.matchMedia) === null || l === void 0 ? void 0 : l.call(window, "(prefers-color-scheme: dark)").matches) !== null && y !== void 0 ? y : !1;
  }
  return Re.isDarkMode = m, Re;
}
var bt = {}, Ve = {}, Bt = {}, Vi;
function Yo() {
  return Vi || (Vi = 1, Object.defineProperty(Bt, "__esModule", { value: !0 }), Bt.default = '@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'), Bt;
}
var Gi;
function Hs() {
  if (Gi) return Ve;
  Gi = 1;
  var i = Ve.__importDefault || function(u) {
    return u && u.__esModule ? u : { default: u };
  };
  Object.defineProperty(Ve, "__esModule", { value: !0 }), Ve.injectCssReset = void 0;
  const e = i(/* @__PURE__ */ Yo());
  function a() {
    const u = document.createElement("style");
    u.type = "text/css", u.appendChild(document.createTextNode(e.default)), document.documentElement.appendChild(u);
  }
  return Ve.injectCssReset = a, Ve;
}
var Tt = {};
function Ks(i) {
  var e, a, u = "";
  if (typeof i == "string" || typeof i == "number") u += i;
  else if (typeof i == "object") if (Array.isArray(i)) for (e = 0; e < i.length; e++) i[e] && (a = Ks(i[e])) && (u && (u += " "), u += a);
  else for (e in i) i[e] && (u && (u += " "), u += e);
  return u;
}
function Zi() {
  for (var i, e, a = 0, u = ""; a < arguments.length; ) (i = arguments[a++]) && (e = Ks(i)) && (u && (u += " "), u += e);
  return u;
}
const Jo = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  clsx: Zi,
  default: Zi
}, Symbol.toStringTag, { value: "Module" })), $s = /* @__PURE__ */ qt(Jo);
var Ct, se, zs, Vs, He, Yi, Gs, bn, Zs, kn, mn, wn, Ys, xt = {}, Js = [], Qo = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, Kt = Array.isArray;
function Te(i, e) {
  for (var a in e) i[a] = e[a];
  return i;
}
function An(i) {
  i && i.parentNode && i.parentNode.removeChild(i);
}
function vn(i, e, a) {
  var u, m, l, y = {};
  for (l in e) l == "key" ? u = e[l] : l == "ref" ? m = e[l] : y[l] = e[l];
  if (arguments.length > 2 && (y.children = arguments.length > 3 ? Ct.call(arguments, 2) : a), typeof i == "function" && i.defaultProps != null) for (l in i.defaultProps) y[l] === void 0 && (y[l] = i.defaultProps[l]);
  return Et(i, y, u, m, null);
}
function Et(i, e, a, u, m) {
  var l = { type: i, props: e, key: a, ref: u, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: m ?? ++zs, __i: -1, __u: 0 };
  return m == null && se.vnode != null && se.vnode(l), l;
}
function Xo() {
  return { current: null };
}
function Rt(i) {
  return i.children;
}
function St(i, e) {
  this.props = i, this.context = e;
}
function Je(i, e) {
  if (e == null) return i.__ ? Je(i.__, i.__i + 1) : null;
  for (var a; e < i.__k.length; e++) if ((a = i.__k[e]) != null && a.__e != null) return a.__e;
  return typeof i.type == "function" ? Je(i) : null;
}
function Qs(i) {
  var e, a;
  if ((i = i.__) != null && i.__c != null) {
    for (i.__e = i.__c.base = null, e = 0; e < i.__k.length; e++) if ((a = i.__k[e]) != null && a.__e != null) {
      i.__e = i.__c.base = a.__e;
      break;
    }
    return Qs(i);
  }
}
function En(i) {
  (!i.__d && (i.__d = !0) && He.push(i) && !Ut.__r++ || Yi !== se.debounceRendering) && ((Yi = se.debounceRendering) || Gs)(Ut);
}
function Ut() {
  var i, e, a, u, m, l, y, t;
  for (He.sort(bn); i = He.shift(); ) i.__d && (e = He.length, u = void 0, l = (m = (a = i).__v).__e, y = [], t = [], a.__P && ((u = Te({}, m)).__v = m.__v + 1, se.vnode && se.vnode(u), Ln(a.__P, u, m, a.__n, a.__P.namespaceURI, 32 & m.__u ? [l] : null, y, l ?? Je(m), !!(32 & m.__u), t), u.__v = m.__v, u.__.__k[u.__i] = u, ro(y, u, t), u.__e != l && Qs(u)), He.length > e && He.sort(bn));
  Ut.__r = 0;
}
function Xs(i, e, a, u, m, l, y, t, c, d, b) {
  var g, f, o, r, _, h, p = u && u.__k || Js, E = e.length;
  for (c = ea(a, e, p, c, E), g = 0; g < E; g++) (o = a.__k[g]) != null && (f = o.__i === -1 ? xt : p[o.__i] || xt, o.__i = g, h = Ln(i, o, f, m, l, y, t, c, d, b), r = o.__e, o.ref && f.ref != o.ref && (f.ref && Mn(f.ref, null, o), b.push(o.ref, o.__c || r, o)), _ == null && r != null && (_ = r), 4 & o.__u || f.__k === o.__k ? c = eo(o, c, i) : typeof o.type == "function" && h !== void 0 ? c = h : r && (c = r.nextSibling), o.__u &= -7);
  return a.__e = _, c;
}
function ea(i, e, a, u, m) {
  var l, y, t, c, d, b = a.length, g = b, f = 0;
  for (i.__k = new Array(m), l = 0; l < m; l++) (y = e[l]) != null && typeof y != "boolean" && typeof y != "function" ? (c = l + f, (y = i.__k[l] = typeof y == "string" || typeof y == "number" || typeof y == "bigint" || y.constructor == String ? Et(null, y, null, null, null) : Kt(y) ? Et(Rt, { children: y }, null, null, null) : y.constructor === void 0 && y.__b > 0 ? Et(y.type, y.props, y.key, y.ref ? y.ref : null, y.__v) : y).__ = i, y.__b = i.__b + 1, t = null, (d = y.__i = ta(y, a, c, g)) !== -1 && (g--, (t = a[d]) && (t.__u |= 2)), t == null || t.__v === null ? (d == -1 && f--, typeof y.type != "function" && (y.__u |= 4)) : d != c && (d == c - 1 ? f-- : d == c + 1 ? f++ : (d > c ? f-- : f++, y.__u |= 4))) : i.__k[l] = null;
  if (g) for (l = 0; l < b; l++) (t = a[l]) != null && !(2 & t.__u) && (t.__e == u && (u = Je(t)), no(t, t));
  return u;
}
function eo(i, e, a) {
  var u, m;
  if (typeof i.type == "function") {
    for (u = i.__k, m = 0; u && m < u.length; m++) u[m] && (u[m].__ = i, e = eo(u[m], e, a));
    return e;
  }
  i.__e != e && (e && i.type && !a.contains(e) && (e = Je(i)), a.insertBefore(i.__e, e || null), e = i.__e);
  do
    e = e && e.nextSibling;
  while (e != null && e.nodeType == 8);
  return e;
}
function to(i, e) {
  return e = e || [], i == null || typeof i == "boolean" || (Kt(i) ? i.some(function(a) {
    to(a, e);
  }) : e.push(i)), e;
}
function ta(i, e, a, u) {
  var m, l, y = i.key, t = i.type, c = e[a];
  if (c === null || c && y == c.key && t === c.type && !(2 & c.__u)) return a;
  if (u > (c != null && !(2 & c.__u) ? 1 : 0)) for (m = a - 1, l = a + 1; m >= 0 || l < e.length; ) {
    if (m >= 0) {
      if ((c = e[m]) && !(2 & c.__u) && y == c.key && t === c.type) return m;
      m--;
    }
    if (l < e.length) {
      if ((c = e[l]) && !(2 & c.__u) && y == c.key && t === c.type) return l;
      l++;
    }
  }
  return -1;
}
function Ji(i, e, a) {
  e[0] == "-" ? i.setProperty(e, a ?? "") : i[e] = a == null ? "" : typeof a != "number" || Qo.test(e) ? a : a + "px";
}
function Pt(i, e, a, u, m) {
  var l;
  e: if (e == "style") if (typeof a == "string") i.style.cssText = a;
  else {
    if (typeof u == "string" && (i.style.cssText = u = ""), u) for (e in u) a && e in a || Ji(i.style, e, "");
    if (a) for (e in a) u && a[e] === u[e] || Ji(i.style, e, a[e]);
  }
  else if (e[0] == "o" && e[1] == "n") l = e != (e = e.replace(Zs, "$1")), e = e.toLowerCase() in i || e == "onFocusOut" || e == "onFocusIn" ? e.toLowerCase().slice(2) : e.slice(2), i.l || (i.l = {}), i.l[e + l] = a, a ? u ? a.u = u.u : (a.u = kn, i.addEventListener(e, l ? wn : mn, l)) : i.removeEventListener(e, l ? wn : mn, l);
  else {
    if (m == "http://www.w3.org/2000/svg") e = e.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
    else if (e != "width" && e != "height" && e != "href" && e != "list" && e != "form" && e != "tabIndex" && e != "download" && e != "rowSpan" && e != "colSpan" && e != "role" && e != "popover" && e in i) try {
      i[e] = a ?? "";
      break e;
    } catch {
    }
    typeof a == "function" || (a == null || a === !1 && e[4] != "-" ? i.removeAttribute(e) : i.setAttribute(e, e == "popover" && a == 1 ? "" : a));
  }
}
function Qi(i) {
  return function(e) {
    if (this.l) {
      var a = this.l[e.type + i];
      if (e.t == null) e.t = kn++;
      else if (e.t < a.u) return;
      return a(se.event ? se.event(e) : e);
    }
  };
}
function Ln(i, e, a, u, m, l, y, t, c, d) {
  var b, g, f, o, r, _, h, p, E, I, C, R, A, P, D, q, F, T = e.type;
  if (e.constructor !== void 0) return null;
  128 & a.__u && (c = !!(32 & a.__u), l = [t = e.__e = a.__e]), (b = se.__b) && b(e);
  e: if (typeof T == "function") try {
    if (p = e.props, E = "prototype" in T && T.prototype.render, I = (b = T.contextType) && u[b.__c], C = b ? I ? I.props.value : b.__ : u, a.__c ? h = (g = e.__c = a.__c).__ = g.__E : (E ? e.__c = g = new T(p, C) : (e.__c = g = new St(p, C), g.constructor = T, g.render = na), I && I.sub(g), g.props = p, g.state || (g.state = {}), g.context = C, g.__n = u, f = g.__d = !0, g.__h = [], g._sb = []), E && g.__s == null && (g.__s = g.state), E && T.getDerivedStateFromProps != null && (g.__s == g.state && (g.__s = Te({}, g.__s)), Te(g.__s, T.getDerivedStateFromProps(p, g.__s))), o = g.props, r = g.state, g.__v = e, f) E && T.getDerivedStateFromProps == null && g.componentWillMount != null && g.componentWillMount(), E && g.componentDidMount != null && g.__h.push(g.componentDidMount);
    else {
      if (E && T.getDerivedStateFromProps == null && p !== o && g.componentWillReceiveProps != null && g.componentWillReceiveProps(p, C), !g.__e && (g.shouldComponentUpdate != null && g.shouldComponentUpdate(p, g.__s, C) === !1 || e.__v == a.__v)) {
        for (e.__v != a.__v && (g.props = p, g.state = g.__s, g.__d = !1), e.__e = a.__e, e.__k = a.__k, e.__k.some(function(H) {
          H && (H.__ = e);
        }), R = 0; R < g._sb.length; R++) g.__h.push(g._sb[R]);
        g._sb = [], g.__h.length && y.push(g);
        break e;
      }
      g.componentWillUpdate != null && g.componentWillUpdate(p, g.__s, C), E && g.componentDidUpdate != null && g.__h.push(function() {
        g.componentDidUpdate(o, r, _);
      });
    }
    if (g.context = C, g.props = p, g.__P = i, g.__e = !1, A = se.__r, P = 0, E) {
      for (g.state = g.__s, g.__d = !1, A && A(e), b = g.render(g.props, g.state, g.context), D = 0; D < g._sb.length; D++) g.__h.push(g._sb[D]);
      g._sb = [];
    } else do
      g.__d = !1, A && A(e), b = g.render(g.props, g.state, g.context), g.state = g.__s;
    while (g.__d && ++P < 25);
    g.state = g.__s, g.getChildContext != null && (u = Te(Te({}, u), g.getChildContext())), E && !f && g.getSnapshotBeforeUpdate != null && (_ = g.getSnapshotBeforeUpdate(o, r)), t = Xs(i, Kt(q = b != null && b.type === Rt && b.key == null ? b.props.children : b) ? q : [q], e, a, u, m, l, y, t, c, d), g.base = e.__e, e.__u &= -161, g.__h.length && y.push(g), h && (g.__E = g.__ = null);
  } catch (H) {
    if (e.__v = null, c || l != null) if (H.then) {
      for (e.__u |= c ? 160 : 128; t && t.nodeType == 8 && t.nextSibling; ) t = t.nextSibling;
      l[l.indexOf(t)] = null, e.__e = t;
    } else for (F = l.length; F--; ) An(l[F]);
    else e.__e = a.__e, e.__k = a.__k;
    se.__e(H, e, a);
  }
  else l == null && e.__v == a.__v ? (e.__k = a.__k, e.__e = a.__e) : t = e.__e = ra(a.__e, e, a, u, m, l, y, c, d);
  return (b = se.diffed) && b(e), 128 & e.__u ? void 0 : t;
}
function ro(i, e, a) {
  for (var u = 0; u < a.length; u++) Mn(a[u], a[++u], a[++u]);
  se.__c && se.__c(e, i), i.some(function(m) {
    try {
      i = m.__h, m.__h = [], i.some(function(l) {
        l.call(m);
      });
    } catch (l) {
      se.__e(l, m.__v);
    }
  });
}
function ra(i, e, a, u, m, l, y, t, c) {
  var d, b, g, f, o, r, _, h = a.props, p = e.props, E = e.type;
  if (E == "svg" ? m = "http://www.w3.org/2000/svg" : E == "math" ? m = "http://www.w3.org/1998/Math/MathML" : m || (m = "http://www.w3.org/1999/xhtml"), l != null) {
    for (d = 0; d < l.length; d++) if ((o = l[d]) && "setAttribute" in o == !!E && (E ? o.localName == E : o.nodeType == 3)) {
      i = o, l[d] = null;
      break;
    }
  }
  if (i == null) {
    if (E == null) return document.createTextNode(p);
    i = document.createElementNS(m, E, p.is && p), t && (se.__m && se.__m(e, l), t = !1), l = null;
  }
  if (E === null) h === p || t && i.data === p || (i.data = p);
  else {
    if (l = l && Ct.call(i.childNodes), h = a.props || xt, !t && l != null) for (h = {}, d = 0; d < i.attributes.length; d++) h[(o = i.attributes[d]).name] = o.value;
    for (d in h) if (o = h[d], d != "children") {
      if (d == "dangerouslySetInnerHTML") g = o;
      else if (!(d in p)) {
        if (d == "value" && "defaultValue" in p || d == "checked" && "defaultChecked" in p) continue;
        Pt(i, d, null, o, m);
      }
    }
    for (d in p) o = p[d], d == "children" ? f = o : d == "dangerouslySetInnerHTML" ? b = o : d == "value" ? r = o : d == "checked" ? _ = o : t && typeof o != "function" || h[d] === o || Pt(i, d, o, h[d], m);
    if (b) t || g && (b.__html === g.__html || b.__html === i.innerHTML) || (i.innerHTML = b.__html), e.__k = [];
    else if (g && (i.innerHTML = ""), Xs(i, Kt(f) ? f : [f], e, a, u, E == "foreignObject" ? "http://www.w3.org/1999/xhtml" : m, l, y, l ? l[0] : a.__k && Je(a, 0), t, c), l != null) for (d = l.length; d--; ) An(l[d]);
    t || (d = "value", E == "progress" && r == null ? i.removeAttribute("value") : r !== void 0 && (r !== i[d] || E == "progress" && !r || E == "option" && r !== h[d]) && Pt(i, d, r, h[d], m), d = "checked", _ !== void 0 && _ !== i[d] && Pt(i, d, _, h[d], m));
  }
  return i;
}
function Mn(i, e, a) {
  try {
    if (typeof i == "function") {
      var u = typeof i.__u == "function";
      u && i.__u(), u && e == null || (i.__u = i(e));
    } else i.current = e;
  } catch (m) {
    se.__e(m, a);
  }
}
function no(i, e, a) {
  var u, m;
  if (se.unmount && se.unmount(i), (u = i.ref) && (u.current && u.current !== i.__e || Mn(u, null, e)), (u = i.__c) != null) {
    if (u.componentWillUnmount) try {
      u.componentWillUnmount();
    } catch (l) {
      se.__e(l, e);
    }
    u.base = u.__P = null;
  }
  if (u = i.__k) for (m = 0; m < u.length; m++) u[m] && no(u[m], e, a || typeof i.type != "function");
  a || An(i.__e), i.__c = i.__ = i.__e = void 0;
}
function na(i, e, a) {
  return this.constructor(i, a);
}
function io(i, e, a) {
  var u, m, l, y;
  e == document && (e = document.documentElement), se.__ && se.__(i, e), m = (u = typeof a == "function") ? null : a && a.__k || e.__k, l = [], y = [], Ln(e, i = (!u && a || e).__k = vn(Rt, null, [i]), m || xt, xt, e.namespaceURI, !u && a ? [a] : m ? null : e.firstChild ? Ct.call(e.childNodes) : null, l, !u && a ? a : m ? m.__e : e.firstChild, u, y), ro(l, i, y);
}
function so(i, e) {
  io(i, e, so);
}
function ia(i, e, a) {
  var u, m, l, y, t = Te({}, i.props);
  for (l in i.type && i.type.defaultProps && (y = i.type.defaultProps), e) l == "key" ? u = e[l] : l == "ref" ? m = e[l] : t[l] = e[l] === void 0 && y !== void 0 ? y[l] : e[l];
  return arguments.length > 2 && (t.children = arguments.length > 3 ? Ct.call(arguments, 2) : a), Et(i.type, t, u || i.key, m || i.ref, null);
}
function sa(i, e) {
  var a = { __c: e = "__cC" + Ys++, __: i, Consumer: function(u, m) {
    return u.children(m);
  }, Provider: function(u) {
    var m, l;
    return this.getChildContext || (m = /* @__PURE__ */ new Set(), (l = {})[e] = this, this.getChildContext = function() {
      return l;
    }, this.componentWillUnmount = function() {
      m = null;
    }, this.shouldComponentUpdate = function(y) {
      this.props.value !== y.value && m.forEach(function(t) {
        t.__e = !0, En(t);
      });
    }, this.sub = function(y) {
      m.add(y);
      var t = y.componentWillUnmount;
      y.componentWillUnmount = function() {
        m && m.delete(y), t && t.call(y);
      };
    }), u.children;
  } };
  return a.Provider.__ = a.Consumer.contextType = a;
}
Ct = Js.slice, se = { __e: function(i, e, a, u) {
  for (var m, l, y; e = e.__; ) if ((m = e.__c) && !m.__) try {
    if ((l = m.constructor) && l.getDerivedStateFromError != null && (m.setState(l.getDerivedStateFromError(i)), y = m.__d), m.componentDidCatch != null && (m.componentDidCatch(i, u || {}), y = m.__d), y) return m.__E = m;
  } catch (t) {
    i = t;
  }
  throw i;
} }, zs = 0, Vs = function(i) {
  return i != null && i.constructor == null;
}, St.prototype.setState = function(i, e) {
  var a;
  a = this.__s != null && this.__s !== this.state ? this.__s : this.__s = Te({}, this.state), typeof i == "function" && (i = i(Te({}, a), this.props)), i && Te(a, i), i != null && this.__v && (e && this._sb.push(e), En(this));
}, St.prototype.forceUpdate = function(i) {
  this.__v && (this.__e = !0, i && this.__h.push(i), En(this));
}, St.prototype.render = Rt, He = [], Gs = typeof Promise == "function" ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, bn = function(i, e) {
  return i.__v.__b - e.__v.__b;
}, Ut.__r = 0, Zs = /(PointerCapture)$|Capture$/i, kn = 0, mn = Qi(!1), wn = Qi(!0), Ys = 0;
const oa = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Component: St,
  Fragment: Rt,
  cloneElement: ia,
  createContext: sa,
  createElement: vn,
  createRef: Xo,
  h: vn,
  hydrate: so,
  get isValidElement() {
    return Vs;
  },
  get options() {
    return se;
  },
  render: io,
  toChildArray: to
}, Symbol.toStringTag, { value: "Module" })), oo = /* @__PURE__ */ qt(oa);
var Pe, re, gn, Xi, Qe = 0, ao = [], ue = se, es = ue.__b, ts = ue.__r, rs = ue.diffed, ns = ue.__c, is = ue.unmount, ss = ue.__;
function $e(i, e) {
  ue.__h && ue.__h(re, i, Qe || e), Qe = 0;
  var a = re.__H || (re.__H = { __: [], __h: [] });
  return i >= a.__.length && a.__.push({}), a.__[i];
}
function co(i) {
  return Qe = 1, uo(ho, i);
}
function uo(i, e, a) {
  var u = $e(Pe++, 2);
  if (u.t = i, !u.__c && (u.__ = [a ? a(e) : ho(void 0, e), function(t) {
    var c = u.__N ? u.__N[0] : u.__[0], d = u.t(c, t);
    c !== d && (u.__N = [d, u.__[1]], u.__c.setState({}));
  }], u.__c = re, !re.u)) {
    var m = function(t, c, d) {
      if (!u.__c.__H) return !0;
      var b = u.__c.__H.__.filter(function(f) {
        return !!f.__c;
      });
      if (b.every(function(f) {
        return !f.__N;
      })) return !l || l.call(this, t, c, d);
      var g = u.__c.props !== t;
      return b.forEach(function(f) {
        if (f.__N) {
          var o = f.__[0];
          f.__ = f.__N, f.__N = void 0, o !== f.__[0] && (g = !0);
        }
      }), l && l.call(this, t, c, d) || g;
    };
    re.u = !0;
    var l = re.shouldComponentUpdate, y = re.componentWillUpdate;
    re.componentWillUpdate = function(t, c, d) {
      if (this.__e) {
        var b = l;
        l = void 0, m(t, c, d), l = b;
      }
      y && y.call(this, t, c, d);
    }, re.shouldComponentUpdate = m;
  }
  return u.__N || u.__;
}
function aa(i, e) {
  var a = $e(Pe++, 3);
  !ue.__s && Tn(a.__H, e) && (a.__ = i, a.i = e, re.__H.__h.push(a));
}
function lo(i, e) {
  var a = $e(Pe++, 4);
  !ue.__s && Tn(a.__H, e) && (a.__ = i, a.i = e, re.__h.push(a));
}
function ca(i) {
  return Qe = 5, Bn(function() {
    return { current: i };
  }, []);
}
function ua(i, e, a) {
  Qe = 6, lo(function() {
    return typeof i == "function" ? (i(e()), function() {
      return i(null);
    }) : i ? (i.current = e(), function() {
      return i.current = null;
    }) : void 0;
  }, a == null ? a : a.concat(i));
}
function Bn(i, e) {
  var a = $e(Pe++, 7);
  return Tn(a.__H, e) && (a.__ = i(), a.__H = e, a.__h = i), a.__;
}
function la(i, e) {
  return Qe = 8, Bn(function() {
    return i;
  }, e);
}
function ha(i) {
  var e = re.context[i.__c], a = $e(Pe++, 9);
  return a.c = i, e ? (a.__ == null && (a.__ = !0, e.sub(re)), e.props.value) : i.__;
}
function da(i, e) {
  ue.useDebugValue && ue.useDebugValue(e ? e(i) : i);
}
function fa(i) {
  var e = $e(Pe++, 10), a = co();
  return e.__ = i, re.componentDidCatch || (re.componentDidCatch = function(u, m) {
    e.__ && e.__(u, m), a[1](u);
  }), [a[0], function() {
    a[1](void 0);
  }];
}
function pa() {
  var i = $e(Pe++, 11);
  if (!i.__) {
    for (var e = re.__v; e !== null && !e.__m && e.__ !== null; ) e = e.__;
    var a = e.__m || (e.__m = [0, 0]);
    i.__ = "P" + a[0] + "-" + a[1]++;
  }
  return i.__;
}
function _a() {
  for (var i; i = ao.shift(); ) if (i.__P && i.__H) try {
    i.__H.__h.forEach(Dt), i.__H.__h.forEach(Sn), i.__H.__h = [];
  } catch (e) {
    i.__H.__h = [], ue.__e(e, i.__v);
  }
}
ue.__b = function(i) {
  re = null, es && es(i);
}, ue.__ = function(i, e) {
  i && e.__k && e.__k.__m && (i.__m = e.__k.__m), ss && ss(i, e);
}, ue.__r = function(i) {
  ts && ts(i), Pe = 0;
  var e = (re = i.__c).__H;
  e && (gn === re ? (e.__h = [], re.__h = [], e.__.forEach(function(a) {
    a.__N && (a.__ = a.__N), a.i = a.__N = void 0;
  })) : (e.__h.forEach(Dt), e.__h.forEach(Sn), e.__h = [], Pe = 0)), gn = re;
}, ue.diffed = function(i) {
  rs && rs(i);
  var e = i.__c;
  e && e.__H && (e.__H.__h.length && (ao.push(e) !== 1 && Xi === ue.requestAnimationFrame || ((Xi = ue.requestAnimationFrame) || ga)(_a)), e.__H.__.forEach(function(a) {
    a.i && (a.__H = a.i), a.i = void 0;
  })), gn = re = null;
}, ue.__c = function(i, e) {
  e.some(function(a) {
    try {
      a.__h.forEach(Dt), a.__h = a.__h.filter(function(u) {
        return !u.__ || Sn(u);
      });
    } catch (u) {
      e.some(function(m) {
        m.__h && (m.__h = []);
      }), e = [], ue.__e(u, a.__v);
    }
  }), ns && ns(i, e);
}, ue.unmount = function(i) {
  is && is(i);
  var e, a = i.__c;
  a && a.__H && (a.__H.__.forEach(function(u) {
    try {
      Dt(u);
    } catch (m) {
      e = m;
    }
  }), a.__H = void 0, e && ue.__e(e, a.__v));
};
var os = typeof requestAnimationFrame == "function";
function ga(i) {
  var e, a = function() {
    clearTimeout(u), os && cancelAnimationFrame(e), setTimeout(i);
  }, u = setTimeout(a, 100);
  os && (e = requestAnimationFrame(a));
}
function Dt(i) {
  var e = re, a = i.__c;
  typeof a == "function" && (i.__c = void 0, a()), re = e;
}
function Sn(i) {
  var e = re;
  i.__c = i.__(), re = e;
}
function Tn(i, e) {
  return !i || i.length !== e.length || e.some(function(a, u) {
    return a !== i[u];
  });
}
function ho(i, e) {
  return typeof e == "function" ? e(i) : e;
}
const ya = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  useCallback: la,
  useContext: ha,
  useDebugValue: da,
  useEffect: aa,
  useErrorBoundary: fa,
  useId: pa,
  useImperativeHandle: ua,
  useLayoutEffect: lo,
  useMemo: Bn,
  useReducer: uo,
  useRef: ca,
  useState: co
}, Symbol.toStringTag, { value: "Module" })), ba = /* @__PURE__ */ qt(ya);
var Nt = {}, as;
function ma() {
  return as || (as = 1, Object.defineProperty(Nt, "__esModule", { value: !0 }), Nt.default = ".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"), Nt;
}
var cs;
function fo() {
  return cs || (cs = 1, function(i) {
    var e = Tt.__importDefault || function(f) {
      return f && f.__esModule ? f : { default: f };
    };
    Object.defineProperty(i, "__esModule", { value: !0 }), i.SnackbarInstance = i.SnackbarContainer = i.Snackbar = void 0;
    const a = e($s), u = oo, m = ba, l = /* @__PURE__ */ Ht(), y = e(/* @__PURE__ */ ma()), t = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+", c = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";
    let d = class {
      constructor() {
        this.items = /* @__PURE__ */ new Map(), this.nextItemKey = 0, this.root = null, this.darkMode = (0, l.isDarkMode)();
      }
      attach(o) {
        this.root = document.createElement("div"), this.root.className = "-cbwsdk-snackbar-root", o.appendChild(this.root), this.render();
      }
      presentItem(o) {
        const r = this.nextItemKey++;
        return this.items.set(r, o), this.render(), () => {
          this.items.delete(r), this.render();
        };
      }
      clear() {
        this.items.clear(), this.render();
      }
      render() {
        this.root && (0, u.render)((0, u.h)(
          "div",
          null,
          (0, u.h)(i.SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([o, r]) => (0, u.h)(i.SnackbarInstance, Object.assign({}, r, { key: o }))))
        ), this.root);
      }
    };
    i.Snackbar = d;
    const b = (f) => (0, u.h)(
      "div",
      { class: (0, a.default)("-cbwsdk-snackbar-container") },
      (0, u.h)("style", null, y.default),
      (0, u.h)("div", { class: "-cbwsdk-snackbar" }, f.children)
    );
    i.SnackbarContainer = b;
    const g = ({ autoExpand: f, message: o, menuItems: r }) => {
      const [_, h] = (0, m.useState)(!0), [p, E] = (0, m.useState)(f ?? !1);
      (0, m.useEffect)(() => {
        const C = [
          window.setTimeout(() => {
            h(!1);
          }, 1),
          window.setTimeout(() => {
            E(!0);
          }, 1e4)
        ];
        return () => {
          C.forEach(window.clearTimeout);
        };
      });
      const I = () => {
        E(!p);
      };
      return (0, u.h)(
        "div",
        { class: (0, a.default)("-cbwsdk-snackbar-instance", _ && "-cbwsdk-snackbar-instance-hidden", p && "-cbwsdk-snackbar-instance-expanded") },
        (0, u.h)(
          "div",
          { class: "-cbwsdk-snackbar-instance-header", onClick: I },
          (0, u.h)("img", { src: t, class: "-cbwsdk-snackbar-instance-header-cblogo" }),
          " ",
          (0, u.h)("div", { class: "-cbwsdk-snackbar-instance-header-message" }, o),
          (0, u.h)(
            "div",
            { class: "-gear-container" },
            !p && (0, u.h)(
              "svg",
              { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" },
              (0, u.h)("circle", { cx: "12", cy: "12", r: "12", fill: "#F5F7F8" })
            ),
            (0, u.h)("img", { src: c, class: "-gear-icon", title: "Expand" })
          )
        ),
        r && r.length > 0 && (0, u.h)("div", { class: "-cbwsdk-snackbar-instance-menu" }, r.map((C, R) => (0, u.h)(
          "div",
          { class: (0, a.default)("-cbwsdk-snackbar-instance-menu-item", C.isRed && "-cbwsdk-snackbar-instance-menu-item-is-red"), onClick: C.onClick, key: R },
          (0, u.h)(
            "svg",
            { width: C.svgWidth, height: C.svgHeight, viewBox: "0 0 10 11", fill: "none", xmlns: "http://www.w3.org/2000/svg" },
            (0, u.h)("path", { "fill-rule": C.defaultFillRule, "clip-rule": C.defaultClipRule, d: C.path, fill: "#AAAAAA" })
          ),
          (0, u.h)("span", { class: (0, a.default)("-cbwsdk-snackbar-instance-menu-item-info", C.isRed && "-cbwsdk-snackbar-instance-menu-item-info-is-red") }, C.info)
        )))
      );
    };
    i.SnackbarInstance = g;
  }(Tt)), Tt;
}
var us;
function wa() {
  if (us) return bt;
  us = 1, Object.defineProperty(bt, "__esModule", { value: !0 }), bt.WalletLinkRelayUI = void 0;
  const i = /* @__PURE__ */ Hs(), e = /* @__PURE__ */ fo();
  let a = class {
    constructor() {
      this.attached = !1, this.snackbar = new e.Snackbar();
    }
    attach() {
      if (this.attached)
        throw new Error("Coinbase Wallet SDK UI is already attached");
      const m = document.documentElement, l = document.createElement("div");
      l.className = "-cbwsdk-css-reset", m.appendChild(l), this.snackbar.attach(l), this.attached = !0, (0, i.injectCssReset)();
    }
    showConnecting(m) {
      let l;
      return m.isUnlinkedErrorState ? l = {
        autoExpand: !0,
        message: "Connection lost",
        menuItems: [
          {
            isRed: !1,
            info: "Reset connection",
            svgWidth: "10",
            svgHeight: "11",
            path: "M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",
            defaultFillRule: "evenodd",
            defaultClipRule: "evenodd",
            onClick: m.onResetConnection
          }
        ]
      } : l = {
        message: "Confirm on phone",
        menuItems: [
          {
            isRed: !0,
            info: "Cancel transaction",
            svgWidth: "11",
            svgHeight: "11",
            path: "M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",
            defaultFillRule: "inherit",
            defaultClipRule: "inherit",
            onClick: m.onCancel
          },
          {
            isRed: !1,
            info: "Reset connection",
            svgWidth: "10",
            svgHeight: "11",
            path: "M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",
            defaultFillRule: "evenodd",
            defaultClipRule: "evenodd",
            onClick: m.onResetConnection
          }
        ]
      }, this.snackbar.presentItem(l);
    }
  };
  return bt.WalletLinkRelayUI = a, bt;
}
var mt = {}, Ge = {}, Ot = {}, ls;
function va() {
  return ls || (ls = 1, Object.defineProperty(Ot, "__esModule", { value: !0 }), Ot.default = ".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"), Ot;
}
var hs;
function Ea() {
  if (hs) return Ge;
  hs = 1;
  var i = Ge.__importDefault || function(d) {
    return d && d.__esModule ? d : { default: d };
  };
  Object.defineProperty(Ge, "__esModule", { value: !0 }), Ge.RedirectDialog = void 0;
  const e = i($s), a = oo, u = /* @__PURE__ */ Hs(), m = /* @__PURE__ */ fo(), l = /* @__PURE__ */ Ht(), y = i(/* @__PURE__ */ va());
  let t = class {
    constructor() {
      this.root = null, this.darkMode = (0, l.isDarkMode)();
    }
    attach() {
      const b = document.documentElement;
      this.root = document.createElement("div"), this.root.className = "-cbwsdk-css-reset", b.appendChild(this.root), (0, u.injectCssReset)();
    }
    present(b) {
      this.render(b);
    }
    clear() {
      this.render(null);
    }
    render(b) {
      this.root && ((0, a.render)(null, this.root), b && (0, a.render)((0, a.h)(c, Object.assign({}, b, { onDismiss: () => {
        this.clear();
      }, darkMode: this.darkMode })), this.root));
    }
  };
  Ge.RedirectDialog = t;
  const c = ({ title: d, buttonText: b, darkMode: g, onButtonClick: f, onDismiss: o }) => {
    const r = g ? "dark" : "light";
    return (0, a.h)(
      m.SnackbarContainer,
      { darkMode: g },
      (0, a.h)(
        "div",
        { class: "-cbwsdk-redirect-dialog" },
        (0, a.h)("style", null, y.default),
        (0, a.h)("div", { class: "-cbwsdk-redirect-dialog-backdrop", onClick: o }),
        (0, a.h)(
          "div",
          { class: (0, e.default)("-cbwsdk-redirect-dialog-box", r) },
          (0, a.h)("p", null, d),
          (0, a.h)("button", { onClick: f }, b)
        )
      )
    );
  };
  return Ge;
}
var Be = {}, ds;
function Pn() {
  return ds || (ds = 1, Object.defineProperty(Be, "__esModule", { value: !0 }), Be.CBW_MOBILE_DEEPLINK_URL = Be.WALLETLINK_URL = Be.CB_KEYS_URL = void 0, Be.CB_KEYS_URL = "https://keys.coinbase.com/connect", Be.WALLETLINK_URL = "https://www.walletlink.org", Be.CBW_MOBILE_DEEPLINK_URL = "https://go.cb-w.com/walletlink"), Be;
}
var fs;
function Sa() {
  if (fs) return mt;
  fs = 1, Object.defineProperty(mt, "__esModule", { value: !0 }), mt.WLMobileRelayUI = void 0;
  const i = /* @__PURE__ */ Ea(), e = /* @__PURE__ */ Ht(), a = /* @__PURE__ */ Pn();
  let u = class {
    constructor() {
      this.attached = !1, this.redirectDialog = new i.RedirectDialog();
    }
    attach() {
      if (this.attached)
        throw new Error("Coinbase Wallet SDK UI is already attached");
      this.redirectDialog.attach(), this.attached = !0;
    }
    redirectToCoinbaseWallet(l) {
      const y = new URL(a.CBW_MOBILE_DEEPLINK_URL);
      y.searchParams.append("redirect_url", (0, e.getLocation)().href), l && y.searchParams.append("wl_url", l);
      const t = document.createElement("a");
      t.target = "cbw-opener", t.href = y.href, t.rel = "noreferrer noopener", t.click();
    }
    openCoinbaseWalletDeeplink(l) {
      this.redirectDialog.present({
        title: "Redirecting to Coinbase Wallet...",
        buttonText: "Open",
        onButtonClick: () => {
          this.redirectToCoinbaseWallet(l);
        }
      }), setTimeout(() => {
        this.redirectToCoinbaseWallet(l);
      }, 99);
    }
    showConnecting(l) {
      return () => {
        this.redirectDialog.clear();
      };
    }
  };
  return mt.WLMobileRelayUI = u, mt;
}
var ps;
function xa() {
  if (ps) return ft;
  ps = 1, Object.defineProperty(ft, "__esModule", { value: !0 }), ft.WalletLinkRelay = void 0;
  const i = /* @__PURE__ */ Ho(), e = /* @__PURE__ */ In(), a = /* @__PURE__ */ qs(), u = /* @__PURE__ */ Zo(), m = /* @__PURE__ */ xn(), l = /* @__PURE__ */ Ht(), y = /* @__PURE__ */ wa(), t = /* @__PURE__ */ Sa(), c = /* @__PURE__ */ Ne(), d = /* @__PURE__ */ Oe(), b = /* @__PURE__ */ Ke();
  let g = class je {
    constructor(o) {
      this.accountsCallback = null, this.chainCallbackParams = { chainId: "", jsonRpcUrl: "" }, this.chainCallback = null, this.dappDefaultChain = 1, this.isMobileWeb = (0, l.isMobileWeb)(), this.appName = "", this.appLogoUrl = null, this.linkedUpdated = (p) => {
        this.isLinked = p;
        const E = this.storage.getItem(e.LOCAL_STORAGE_ADDRESSES_KEY);
        if (p && (this._session.linked = p), this.isUnlinkedErrorState = !1, E) {
          const I = E.split(" "), C = this.storage.getItem("IsStandaloneSigning") === "true";
          I[0] !== "" && !p && this._session.linked && !C && (this.isUnlinkedErrorState = !0);
        }
      }, this.metadataUpdated = (p, E) => {
        this.storage.setItem(p, E);
      }, this.chainUpdated = (p, E) => {
        this.chainCallbackParams.chainId === p && this.chainCallbackParams.jsonRpcUrl === E || (this.chainCallbackParams = {
          chainId: p,
          jsonRpcUrl: E
        }, this.chainCallback && this.chainCallback(p, E));
      }, this.accountUpdated = (p) => {
        this.accountsCallback && this.accountsCallback([p]), je.accountRequestCallbackIds.size > 0 && (Array.from(je.accountRequestCallbackIds.values()).forEach((E) => {
          const I = {
            type: "WEB3_RESPONSE",
            id: E,
            response: {
              method: "requestEthereumAccounts",
              result: [p]
            }
          };
          this.invokeCallback(Object.assign(Object.assign({}, I), { id: E }));
        }), je.accountRequestCallbackIds.clear());
      }, this.resetAndReload = this.resetAndReload.bind(this), this.linkAPIUrl = o.linkAPIUrl, this.storage = o.storage;
      const { session: r, ui: _, connection: h } = this.subscribe();
      this._session = r, this.connection = h, this.relayEventManager = new a.RelayEventManager(), this.ui = _;
    }
    subscribe() {
      const o = u.WalletLinkSession.load(this.storage) || new u.WalletLinkSession(this.storage).save(), { linkAPIUrl: r } = this, _ = new i.WalletLinkConnection({
        session: o,
        linkAPIUrl: r,
        listener: this
      }), h = this.isMobileWeb ? new t.WLMobileRelayUI() : new y.WalletLinkRelayUI();
      return _.connect(), { session: o, ui: h, connection: _ };
    }
    attachUI() {
      this.ui.attach();
    }
    resetAndReload() {
      Promise.race([
        this.connection.setSessionMetadata("__destroyed", "1"),
        new Promise((o) => setTimeout(() => o(null), 1e3))
      ]).then(() => {
        this.connection.destroy();
        const o = u.WalletLinkSession.load(this.storage);
        (o == null ? void 0 : o.id) === this._session.id && b.ScopedLocalStorage.clearAll(), document.location.reload();
      }).catch((o) => {
      });
    }
    setAppInfo(o, r) {
      this.appName = o, this.appLogoUrl = r;
    }
    getStorageItem(o) {
      return this.storage.getItem(o);
    }
    setStorageItem(o, r) {
      this.storage.setItem(o, r);
    }
    signEthereumMessage(o, r, _, h) {
      return this.sendRequest({
        method: "signEthereumMessage",
        params: {
          message: (0, d.hexStringFromBuffer)(o, !0),
          address: r,
          addPrefix: _,
          typedDataJson: h || null
        }
      });
    }
    ethereumAddressFromSignedMessage(o, r, _) {
      return this.sendRequest({
        method: "ethereumAddressFromSignedMessage",
        params: {
          message: (0, d.hexStringFromBuffer)(o, !0),
          signature: (0, d.hexStringFromBuffer)(r, !0),
          addPrefix: _
        }
      });
    }
    signEthereumTransaction(o) {
      return this.sendRequest({
        method: "signEthereumTransaction",
        params: {
          fromAddress: o.fromAddress,
          toAddress: o.toAddress,
          weiValue: (0, d.bigIntStringFromBigInt)(o.weiValue),
          data: (0, d.hexStringFromBuffer)(o.data, !0),
          nonce: o.nonce,
          gasPriceInWei: o.gasPriceInWei ? (0, d.bigIntStringFromBigInt)(o.gasPriceInWei) : null,
          maxFeePerGas: o.gasPriceInWei ? (0, d.bigIntStringFromBigInt)(o.gasPriceInWei) : null,
          maxPriorityFeePerGas: o.gasPriceInWei ? (0, d.bigIntStringFromBigInt)(o.gasPriceInWei) : null,
          gasLimit: o.gasLimit ? (0, d.bigIntStringFromBigInt)(o.gasLimit) : null,
          chainId: o.chainId,
          shouldSubmit: !1
        }
      });
    }
    signAndSubmitEthereumTransaction(o) {
      return this.sendRequest({
        method: "signEthereumTransaction",
        params: {
          fromAddress: o.fromAddress,
          toAddress: o.toAddress,
          weiValue: (0, d.bigIntStringFromBigInt)(o.weiValue),
          data: (0, d.hexStringFromBuffer)(o.data, !0),
          nonce: o.nonce,
          gasPriceInWei: o.gasPriceInWei ? (0, d.bigIntStringFromBigInt)(o.gasPriceInWei) : null,
          maxFeePerGas: o.maxFeePerGas ? (0, d.bigIntStringFromBigInt)(o.maxFeePerGas) : null,
          maxPriorityFeePerGas: o.maxPriorityFeePerGas ? (0, d.bigIntStringFromBigInt)(o.maxPriorityFeePerGas) : null,
          gasLimit: o.gasLimit ? (0, d.bigIntStringFromBigInt)(o.gasLimit) : null,
          chainId: o.chainId,
          shouldSubmit: !0
        }
      });
    }
    submitEthereumTransaction(o, r) {
      return this.sendRequest({
        method: "submitEthereumTransaction",
        params: {
          signedTransaction: (0, d.hexStringFromBuffer)(o, !0),
          chainId: r
        }
      });
    }
    scanQRCode(o) {
      return this.sendRequest({
        method: "scanQRCode",
        params: {
          regExp: o
        }
      });
    }
    getWalletLinkSession() {
      return this._session;
    }
    genericRequest(o, r) {
      return this.sendRequest({
        method: "generic",
        params: {
          action: r,
          data: o
        }
      });
    }
    sendGenericMessage(o) {
      return this.sendRequest(o);
    }
    sendRequest(o) {
      let r = null;
      const _ = (0, d.randomBytesHex)(8), h = (p) => {
        this.publishWeb3RequestCanceledEvent(_), this.handleErrorResponse(_, o.method, p), r == null || r();
      };
      return new Promise((p, E) => {
        r = this.ui.showConnecting({
          isUnlinkedErrorState: this.isUnlinkedErrorState,
          onCancel: h,
          onResetConnection: this.resetAndReload
          // eslint-disable-line @typescript-eslint/unbound-method
        }), this.relayEventManager.callbacks.set(_, (I) => {
          if (r == null || r(), (0, m.isErrorResponse)(I))
            return E(new Error(I.errorMessage));
          p(I);
        }), this.publishWeb3RequestEvent(_, o);
      });
    }
    setAccountsCallback(o) {
      this.accountsCallback = o;
    }
    setChainCallback(o) {
      this.chainCallback = o;
    }
    setDappDefaultChainCallback(o) {
      this.dappDefaultChain = o;
    }
    publishWeb3RequestEvent(o, r) {
      const _ = { type: "WEB3_REQUEST", id: o, request: r };
      this.publishEvent("Web3Request", _, !0).then((h) => {
      }).catch((h) => {
        this.handleWeb3ResponseMessage({
          type: "WEB3_RESPONSE",
          id: _.id,
          response: {
            method: r.method,
            errorMessage: h.message
          }
        });
      }), this.isMobileWeb && this.openCoinbaseWalletDeeplink(r.method);
    }
    // copied from MobileRelay
    openCoinbaseWalletDeeplink(o) {
      if (this.ui instanceof t.WLMobileRelayUI)
        switch (o) {
          case "requestEthereumAccounts":
          // requestEthereumAccounts is handled via popup
          case "switchEthereumChain":
            return;
          default:
            window.addEventListener("blur", () => {
              window.addEventListener("focus", () => {
                this.connection.checkUnseenEvents();
              }, { once: !0 });
            }, { once: !0 }), this.ui.openCoinbaseWalletDeeplink();
            break;
        }
    }
    publishWeb3RequestCanceledEvent(o) {
      const r = {
        type: "WEB3_REQUEST_CANCELED",
        id: o
      };
      this.publishEvent("Web3RequestCanceled", r, !1).then();
    }
    publishEvent(o, r, _) {
      return this.connection.publishEvent(o, r, _);
    }
    handleWeb3ResponseMessage(o) {
      const { response: r } = o;
      if (r.method === "requestEthereumAccounts") {
        je.accountRequestCallbackIds.forEach((_) => this.invokeCallback(Object.assign(Object.assign({}, o), { id: _ }))), je.accountRequestCallbackIds.clear();
        return;
      }
      this.invokeCallback(o);
    }
    handleErrorResponse(o, r, _) {
      var h;
      const p = (h = _ == null ? void 0 : _.message) !== null && h !== void 0 ? h : "Unspecified error message.";
      this.handleWeb3ResponseMessage({
        type: "WEB3_RESPONSE",
        id: o,
        response: {
          method: r,
          errorMessage: p
        }
      });
    }
    invokeCallback(o) {
      const r = this.relayEventManager.callbacks.get(o.id);
      r && (r(o.response), this.relayEventManager.callbacks.delete(o.id));
    }
    requestEthereumAccounts() {
      const o = {
        method: "requestEthereumAccounts",
        params: {
          appName: this.appName,
          appLogoUrl: this.appLogoUrl || null
        }
      }, r = (0, d.randomBytesHex)(8);
      return new Promise((_, h) => {
        this.relayEventManager.callbacks.set(r, (p) => {
          if ((0, m.isErrorResponse)(p))
            return h(new Error(p.errorMessage));
          _(p);
        }), je.accountRequestCallbackIds.add(r), this.publishWeb3RequestEvent(r, o);
      });
    }
    watchAsset(o, r, _, h, p, E) {
      const I = {
        method: "watchAsset",
        params: {
          type: o,
          options: {
            address: r,
            symbol: _,
            decimals: h,
            image: p
          },
          chainId: E
        }
      };
      let C = null;
      const R = (0, d.randomBytesHex)(8), A = (P) => {
        this.publishWeb3RequestCanceledEvent(R), this.handleErrorResponse(R, I.method, P), C == null || C();
      };
      return C = this.ui.showConnecting({
        isUnlinkedErrorState: this.isUnlinkedErrorState,
        onCancel: A,
        onResetConnection: this.resetAndReload
        // eslint-disable-line @typescript-eslint/unbound-method
      }), new Promise((P, D) => {
        this.relayEventManager.callbacks.set(R, (q) => {
          if (C == null || C(), (0, m.isErrorResponse)(q))
            return D(new Error(q.errorMessage));
          P(q);
        }), this.publishWeb3RequestEvent(R, I);
      });
    }
    addEthereumChain(o, r, _, h, p, E) {
      const I = {
        method: "addEthereumChain",
        params: {
          chainId: o,
          rpcUrls: r,
          blockExplorerUrls: h,
          chainName: p,
          iconUrls: _,
          nativeCurrency: E
        }
      };
      let C = null;
      const R = (0, d.randomBytesHex)(8), A = (P) => {
        this.publishWeb3RequestCanceledEvent(R), this.handleErrorResponse(R, I.method, P), C == null || C();
      };
      return C = this.ui.showConnecting({
        isUnlinkedErrorState: this.isUnlinkedErrorState,
        onCancel: A,
        onResetConnection: this.resetAndReload
        // eslint-disable-line @typescript-eslint/unbound-method
      }), new Promise((P, D) => {
        this.relayEventManager.callbacks.set(R, (q) => {
          if (C == null || C(), (0, m.isErrorResponse)(q))
            return D(new Error(q.errorMessage));
          P(q);
        }), this.publishWeb3RequestEvent(R, I);
      });
    }
    switchEthereumChain(o, r) {
      const _ = {
        method: "switchEthereumChain",
        params: Object.assign({ chainId: o }, { address: r })
      }, h = (0, d.randomBytesHex)(8);
      return new Promise((p, E) => {
        this.relayEventManager.callbacks.set(h, (I) => {
          if ((0, m.isErrorResponse)(I) && I.errorCode)
            return E(c.standardErrors.provider.custom({
              code: I.errorCode,
              message: "Unrecognized chain ID. Try adding the chain using addEthereumChain first."
            }));
          if ((0, m.isErrorResponse)(I))
            return E(new Error(I.errorMessage));
          p(I);
        }), this.publishWeb3RequestEvent(h, _);
      });
    }
  };
  return ft.WalletLinkRelay = g, g.accountRequestCallbackIds = /* @__PURE__ */ new Set(), ft;
}
var _s;
function Ca() {
  if (_s) return ze;
  _s = 1;
  var i = ze.__importDefault || function(o) {
    return o && o.__esModule ? o : { default: o };
  };
  Object.defineProperty(ze, "__esModule", { value: !0 }), ze.WalletLinkSigner = void 0;
  const e = i(/* @__PURE__ */ qo()), a = /* @__PURE__ */ In(), u = /* @__PURE__ */ qs(), m = /* @__PURE__ */ xn(), l = /* @__PURE__ */ xa(), y = /* @__PURE__ */ Pn(), t = /* @__PURE__ */ Ne(), c = /* @__PURE__ */ Oe(), d = /* @__PURE__ */ Ke(), b = "DefaultChainId", g = "DefaultJsonRpcUrl";
  let f = class {
    constructor(r) {
      var _, h;
      this._relay = null, this._addresses = [], this.hasMadeFirstChainChangedEmission = !1;
      const { appName: p, appLogoUrl: E } = r.metadata;
      this._appName = p, this._appLogoUrl = E, this._storage = new d.ScopedLocalStorage("walletlink", y.WALLETLINK_URL), this.updateListener = r.updateListener, this._relayEventManager = new u.RelayEventManager(), this._jsonRpcUrlFromOpts = "";
      const I = this._storage.getItem(a.LOCAL_STORAGE_ADDRESSES_KEY);
      if (I) {
        const R = I.split(" ");
        R[0] !== "" && (this._addresses = R.map((A) => (0, c.ensureAddressString)(A)), (_ = this.updateListener) === null || _ === void 0 || _.onAccountsUpdate({
          accounts: this._addresses,
          source: "storage"
        }));
      }
      this._storage.getItem(b) && ((h = this.updateListener) === null || h === void 0 || h.onChainUpdate({
        chain: {
          id: this.getChainId(),
          rpcUrl: this.jsonRpcUrl
        },
        source: "storage"
      }), this.hasMadeFirstChainChangedEmission = !0), this.initializeRelay();
    }
    getSession() {
      const r = this.initializeRelay(), { id: _, secret: h } = r.getWalletLinkSession();
      return { id: _, secret: h };
    }
    async handshake() {
      return await this.request({ method: "eth_requestAccounts" });
    }
    get selectedAddress() {
      return this._addresses[0] || void 0;
    }
    get jsonRpcUrl() {
      var r;
      return (r = this._storage.getItem(g)) !== null && r !== void 0 ? r : this._jsonRpcUrlFromOpts;
    }
    set jsonRpcUrl(r) {
      this._storage.setItem(g, r);
    }
    updateProviderInfo(r, _) {
      var h;
      this.jsonRpcUrl = r;
      const p = this.getChainId();
      this._storage.setItem(b, _.toString(10)), ((0, c.ensureIntNumber)(_) !== p || !this.hasMadeFirstChainChangedEmission) && ((h = this.updateListener) === null || h === void 0 || h.onChainUpdate({
        chain: { id: _, rpcUrl: r },
        source: "wallet"
      }), this.hasMadeFirstChainChangedEmission = !0);
    }
    async watchAsset(r, _, h, p, E, I) {
      const R = await this.initializeRelay().watchAsset(r, _, h, p, E, I == null ? void 0 : I.toString());
      return (0, m.isErrorResponse)(R) ? !1 : !!R.result;
    }
    async addEthereumChain(r, _, h, p, E, I) {
      var C, R;
      if ((0, c.ensureIntNumber)(r) === this.getChainId())
        return !1;
      const A = this.initializeRelay();
      this._isAuthorized() || await A.requestEthereumAccounts();
      const P = await A.addEthereumChain(r.toString(), _, E, h, p, I);
      return (0, m.isErrorResponse)(P) ? !1 : (((C = P.result) === null || C === void 0 ? void 0 : C.isApproved) === !0 && this.updateProviderInfo(_[0], r), ((R = P.result) === null || R === void 0 ? void 0 : R.isApproved) === !0);
    }
    async switchEthereumChain(r) {
      const h = await this.initializeRelay().switchEthereumChain(r.toString(10), this.selectedAddress || void 0);
      if ((0, m.isErrorResponse)(h)) {
        if (!h.errorCode)
          return;
        throw h.errorCode === t.standardErrorCodes.provider.unsupportedChain ? t.standardErrors.provider.unsupportedChain() : t.standardErrors.provider.custom({
          message: h.errorMessage,
          code: h.errorCode
        });
      }
      const p = h.result;
      p.isApproved && p.rpcUrl.length > 0 && this.updateProviderInfo(p.rpcUrl, r);
    }
    async disconnect() {
      this._relay && this._relay.resetAndReload(), this._storage.clear();
    }
    async request(r) {
      try {
        return this._request(r).catch((_) => {
          throw _;
        });
      } catch (_) {
        return Promise.reject(_);
      }
    }
    async _request(r) {
      if (!r || typeof r != "object" || Array.isArray(r))
        throw t.standardErrors.rpc.invalidRequest({
          message: "Expected a single, non-array, object argument.",
          data: r
        });
      const { method: _, params: h } = r;
      if (typeof _ != "string" || _.length === 0)
        throw t.standardErrors.rpc.invalidRequest({
          message: "'args.method' must be a non-empty string.",
          data: r
        });
      if (h !== void 0 && !Array.isArray(h) && (typeof h != "object" || h === null))
        throw t.standardErrors.rpc.invalidRequest({
          message: "'args.params' must be an object or array if provided.",
          data: r
        });
      const p = h === void 0 ? [] : h, E = this._relayEventManager.makeRequestId();
      return (await this._sendRequestAsync({
        method: _,
        params: p,
        jsonrpc: "2.0",
        id: E
      })).result;
    }
    _setAddresses(r, _) {
      var h;
      if (!Array.isArray(r))
        throw new Error("addresses is not an array");
      const p = r.map((E) => (0, c.ensureAddressString)(E));
      JSON.stringify(p) !== JSON.stringify(this._addresses) && (this._addresses = p, (h = this.updateListener) === null || h === void 0 || h.onAccountsUpdate({
        accounts: p,
        source: "wallet"
      }), this._storage.setItem(a.LOCAL_STORAGE_ADDRESSES_KEY, p.join(" ")));
    }
    _sendRequestAsync(r) {
      return new Promise((_, h) => {
        try {
          const p = this._handleSynchronousMethods(r);
          if (p !== void 0)
            return _({
              jsonrpc: "2.0",
              id: r.id,
              result: p
            });
        } catch (p) {
          return h(p);
        }
        this._handleAsynchronousMethods(r).then((p) => p && _(Object.assign(Object.assign({}, p), { id: r.id }))).catch((p) => h(p));
      });
    }
    _handleSynchronousMethods(r) {
      const { method: _ } = r;
      switch (_) {
        case "eth_accounts":
          return this._eth_accounts();
        case "eth_coinbase":
          return this._eth_coinbase();
        case "net_version":
          return this._net_version();
        case "eth_chainId":
          return this._eth_chainId();
        default:
          return;
      }
    }
    async _handleAsynchronousMethods(r) {
      const { method: _ } = r, h = r.params || [];
      switch (_) {
        case "eth_requestAccounts":
          return this._eth_requestAccounts();
        case "eth_sign":
          return this._eth_sign(h);
        case "eth_ecRecover":
          return this._eth_ecRecover(h);
        case "personal_sign":
          return this._personal_sign(h);
        case "personal_ecRecover":
          return this._personal_ecRecover(h);
        case "eth_signTransaction":
          return this._eth_signTransaction(h);
        case "eth_sendRawTransaction":
          return this._eth_sendRawTransaction(h);
        case "eth_sendTransaction":
          return this._eth_sendTransaction(h);
        case "eth_signTypedData_v1":
          return this._eth_signTypedData_v1(h);
        case "eth_signTypedData_v2":
          return this._throwUnsupportedMethodError();
        case "eth_signTypedData_v3":
          return this._eth_signTypedData_v3(h);
        case "eth_signTypedData_v4":
        case "eth_signTypedData":
          return this._eth_signTypedData_v4(h);
        case "wallet_addEthereumChain":
          return this._wallet_addEthereumChain(h);
        case "wallet_switchEthereumChain":
          return this._wallet_switchEthereumChain(h);
        case "wallet_watchAsset":
          return this._wallet_watchAsset(h);
        default:
          return this._throwUnsupportedMethodError();
      }
    }
    _isKnownAddress(r) {
      try {
        const _ = (0, c.ensureAddressString)(r);
        return this._addresses.map((p) => (0, c.ensureAddressString)(p)).includes(_);
      } catch {
      }
      return !1;
    }
    _ensureKnownAddress(r) {
      if (!this._isKnownAddress(r))
        throw new Error("Unknown Ethereum address");
    }
    _prepareTransactionParams(r) {
      const _ = r.from ? (0, c.ensureAddressString)(r.from) : this.selectedAddress;
      if (!_)
        throw new Error("Ethereum address is unavailable");
      this._ensureKnownAddress(_);
      const h = r.to ? (0, c.ensureAddressString)(r.to) : null, p = r.value != null ? (0, c.ensureBigInt)(r.value) : BigInt(0), E = r.data ? (0, c.ensureBuffer)(r.data) : Buffer.alloc(0), I = r.nonce != null ? (0, c.ensureIntNumber)(r.nonce) : null, C = r.gasPrice != null ? (0, c.ensureBigInt)(r.gasPrice) : null, R = r.maxFeePerGas != null ? (0, c.ensureBigInt)(r.maxFeePerGas) : null, A = r.maxPriorityFeePerGas != null ? (0, c.ensureBigInt)(r.maxPriorityFeePerGas) : null, P = r.gas != null ? (0, c.ensureBigInt)(r.gas) : null, D = r.chainId ? (0, c.ensureIntNumber)(r.chainId) : this.getChainId();
      return {
        fromAddress: _,
        toAddress: h,
        weiValue: p,
        data: E,
        nonce: I,
        gasPriceInWei: C,
        maxFeePerGas: R,
        maxPriorityFeePerGas: A,
        gasLimit: P,
        chainId: D
      };
    }
    _isAuthorized() {
      return this._addresses.length > 0;
    }
    _requireAuthorization() {
      if (!this._isAuthorized())
        throw t.standardErrors.provider.unauthorized({});
    }
    _throwUnsupportedMethodError() {
      throw t.standardErrors.provider.unsupportedMethod({});
    }
    async _signEthereumMessage(r, _, h, p) {
      this._ensureKnownAddress(_);
      try {
        const I = await this.initializeRelay().signEthereumMessage(r, _, h, p);
        if ((0, m.isErrorResponse)(I))
          throw new Error(I.errorMessage);
        return { jsonrpc: "2.0", id: 0, result: I.result };
      } catch (E) {
        throw typeof E.message == "string" && E.message.match(/(denied|rejected)/i) ? t.standardErrors.provider.userRejectedRequest("User denied message signature") : E;
      }
    }
    async _ethereumAddressFromSignedMessage(r, _, h) {
      const E = await this.initializeRelay().ethereumAddressFromSignedMessage(r, _, h);
      if ((0, m.isErrorResponse)(E))
        throw new Error(E.errorMessage);
      return { jsonrpc: "2.0", id: 0, result: E.result };
    }
    _eth_accounts() {
      return [...this._addresses];
    }
    _eth_coinbase() {
      return this.selectedAddress || null;
    }
    _net_version() {
      return this.getChainId().toString(10);
    }
    _eth_chainId() {
      return (0, c.hexStringFromIntNumber)(this.getChainId());
    }
    getChainId() {
      const r = this._storage.getItem(b);
      if (!r)
        return (0, c.ensureIntNumber)(1);
      const _ = parseInt(r, 10);
      return (0, c.ensureIntNumber)(_);
    }
    async _eth_requestAccounts() {
      if (this._isAuthorized())
        return Promise.resolve({
          jsonrpc: "2.0",
          id: 0,
          result: this._addresses
        });
      let r;
      try {
        if (r = await this.initializeRelay().requestEthereumAccounts(), (0, m.isErrorResponse)(r))
          throw new Error(r.errorMessage);
      } catch (_) {
        throw typeof _.message == "string" && _.message.match(/(denied|rejected)/i) ? t.standardErrors.provider.userRejectedRequest("User denied account authorization") : _;
      }
      if (!r.result)
        throw new Error("accounts received is empty");
      return this._setAddresses(r.result), { jsonrpc: "2.0", id: 0, result: this._addresses };
    }
    _eth_sign(r) {
      this._requireAuthorization();
      const _ = (0, c.ensureAddressString)(r[0]), h = (0, c.ensureBuffer)(r[1]);
      return this._signEthereumMessage(h, _, !1);
    }
    _eth_ecRecover(r) {
      const _ = (0, c.ensureBuffer)(r[0]), h = (0, c.ensureBuffer)(r[1]);
      return this._ethereumAddressFromSignedMessage(_, h, !1);
    }
    _personal_sign(r) {
      this._requireAuthorization();
      const _ = (0, c.ensureBuffer)(r[0]), h = (0, c.ensureAddressString)(r[1]);
      return this._signEthereumMessage(_, h, !0);
    }
    _personal_ecRecover(r) {
      const _ = (0, c.ensureBuffer)(r[0]), h = (0, c.ensureBuffer)(r[1]);
      return this._ethereumAddressFromSignedMessage(_, h, !0);
    }
    async _eth_signTransaction(r) {
      this._requireAuthorization();
      const _ = this._prepareTransactionParams(r[0] || {});
      try {
        const p = await this.initializeRelay().signEthereumTransaction(_);
        if ((0, m.isErrorResponse)(p))
          throw new Error(p.errorMessage);
        return { jsonrpc: "2.0", id: 0, result: p.result };
      } catch (h) {
        throw typeof h.message == "string" && h.message.match(/(denied|rejected)/i) ? t.standardErrors.provider.userRejectedRequest("User denied transaction signature") : h;
      }
    }
    async _eth_sendRawTransaction(r) {
      const _ = (0, c.ensureBuffer)(r[0]), p = await this.initializeRelay().submitEthereumTransaction(_, this.getChainId());
      if ((0, m.isErrorResponse)(p))
        throw new Error(p.errorMessage);
      return { jsonrpc: "2.0", id: 0, result: p.result };
    }
    async _eth_sendTransaction(r) {
      this._requireAuthorization();
      const _ = this._prepareTransactionParams(r[0] || {});
      try {
        const p = await this.initializeRelay().signAndSubmitEthereumTransaction(_);
        if ((0, m.isErrorResponse)(p))
          throw new Error(p.errorMessage);
        return { jsonrpc: "2.0", id: 0, result: p.result };
      } catch (h) {
        throw typeof h.message == "string" && h.message.match(/(denied|rejected)/i) ? t.standardErrors.provider.userRejectedRequest("User denied transaction signature") : h;
      }
    }
    async _eth_signTypedData_v1(r) {
      this._requireAuthorization();
      const _ = (0, c.ensureParsedJSONObject)(r[0]), h = (0, c.ensureAddressString)(r[1]);
      this._ensureKnownAddress(h);
      const p = e.default.hashForSignTypedDataLegacy({ data: _ }), E = JSON.stringify(_, null, 2);
      return this._signEthereumMessage(p, h, !1, E);
    }
    async _eth_signTypedData_v3(r) {
      this._requireAuthorization();
      const _ = (0, c.ensureAddressString)(r[0]), h = (0, c.ensureParsedJSONObject)(r[1]);
      this._ensureKnownAddress(_);
      const p = e.default.hashForSignTypedData_v3({ data: h }), E = JSON.stringify(h, null, 2);
      return this._signEthereumMessage(p, _, !1, E);
    }
    async _eth_signTypedData_v4(r) {
      this._requireAuthorization();
      const _ = (0, c.ensureAddressString)(r[0]), h = (0, c.ensureParsedJSONObject)(r[1]);
      this._ensureKnownAddress(_);
      const p = e.default.hashForSignTypedData_v4({ data: h }), E = JSON.stringify(h, null, 2);
      return this._signEthereumMessage(p, _, !1, E);
    }
    async _wallet_addEthereumChain(r) {
      var _, h, p, E;
      const I = r[0];
      if (((_ = I.rpcUrls) === null || _ === void 0 ? void 0 : _.length) === 0)
        return {
          jsonrpc: "2.0",
          id: 0,
          error: { code: 2, message: "please pass in at least 1 rpcUrl" }
        };
      if (!I.chainName || I.chainName.trim() === "")
        throw t.standardErrors.rpc.invalidParams("chainName is a required field");
      if (!I.nativeCurrency)
        throw t.standardErrors.rpc.invalidParams("nativeCurrency is a required field");
      const C = parseInt(I.chainId, 16);
      return await this.addEthereumChain(C, (h = I.rpcUrls) !== null && h !== void 0 ? h : [], (p = I.blockExplorerUrls) !== null && p !== void 0 ? p : [], I.chainName, (E = I.iconUrls) !== null && E !== void 0 ? E : [], I.nativeCurrency) ? { jsonrpc: "2.0", id: 0, result: null } : {
        jsonrpc: "2.0",
        id: 0,
        error: { code: 2, message: "unable to add ethereum chain" }
      };
    }
    async _wallet_switchEthereumChain(r) {
      const _ = r[0];
      return await this.switchEthereumChain(parseInt(_.chainId, 16)), { jsonrpc: "2.0", id: 0, result: null };
    }
    async _wallet_watchAsset(r) {
      const _ = Array.isArray(r) ? r[0] : r;
      if (!_.type)
        throw t.standardErrors.rpc.invalidParams("Type is required");
      if ((_ == null ? void 0 : _.type) !== "ERC20")
        throw t.standardErrors.rpc.invalidParams(`Asset of type '${_.type}' is not supported`);
      if (!(_ != null && _.options))
        throw t.standardErrors.rpc.invalidParams("Options are required");
      if (!(_ != null && _.options.address))
        throw t.standardErrors.rpc.invalidParams("Address is required");
      const h = this.getChainId(), { address: p, symbol: E, image: I, decimals: C } = _.options;
      return { jsonrpc: "2.0", id: 0, result: await this.watchAsset(_.type, p, E, C, I, h) };
    }
    initializeRelay() {
      if (!this._relay) {
        const r = new l.WalletLinkRelay({
          linkAPIUrl: y.WALLETLINK_URL,
          storage: this._storage
        });
        r.setAppInfo(this._appName, this._appLogoUrl), r.attachUI(), r.setAccountsCallback((_, h) => this._setAddresses(_, h)), r.setChainCallback((_, h) => {
          this.updateProviderInfo(h, parseInt(_, 10));
        }), this._relay = r;
      }
      return this._relay;
    }
  };
  return ze.WalletLinkSigner = f, ze;
}
var Ie = {}, gs;
function Nn() {
  if (gs) return Ie;
  gs = 1, Object.defineProperty(Ie, "__esModule", { value: !0 }), Ie.checkErrorForInvalidRequestArgs = Ie.getCoinbaseInjectedProvider = Ie.getCoinbaseInjectedSigner = Ie.fetchRPCRequest = void 0;
  const i = /* @__PURE__ */ Ft(), e = /* @__PURE__ */ Ne();
  async function a(y, t) {
    if (!t.rpcUrl)
      throw e.standardErrors.rpc.internal("No RPC URL set for chain");
    const c = Object.assign(Object.assign({}, y), { jsonrpc: "2.0", id: crypto.randomUUID() });
    return (await (await window.fetch(t.rpcUrl, {
      method: "POST",
      body: JSON.stringify(c),
      mode: "cors",
      headers: { "Content-Type": "application/json", "X-Cbw-Sdk-Version": i.LIB_VERSION }
    })).json()).result;
  }
  Ie.fetchRPCRequest = a;
  function u() {
    return globalThis.coinbaseWalletSigner;
  }
  Ie.getCoinbaseInjectedSigner = u;
  function m({ metadata: y, preference: t }) {
    var c, d, b;
    const g = globalThis;
    if (t.options !== "smartWalletOnly") {
      if (u())
        return;
      const r = g.coinbaseWalletExtension;
      if (r) {
        const { appName: _, appLogoUrl: h, appChainIds: p } = y;
        return (c = r.setAppInfo) === null || c === void 0 || c.call(r, _, h, p), r;
      }
    }
    const f = (d = g.ethereum) !== null && d !== void 0 ? d : (b = g.top) === null || b === void 0 ? void 0 : b.ethereum;
    if (f != null && f.isCoinbaseBrowser)
      return f;
  }
  Ie.getCoinbaseInjectedProvider = m;
  function l(y) {
    if (!y || typeof y != "object" || Array.isArray(y))
      return e.standardErrors.rpc.invalidParams({
        message: "Expected a single, non-array, object argument.",
        data: y
      });
    const { method: t, params: c } = y;
    if (typeof t != "string" || t.length === 0)
      return e.standardErrors.rpc.invalidParams({
        message: "'args.method' must be a non-empty string.",
        data: y
      });
    if (c !== void 0 && !Array.isArray(c) && (typeof c != "object" || c === null))
      return e.standardErrors.rpc.invalidParams({
        message: "'args.params' must be an object or array if provided.",
        data: y
      });
  }
  return Ie.checkErrorForInvalidRequestArgs = l, Ie;
}
var ys;
function Ra() {
  if (ys) return Ce;
  ys = 1, Object.defineProperty(Ce, "__esModule", { value: !0 }), Ce.createSigner = Ce.fetchSignerType = Ce.storeSignerType = Ce.loadSignerType = void 0;
  const i = /* @__PURE__ */ vo(), e = /* @__PURE__ */ Ca(), a = /* @__PURE__ */ Ne(), u = /* @__PURE__ */ Nn(), m = /* @__PURE__ */ Ke(), l = "SignerType", y = new m.ScopedLocalStorage("CBWSDK", "SignerConfigurator");
  function t() {
    return y.getItem(l);
  }
  Ce.loadSignerType = t;
  function c(f) {
    y.setItem(l, f);
  }
  Ce.storeSignerType = c;
  async function d(f) {
    const { communicator: o, metadata: r } = f;
    g(o, r).catch(() => {
    });
    const _ = {
      id: crypto.randomUUID(),
      event: "selectSignerType",
      data: f.preference
    }, { data: h } = await o.postRequestAndWaitForResponse(_);
    return h;
  }
  Ce.fetchSignerType = d;
  function b(f) {
    const { signerType: o, metadata: r, communicator: _, updateListener: h } = f;
    switch (o) {
      case "scw":
        return new i.SCWSigner({
          metadata: r,
          updateListener: h,
          communicator: _
        });
      case "walletlink":
        return new e.WalletLinkSigner({
          metadata: r,
          updateListener: h
        });
      case "extension": {
        const p = (0, u.getCoinbaseInjectedSigner)();
        if (!p)
          throw a.standardErrors.rpc.internal("injected signer not found");
        return p;
      }
    }
  }
  Ce.createSigner = b;
  async function g(f, o) {
    await f.onMessage(({ event: _ }) => _ === "WalletLinkSessionRequest");
    const r = new e.WalletLinkSigner({
      metadata: o
    });
    f.postMessage({
      event: "WalletLinkUpdate",
      data: { session: r.getSession() }
    }), await r.handshake(), f.postMessage({
      event: "WalletLinkUpdate",
      data: { connected: !0 }
    });
  }
  return Ce;
}
var wt = {}, Fe = {}, bs;
function Ia() {
  if (bs) return Fe;
  bs = 1, Object.defineProperty(Fe, "__esModule", { value: !0 }), Fe.closePopup = Fe.openPopup = void 0;
  const i = /* @__PURE__ */ Ne(), e = 420, a = 540;
  function u(l) {
    const y = (window.innerWidth - e) / 2 + window.screenX, t = (window.innerHeight - a) / 2 + window.screenY, c = window.open(l, "Smart Wallet", `width=${e}, height=${a}, left=${y}, top=${t}`);
    if (c == null || c.focus(), !c)
      throw i.standardErrors.rpc.internal("Pop up window failed to open");
    return c;
  }
  Fe.openPopup = u;
  function m(l) {
    l && !l.closed && l.close();
  }
  return Fe.closePopup = m, Fe;
}
var ms;
function ka() {
  if (ms) return wt;
  ms = 1, Object.defineProperty(wt, "__esModule", { value: !0 }), wt.Communicator = void 0;
  const i = /* @__PURE__ */ Ft(), e = /* @__PURE__ */ Ia(), a = /* @__PURE__ */ Pn(), u = /* @__PURE__ */ Ne();
  let m = class {
    constructor(y = a.CB_KEYS_URL) {
      this.popup = null, this.listeners = /* @__PURE__ */ new Map(), this.postMessage = async (t) => {
        (await this.waitForPopupLoaded()).postMessage(t, this.url.origin);
      }, this.postRequestAndWaitForResponse = async (t) => {
        const c = this.onMessage(({ requestId: d }) => d === t.id);
        return this.postMessage(t), await c;
      }, this.onMessage = async (t) => new Promise((c, d) => {
        const b = (g) => {
          if (g.origin !== this.url.origin)
            return;
          const f = g.data;
          t(f) && (c(f), window.removeEventListener("message", b), this.listeners.delete(b));
        };
        window.addEventListener("message", b), this.listeners.set(b, { reject: d });
      }), this.disconnect = () => {
        (0, e.closePopup)(this.popup), this.popup = null, this.listeners.forEach(({ reject: t }, c) => {
          t(u.standardErrors.provider.userRejectedRequest("Request rejected")), window.removeEventListener("message", c);
        }), this.listeners.clear();
      }, this.waitForPopupLoaded = async () => this.popup && !this.popup.closed ? this.popup : (this.popup = (0, e.openPopup)(this.url), this.onMessage(({ event: t }) => t === "PopupUnload").then(this.disconnect).catch(() => {
      }), this.onMessage(({ event: t }) => t === "PopupLoaded").then((t) => {
        this.postMessage({
          requestId: t.id,
          data: { version: i.LIB_VERSION }
        });
      }).then(() => {
        if (!this.popup)
          throw u.standardErrors.rpc.internal();
        return this.popup;
      })), this.url = new URL(y);
    }
  };
  return wt.Communicator = m, wt;
}
var vt = {}, ws;
function Aa() {
  if (ws) return vt;
  ws = 1, Object.defineProperty(vt, "__esModule", { value: !0 }), vt.determineMethodCategory = void 0;
  const i = {
    handshake: ["eth_requestAccounts"],
    sign: [
      "eth_ecRecover",
      "personal_sign",
      "personal_ecRecover",
      "eth_signTransaction",
      "eth_sendTransaction",
      "eth_signTypedData_v1",
      "eth_signTypedData_v3",
      "eth_signTypedData_v4",
      "eth_signTypedData",
      "wallet_addEthereumChain",
      "wallet_switchEthereumChain",
      "wallet_watchAsset",
      "wallet_getCapabilities",
      "wallet_sendCalls",
      "wallet_showCallsStatus"
    ],
    state: [
      // internal state
      "eth_chainId",
      "eth_accounts",
      "eth_coinbase",
      "net_version"
    ],
    deprecated: ["eth_sign", "eth_signTypedData_v2"],
    unsupported: ["eth_subscribe", "eth_unsubscribe"],
    fetch: []
  };
  function e(a) {
    for (const u in i) {
      const m = u;
      if (i[m].includes(a))
        return m;
    }
  }
  return vt.determineMethodCategory = e, vt;
}
var vs;
function La() {
  if (vs) return Ue;
  vs = 1;
  var i = Ue.__rest || function(o, r) {
    var _ = {};
    for (var h in o) Object.prototype.hasOwnProperty.call(o, h) && r.indexOf(h) < 0 && (_[h] = o[h]);
    if (o != null && typeof Object.getOwnPropertySymbols == "function")
      for (var p = 0, h = Object.getOwnPropertySymbols(o); p < h.length; p++)
        r.indexOf(h[p]) < 0 && Object.prototype.propertyIsEnumerable.call(o, h[p]) && (_[h[p]] = o[h[p]]);
    return _;
  }, e = Ue.__importDefault || function(o) {
    return o && o.__esModule ? o : { default: o };
  };
  Object.defineProperty(Ue, "__esModule", { value: !0 }), Ue.CoinbaseWalletProvider = void 0;
  const a = e(go()), u = /* @__PURE__ */ Ne(), m = /* @__PURE__ */ bo(), l = /* @__PURE__ */ Cn(), y = /* @__PURE__ */ Oe(), t = /* @__PURE__ */ Ra(), c = /* @__PURE__ */ Nn(), d = /* @__PURE__ */ ka(), b = /* @__PURE__ */ Aa(), g = /* @__PURE__ */ Ke();
  let f = class extends a.default {
    constructor(r) {
      var _, h, { metadata: p } = r, E = r.preference, { keysUrl: I } = E, C = i(E, ["keysUrl"]);
      super(), this.accounts = [], this.handlers = {
        // eth_requestAccounts
        handshake: async (A) => {
          try {
            if (this.connected)
              return this.emit("connect", { chainId: (0, y.hexStringFromIntNumber)((0, l.IntNumber)(this.chain.id)) }), this.accounts;
            const P = await this.requestSignerSelection(), D = this.initSigner(P), q = await D.handshake();
            return this.signer = D, (0, t.storeSignerType)(P), this.emit("connect", { chainId: (0, y.hexStringFromIntNumber)((0, l.IntNumber)(this.chain.id)) }), q;
          } catch (P) {
            throw this.handleUnauthorizedError(P), P;
          }
        },
        sign: async (A) => {
          if (!this.connected || !this.signer)
            throw u.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");
          try {
            return await this.signer.request(A);
          } catch (P) {
            throw this.handleUnauthorizedError(P), P;
          }
        },
        fetch: (A) => (0, c.fetchRPCRequest)(A, this.chain),
        state: (A) => {
          const P = () => {
            if (this.connected)
              return this.accounts;
            throw u.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");
          };
          switch (A.method) {
            case "eth_chainId":
              return (0, y.hexStringFromIntNumber)((0, l.IntNumber)(this.chain.id));
            case "net_version":
              return this.chain.id;
            case "eth_accounts":
              return P();
            case "eth_coinbase":
              return P()[0];
            default:
              return this.handlers.unsupported(A);
          }
        },
        deprecated: ({ method: A }) => {
          throw u.standardErrors.rpc.methodNotSupported(`Method ${A} is deprecated.`);
        },
        unsupported: ({ method: A }) => {
          throw u.standardErrors.rpc.methodNotSupported(`Method ${A} is not supported.`);
        }
      }, this.isCoinbaseWallet = !0, this.updateListener = {
        onAccountsUpdate: ({ accounts: A, source: P }) => {
          (0, y.areAddressArraysEqual)(this.accounts, A) || (this.accounts = A, P !== "storage" && this.emit("accountsChanged", this.accounts));
        },
        onChainUpdate: ({ chain: A, source: P }) => {
          A.id === this.chain.id && A.rpcUrl === this.chain.rpcUrl || (this.chain = A, P !== "storage" && this.emit("chainChanged", (0, y.hexStringFromIntNumber)((0, l.IntNumber)(A.id))));
        }
      }, this.metadata = p, this.preference = C, this.communicator = new d.Communicator(I), this.chain = {
        id: (h = (_ = p.appChainIds) === null || _ === void 0 ? void 0 : _[0]) !== null && h !== void 0 ? h : 1
      };
      const R = (0, t.loadSignerType)();
      this.signer = R ? this.initSigner(R) : null;
    }
    get connected() {
      return this.accounts.length > 0;
    }
    async request(r) {
      var _;
      try {
        const h = (0, c.checkErrorForInvalidRequestArgs)(r);
        if (h)
          throw h;
        const p = (_ = (0, b.determineMethodCategory)(r.method)) !== null && _ !== void 0 ? _ : "fetch";
        return this.handlers[p](r);
      } catch (h) {
        return Promise.reject((0, m.serializeError)(h, r.method));
      }
    }
    handleUnauthorizedError(r) {
      r.code === u.standardErrorCodes.provider.unauthorized && this.disconnect();
    }
    /** @deprecated Use `.request({ method: 'eth_requestAccounts' })` instead. */
    async enable() {
      return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'), await this.request({
        method: "eth_requestAccounts"
      });
    }
    async disconnect() {
      this.accounts = [], this.chain = { id: 1 }, g.ScopedLocalStorage.clearAll(), this.emit("disconnect", u.standardErrors.provider.disconnected("User initiated disconnection"));
    }
    requestSignerSelection() {
      return (0, t.fetchSignerType)({
        communicator: this.communicator,
        preference: this.preference,
        metadata: this.metadata
      });
    }
    initSigner(r) {
      return (0, t.createSigner)({
        signerType: r,
        metadata: this.metadata,
        communicator: this.communicator,
        updateListener: this.updateListener
      });
    }
  };
  return Ue.CoinbaseWalletProvider = f, Ue;
}
var Es;
function Ss() {
  if (Es) return tt;
  Es = 1, Object.defineProperty(tt, "__esModule", { value: !0 }), tt.CoinbaseWalletSDK = void 0;
  const i = /* @__PURE__ */ _o(), e = /* @__PURE__ */ La(), a = /* @__PURE__ */ Ke(), u = /* @__PURE__ */ Ft(), m = /* @__PURE__ */ Oe(), l = /* @__PURE__ */ Nn();
  let y = class {
    constructor(c) {
      this.metadata = {
        appName: c.appName || "Dapp",
        appLogoUrl: c.appLogoUrl || (0, m.getFavicon)(),
        appChainIds: c.appChainIds || []
      }, this.storeLatestVersion();
    }
    makeWeb3Provider(c = { options: "all" }) {
      var d;
      const b = { metadata: this.metadata, preference: c };
      return (d = (0, l.getCoinbaseInjectedProvider)(b)) !== null && d !== void 0 ? d : new e.CoinbaseWalletProvider(b);
    }
    /**
     * Official Coinbase Wallet logo for developers to use on their frontend
     * @param type Type of wallet logo: "standard" | "circle" | "text" | "textWithLogo" | "textLight" | "textWithLogoLight"
     * @param width Width of the logo (Optional)
     * @returns SVG Data URI
     */
    getCoinbaseWalletLogo(c, d = 240) {
      return (0, i.walletLogo)(c, d);
    }
    storeLatestVersion() {
      new a.ScopedLocalStorage("CBWSDK").setItem("VERSION", u.LIB_VERSION);
    }
  };
  return tt.CoinbaseWalletSDK = y, tt;
}
var xs;
function Ma() {
  return xs || (xs = 1, function(i) {
    Object.defineProperty(i, "__esModule", { value: !0 }), i.CoinbaseWalletSDK = void 0;
    const e = /* @__PURE__ */ Ss();
    i.default = e.CoinbaseWalletSDK;
    var a = /* @__PURE__ */ Ss();
    Object.defineProperty(i, "CoinbaseWalletSDK", { enumerable: !0, get: function() {
      return a.CoinbaseWalletSDK;
    } });
  }(Mr)), Mr;
}
var Ba = /* @__PURE__ */ Ma();
const Ta = /* @__PURE__ */ po(Ba), Qa = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Ta
}, Symbol.toStringTag, { value: "Module" }));
export {
  Qa as i
};
//# sourceMappingURL=index-WVSPNOtI.js.map
